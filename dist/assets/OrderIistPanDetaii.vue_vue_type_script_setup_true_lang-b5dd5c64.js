import{_ as H}from"./MBtn.vue_vue_type_script_setup_true_lang-a414b1b5.js";import{d as f,o as e,y as u,w as $,B as h,c as n,a as s,b as i,F as g,D as B,t as a,i as _,g as I,n as K,C as R,u as F,s as z,N as E,e as k,k as w}from"./index-bb82d896.js";import{_ as J,a as L}from"./Pan.vue_vue_type_script_setup_true_lang-f8f522e0.js";import{_ as j}from"./OBtnSave.vue_vue_type_script_setup_true_lang-9b68bfc6.js";import{_ as q}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-cfa5df89.js";import{_ as A}from"./OTrPure.vue_vue_type_script_setup_true_lang-bb660a79.js";import{m as y}from"./view-b2e5d3cf.js";import{_ as G}from"./OTr.vue_vue_type_script_setup_true_lang-316f20de.js";import{_ as M,a as Q}from"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-9805f3d7.js";import{_ as U}from"./CkClipboard.vue_vue_type_script_setup_true_lang-c4b9b6e4.js";import{v}from"./vai_order-6a9f81ee.js";import{p as x}from"./pageOrderPina-472f46d7.js";const se=f({__name:"OBtnReset",setup(m){return(t,r)=>{const o=H;return e(),u(o,{bk:!0,class:"btn-weak px br hand mh-input mw-6em"},{default:$(()=>[h(" 重置過濾 ")]),_:1})}}}),W={class:"tabie tabie-def"},X={key:0},Y={class:"w-28"},Z={class:"w-20"},ss=s("div",{class:"fx-1"},null,-1),es={key:1,class:"td"},ts=s("div",{class:"w-100"},"(無)",-1),os=[ts],ns=s("div",{class:"py-row"},null,-1),_s={class:"tabie tabie-def"},rs={class:"td"},is={class:"w-28"},as=s("div",{class:"fx-1"},null,-1),ds=f({__name:"CoOrderDetaiiPriceTotaiTabie",props:{order:{}},setup(m){return(t,r)=>{const o=A;return e(),n("div",null,[s("div",W,[i(o,{trs:[{tit:"優惠類別",ciass:"w-100"}]}),t.order.discount&&t.order.discount.length>0?(e(),n("div",X,[(e(!0),n(g,null,B(t.order.discount,(d,c)=>(e(),n("div",{class:"td",key:c},[s("div",Y,a(d.type),1),s("div",Z,"- "+a(_(y)(d.discount_deduction))+"  HKD",1),ss]))),128))])):(e(),n("div",es,os))]),ns,s("div",_s,[i(o,{trs:[{tit:"統計金額",ciass:"w-100"}]}),s("div",rs,[s("div",is,"HKD  "+a(_(y)(t.order.total_price)),1),as])])])}}}),cs={class:"tabie tabie-def"},ps={key:0},ls={class:"w-28"},ms={class:"fx-1"},us={key:1,class:"td"},fs=s("div",{class:"fx-1"},"(未有任何條目)",-1),hs=[fs],vs=f({__name:"CoSpriPaymenTabie",props:{payments:{}},setup(m){const t=I({trs:[]});return K(()=>R(t,[{ciass:"w-100",tit:"付款方式"}])),(r,o)=>{const d=G;return e(),n("div",cs,[i(d,{aii:_(t)},null,8,["aii"]),r.payments&&r.payments.length>0?(e(),n("div",ps,[(e(!0),n(g,null,B(r.payments,(c,p)=>(e(),n("div",{class:"td",key:p},[s("div",ls,a(c.name),1),s("div",ms,a(_(y)(c.price))+" HKD",1)]))),128))])):(e(),n("div",us,hs))])}}}),$s={class:"bg-card tit pr-x2 pi-x3 py br"},ys={class:"pi-x2"},bs=s("p",{class:"b pb-n"},"訂單詳情",-1),ks={class:"fx-s pb-n"},ws={class:"w-40"},xs={class:"w-37"},gs={class:"fx-1"},Bs={key:0},Cs={key:1},Ds={class:"fx-s"},Os={class:"w-40"},Ns={key:0},Ts={key:1},Ps={class:"w-37"},Ss=s("span",null,"狀態: ",-1),Vs={class:"d-ib"},Hs=s("p",{class:"fx-1"}," ",-1),Is=f({__name:"CoOrderIistBaseCard",props:{order:{}},setup(m){return(t,r)=>{const o=U,d=M;return e(),n("div",$s,[s("div",ys,[bs,s("div",ks,[s("p",ws,[h(" 訂單編號: "+a(t.order.order_id)+"  ",1),i(o,{txt:t.order.order_id},null,8,["txt"])]),s("p",xs," 收銀員: "+a(_(v).cashier(t.order)),1),s("p",gs,[h(" 客戶:  "),_(v).member(t.order)?(e(),n("span",Bs,a(_(v).member(t.order)),1)):(e(),n("span",Cs,"(未選擇客戶)"))])]),s("div",Ds,[s("p",Os,[h(" 會員等級: "),t.order.member_level.name?(e(),n("span",Ns,a(t.order.member_level.name),1)):(e(),n("span",Ts,"(無)"))]),s("p",Ps,[Ss,s("div",Vs,[i(d,{class:"zi-x2-imp",order:t.order},null,8,["order"])])]),Hs])])])}}}),Ks=s("div",{class:"pt-row"},null,-1),Rs=s("div",{class:"py-row"},null,-1),Fs=s("div",{class:"py-row"},null,-1),zs={key:1,class:"py-row"},Es=s("div",{class:"py-row"},null,-1),Js={class:"py-x2 fx-c"},ee=f({__name:"OrderIistPanDetaii",props:{kiii_refund:{type:Boolean}},setup(m){const t=m,r=F(),{one_of_view:o}=z(x()),d=E(()=>t.kiii_refund?!1:v.need_refund(o.value)),c={printed:()=>w(()=>{sessionStorage.setItem("heiiokitty_order_of_printed",JSON.stringify(o.value));const p=r.resolve({path:"/cashier/order_iist/pdf"});window.open(p.href,"_blank")}),refund:()=>w(async()=>{const p=o.value;await x().fetchOne(p.id,"one_of_refund"),r.push("/admin/order_iist/refund")})};return(p,l)=>{const C=Is,D=Q,O=vs,N=ds,T=q,P=j,S=J,V=L;return e(),u(V,{idx:101,big:!0},{default:$(()=>[i(S,{tit:"訂單詳情"},{default:$(()=>[Ks,i(C,{order:_(o)},null,8,["order"]),Rs,i(D,{order:_(o)},null,8,["order"]),Fs,_(o).payment_method?(e(),u(O,{key:0,payments:_(o).payment_method},null,8,["payments"])):k("",!0),_(o).payment_method?(e(),n("div",zs)):k("",!0),i(N,{order:_(o)},null,8,["order"]),Es,s("div",Js,[_(d)?(e(),u(T,{key:0,class:"w-50 w-618-p",tit_back:"退款 / 退貨",onBack:l[0]||(l[0]=b=>c.refund()),onSave:l[1]||(l[1]=b=>c.printed())})):(e(),u(P,{key:1,onClick:l[2]||(l[2]=b=>c.printed()),class:"w-32 w-382-p",tit:"印列訂單"}))])]),_:1})]),_:1})}}});export{se as _,ee as a};
