import{_ as J,a as Q,b as W}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-9f4439b9.js";import{_ as X}from"./OPager.vue_vue_type_script_setup_true_lang-86ed0188.js";import{_ as Y}from"./OBtnPius.vue_vue_type_script_setup_true_lang-1c8cc024.js";import{_ as Z}from"./OSearch.vue_vue_type_script_setup_true_lang-974aa553.js";import{_ as ii}from"./OSeiect.vue_vue_type_script_setup_true_lang-b228f1c7.js";import{g as ti}from"./giobaiPina-312315c7.js";import{f as v,l as oi,c as ei,n as D,i as ni,r as F,h as j,k as w,d as si}from"./credit-f7bb6a57.js";import{d as y,s as z,A as T,p as ri,k as E,o as b,e as k,b as e,n as V,u as s,a as n,q as N,c as U,w as m,l as ai,F as _i,t as f,D as pi,g as P,j as h,m as $,v as g,f as ci}from"./index-ecdfbad0.js";import{_ as mi}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-26e26c6f.js";import{_ as ui}from"./OTabieEdit.vue_vue_type_script_setup_true_lang-c34a2abd.js";import{_ as li}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-8297c0a3.js";import{pageProducEditPina as O}from"./pageProducEditPina-092e83a7.js";import{pageProductInstockPina as M}from"./pageProductInstockPina-51f539da.js";import{a as C,b as S,c as di}from"./iodash-8a8cb9b0.js";import{v as fi}from"./view-01767316.js";import{_ as G,a as H}from"./Pan.vue_vue_type_script_setup_true_lang-2acb7758.js";import{_ as bi}from"./OBtnSave.vue_vue_type_script_setup_true_lang-19e7a200.js";import{_ as K}from"./OInputI.vue_vue_type_script_setup_true_lang-834f1076.js";import{_ as wi}from"./OInput.vue_vue_type_script_setup_true_lang-c288ee49.js";import{_ as hi}from"./OTime.vue_vue_type_script_setup_true_lang-b87ef999.js";import{_ as vi,a as $i,b as gi,c as yi,d as ki}from"./ProduInstockTabie.vue_vue_type_script_setup_true_lang-48928089.js";import{_ as Pi}from"./OTrPure.vue_vue_type_script_setup_true_lang-f33f39f9.js";import{c as Ci}from"./choiseOnePina-4da362b2.js";import{b as Vi}from"./net-tooi-4fdf0d83.js";import{t as Ti}from"./product_trs-7e7b39e7.js";import{_ as Ui}from"./MBtn.vue_vue_type_script_setup_true_lang-06b927df.js";import{s as xi}from"./serv_product_iist-ea3938d5.js";import{b as q}from"./route-block-83d24a4e.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-7201d6f7.js";import"./Oi.vue_vue_type_script_setup_true_lang-3b88d7e5.js";import"./XMarkIcon-939f3d4f.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-0d4b5b7c.js";import"./datepicker.esm-a8e37e1c.js";import"./serv_iabei_iist-5c7df8b5.js";import"./conn-18cb3692.js";import"./errors_user-be6d0865.js";import"./serv_suppiier_iist-db2b9a2b.js";import"./serv_user_iist-5dd872af.js";import"./serv_warehouse_iist-4473edb6.js";import"./OTabieIoading.vue_vue_type_script_setup_true_lang-9d1327ae.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-ba0560bb.js";import"./OTr.vue_vue_type_script_setup_true_lang-a20664bc.js";import"./serv_iabei_with_product-407a59c0.js";import"./utii-8cc23e43.js";import"./serv_variation_with_product-278cc60c.js";import"./OOpenPan.vue_vue_type_script_setup_true_lang-0f4f5ba0.js";import"./errors_product-174667b5.js";const Ii={class:"fx-s"},Fi={class:"fx-1 row fx-i"},Bi={class:"pi fx-c"},Ri=e("span",{class:"px-s"},null,-1),Ai=y({__name:"ProductIistFiiter",props:{aii:{}},emits:["search"],setup(l,{emit:i}){const p=l,o={search:()=>p.aii.ioading?void 0:i("search"),reset:()=>v(()=>{oi({},p.aii.condition),o.search()})},{iabeis:t,suppiiers:a}=z(ti()),_=T(()=>D(t.value,"標籤")),u=T(()=>D(a.value,"供應商")),c=ri(0);return E(()=>ei(7,()=>c.value+=1,32)),(r,d)=>{const x=ii,B=J,R=Z,A=Q,L=Y;return b(),k("div",Ii,[e("div",Fi,[e("div",{class:V(["w-20 op-0",{"ani-fiiter":s(c)>=0}])},[n(x,{class:"input w-100 ip-fiiter",onChange:d[0]||(d[0]=I=>o.search()),form:r.aii.condition,pk:"label",many:s(_)},null,8,["form","many"])],2),e("div",{class:V(["w-20 op-0",{"ani-fiiter":s(c)>=1}])},[n(x,{class:"input w-100 ip-fiiter",onChange:d[1]||(d[1]=I=>o.search()),form:r.aii.condition,pk:"supplier",many:s(u)},null,8,["form","many"])],2),e("div",{class:V(["w-21 w-28-p op-0",{"ani-fiiter":s(c)>=2}])},[n(B,{onResuit:d[2]||(d[2]=I=>o.search()),class:"input ip-fiiter",form:r.aii.condition,pk:"new_restock_date",pchd:"最新入貨日期"},null,8,["form"])],2),n(R,{onResuit:d[3]||(d[3]=I=>o.search()),pchd:"請輸入產品編號、名稱進行搜索",class:V(["fx-1 op-0 ip-fiiter",{"ani-fiiter":s(c)>=3}]),aii:r.aii.condition,pk:"search"},null,8,["class","aii"])]),e("div",Bi,[n(A,{aii:r.aii,onClick:d[4]||(d[4]=I=>o.search())},null,8,["aii"]),Ri,n(L,{class:V(["py op-0",{"ani-fiiter":s(c)>=4}]),tit:"添加產品資料",out:!0},null,8,["class"])])])}}}),Di={class:"w-9"},Oi={class:"w-12"},Si={class:"w-10"},qi={class:"w-15 pr-s"},ji={class:"w-11"},zi={class:"w-11"},Ei={class:"w-9"},Ni={class:"w-10"},Mi={class:"fx-1 fx-s"},Gi={class:"d-ib fx-wp pi ta-r"},Hi={class:"fx-r w-100"},Ki=y({__name:"ProductIistTabie",props:{aii:{}},setup(l){const i=l,p=N();E(()=>ni(i.aii,[{ciass:"w-9",tit:"產品編號",sort_up:()=>v(()=>C(i.aii.many,"product_id",!0)),sort_down:()=>v(()=>C(i.aii.many,"product_id")),sort_reset:()=>F(i.aii)},{ciass:"w-12",tit:"產品名稱"},{ciass:"w-10",tit:"供應商"},{ciass:"w-15",tit:"最新入貨時間",sort_up:()=>v(()=>S(i.aii.many,"new_restock_date",!0)),sort_down:()=>v(()=>S(i.aii.many,"new_restock_date")),sort_reset:()=>F(i.aii)},{ciass:"w-11",tit:"最新入貨價錢"},{ciass:"w-11",tit:"最新最低價錢"},{ciass:"w-9",tit:"最新售價",sort_up:()=>v(()=>C(i.aii.many,"new_selling_price",!0)),sort_down:()=>v(()=>C(i.aii.many,"new_selling_price")),sort_reset:()=>F(i.aii)},{ciass:"w-10",tit:"入貨平均價"},{ciass:"fx-1",tit:"庫存",sort_up:()=>v(()=>C(i.aii.many,"total_stock",!0)),sort_down:()=>v(()=>C(i.aii.many,"total_stock")),sort_reset:()=>F(i.aii)}]));const o={editFuture:async t=>{O().ciear(),await O().fetchOne(t)},dump:()=>p.push("/admin/product_inventory_iist/edit"),fetchOne:async t=>{await M().fetchOne(t)&&pi(101)}};return(t,a)=>{const _=li,u=ui,c=mi;return b(),U(c,{aii:t.aii},{default:m(()=>[(b(!0),k(_i,null,ai(t.aii.many,(r,d)=>(b(),k("div",{class:"td",key:d},[e("div",Di,f(r.product_id),1),e("div",Oi,f(r.name),1),e("div",Si,f(r.new_supplier),1),e("div",qi,f(s(fi)(r.new_restock_date)),1),e("div",ji,f(r.new_restock_price),1),e("div",zi,f(r.new_lowest_price),1),e("div",Ei,f(r.new_selling_price),1),e("div",Ni,f(r.average_restock_price),1),e("div",Mi,[e("div",null,f(r.total_stock),1),e("div",Gi,[n(_,{id:r.id,func:o.fetchOne,class:"w-100",tit:"庫存詳情"},null,8,["id","func"]),e("div",Hi,[n(u,{class:"txt-pri",id:r.id,func:o.editFuture,onTap:o.dump},null,8,["id","func","onTap"])])])])]))),128))]),_:1},8,["aii"])}}}),Li={class:"o-form"},Ji=y({__name:"CoProductInventAiiocatForm",props:{form:{},aii:{}},setup(l){const i=l,p=["num_warehouse"],o=P(j(i.form));return h(()=>i.aii.sign,()=>{p.map(t=>{if(w(o,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.num_warehouse,t=>w(o,"num_warehouse",t,i.aii)),(t,a)=>{const _=K;return b(),k("div",Li,[n(_,{tit:"倉庫數量",err:s(o).num_warehouse,icon:"store"},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=u=>t.form.num_warehouse=u),type:"number",placeholder:"請輸入"},null,512),[[g,t.form.num_warehouse]])]),_:1},8,["err"]),n(_,{tit:"A店鋪數量",err:s(o).num_a_shop,icon:"store"},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[1]||(a[1]=u=>t.form.num_a_shop=u),type:"number",placeholder:"請輸入"},null,512),[[g,t.form.num_a_shop]])]),_:1},8,["err"]),n(_,{tit:"B店鋪數量",err:s(o).num_b_shop,icon:"store"},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[2]||(a[2]=u=>t.form.num_b_shop=u),type:"number",placeholder:"請輸入"},null,512),[[g,t.form.num_b_shop]])]),_:1},8,["err"])])}}}),Qi={class:"o-form"},Wi=y({__name:"CoProductIncomeCreatForm",props:{form:{},aii:{}},setup(l){const i=l,p=["in_date","in_time","suppiier_number","suppiier_name","name","number","in_price","iow_price","price","invent"],o=P(j(i.form));return h(()=>i.aii.sign,()=>{p.map(t=>{if(w(o,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.in_date,t=>w(o,"in_date",t,i.aii)),h(()=>i.form.in_time,t=>w(o,"in_time",t,i.aii)),h(()=>i.form.suppiier_number,t=>w(o,"suppiier_number",t,i.aii)),h(()=>i.form.suppiier_name,t=>w(o,"suppiier_name",t,i.aii)),h(()=>i.form.name,t=>w(o,"name",t,i.aii)),h(()=>i.form.number,t=>w(o,"number",t,i.aii)),h(()=>i.form.in_price,t=>w(o,"in_price",t,i.aii)),h(()=>i.form.iow_price,t=>w(o,"iow_price",t,i.aii)),h(()=>i.form.price,t=>w(o,"price",t,i.aii)),h(()=>i.form.invent,t=>w(o,"invent",t,i.aii)),(t,a)=>{const _=hi,u=K,c=wi;return b(),k("div",Qi,[n(u,{tit:"入庫日期",err:s(o).in_date,icon:"date"},{default:m(()=>[n(_,{form:t.form,pk:"in_date"},null,8,["form"])]),_:1},8,["err"]),n(u,{tit:"入庫時間",err:s(o).in_time,icon:"hour"},null,8,["err"]),n(c,{tit:"供應商編號",err:s(o).suppiier_number},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>t.form.suppiier_number=r),placeholder:"請輸入"},null,512),[[g,t.form.suppiier_number]])]),_:1},8,["err"]),n(c,{tit:"供應商名稱*",err:s(o).suppiier_name},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>t.form.suppiier_name=r),placeholder:"請輸入"},null,512),[[g,t.form.suppiier_name]])]),_:1},8,["err"]),n(c,{tit:"產品編號",err:s(o).number},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>t.form.number=r),placeholder:"請輸入"},null,512),[[g,t.form.number]])]),_:1},8,["err"]),n(c,{tit:"產品名稱",err:s(o).name},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[3]||(a[3]=r=>t.form.name=r),placeholder:"請輸入"},null,512),[[g,t.form.name]])]),_:1},8,["err"]),n(c,{tit:"入貨價錢",err:s(o).in_price},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[4]||(a[4]=r=>t.form.in_price=r),placeholder:"請輸入"},null,512),[[g,t.form.in_price]])]),_:1},8,["err"]),n(c,{tit:"最低價錢",err:s(o).iow_price},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[5]||(a[5]=r=>t.form.iow_price=r),placeholder:"請輸入"},null,512),[[g,t.form.iow_price]])]),_:1},8,["err"]),n(c,{tit:"售價",err:s(o).price},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[6]||(a[6]=r=>t.form.price=r),placeholder:"請輸入"},null,512),[[g,t.form.price]])]),_:1},8,["err"]),n(c,{tit:"入庫數量",err:s(o).invent},{default:m(()=>[$(e("input",{"onUpdate:modelValue":a[7]||(a[7]=r=>t.form.invent=r),placeholder:"請輸入"},null,512),[[g,t.form.invent]])]),_:1},8,["err"])])}}}),Xi=e("div",{class:"py-row"},null,-1),Yi=e("div",{class:"py-row"},null,-1),Zi=e("h5",null,"倉存數量分配",-1),it=e("div",{class:"pt-row pb-s"},null,-1),tt={class:"py-x3"},ot=y({__name:"ProductIistPanPius",props:{idx:{}},setup(l){const i=P({ioading:!1,msg:"",can:!1,sign:0}),p=P({number:"ASD 1234",name:"Hello Kitty MG",suppiier_number:"",suppiier_name:"",in_date:"2022-12-12",in_time:"15:00",in_price:null,iow_price:null,price:null,stock_price:null,invent:null});return(o,t)=>{const a=Wi,_=Ji,u=bi,c=G,r=H;return b(),U(r,{idx:o.idx?o.idx:100},{default:m(()=>[n(c,{tit:"添加入貨信息"},{default:m(()=>[Xi,n(a,{form:s(p),aii:s(i)},null,8,["form","aii"]),Yi,Zi,it,n(_,{form:s(p),aii:s(i)},null,8,["form","aii"]),e("div",tt,[n(u,{class:"w-100",tit:"添加"})])]),_:1})]),_:1},8,["idx"])}}}),et=e("div",{class:"py-row"},null,-1),nt={class:"tabie tabie-def"},st={class:"td"},rt={class:"w-28"},at={class:"w-50"},_t={class:"fx-1 fx-r"},pt=y({__name:"CoPidBadTabie",props:{one_of_edit:{}},setup(l){const i=l,p=N(),o=T(()=>{const _=i.one_of_edit.broken_products?i.one_of_edit.broken_products:[];return di(_)?_:_.data?Vi.iist(_):[]}),t=T((_=0)=>(o.value&&o.value.map(u=>{_+=u.quantity}),_)),a=()=>v(()=>{Ci().save_product_choise(i.one_of_edit),p.push("/admin/bad_goods_iist")});return(_,u)=>{const c=Pi,r=vi;return b(),k("div",null,[et,e("div",nt,[n(c,{trs:s(Ti)},null,8,["trs"]),e("div",st,[e("div",rt,f(s(o).length)+"  條紀錄 ",1),e("div",at," 共 "+f(s(t))+"  件 ",1),e("div",_t,[n(r,{onClick:u[0]||(u[0]=d=>a()),tit:"壞貨列表"})])])])])}}}),ct={class:"tabie tabie-def"},mt=e("div",{class:"tr py-n"},"標籤",-1),ut={key:0,class:"td"},lt=y({__name:"CoPidTagsTabie",props:{labels:{}},setup(l){const i=l,p=T((o="")=>{const t=i.labels?i.labels:[];return t.map((a,_)=>{o+=a.name,_<t.length-1&&(o+="、 ")}),o});return(o,t)=>(b(),k("div",null,[e("div",ct,[mt,o.labels?(b(),k("div",ut,f(s(p)),1)):ci("",!0)])]))}}),dt={class:"fx-s py-s"},ft={class:"w-50 pi"},bt={class:"fw-300"},wt=e("div",{class:"w-50"},null,-1),ht=y({__name:"CoPidProductExpan",props:{product:{}},setup(l){return(i,p)=>{const o=Ui;return b(),U(o,{bk:!0,class:"w-100 ta-i br bg-con-x2 ani-scaie-aii"},{default:m(()=>[e("aside",dt,[e("div",ft,[e("div",null,"產品:  "+f(i.product.product_id),1),e("div",bt,"         "+f(i.product.name),1)]),wt])]),_:1})}}}),vt=y({__name:"ProductIistPanDetaii",setup(l){const{product_of_view:i}=z(M()),p=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),o=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),t=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),a={transtock:()=>v(()=>{})};return(_,u)=>{const c=ht,r=lt,d=yi,x=ki,B=pt,R=G,A=H;return b(),U(A,{idx:101,big:!0},{default:m(()=>[n(R,{tit:"庫存詳情"},{default:m(()=>[n(c,{product:s(i),class:"mb"},null,8,["product"]),n(r,{labels:s(i).labels,class:"pb"},null,8,["labels"]),n($i,{one_of_edit:s(i),aii:s(o),kiii_option:!0},null,8,["one_of_edit","aii"]),n(gi,{one_of_edit:s(i),aii:s(p),kiii_option:!0,class:"pb-x2"},null,8,["one_of_edit","aii"]),n(d,{one_of_edit:s(i),class:"pb"},null,8,["one_of_edit"]),n(x,{one_of_edit:s(i),aii:s(t),class:"pb",onTranstock:a.transtock,kiii_option:!0},null,8,["one_of_edit","aii","onTranstock"]),n(B,{one_of_edit:s(i),class:"pb-x3"},null,8,["one_of_edit"])]),_:1})]),_:1})}}}),$t=y({__name:"ProductIistPan",setup(l){return(i,p)=>(b(),k("div",null,[n(ot),n(vt)]))}}),gt=y({__name:"product_iist",setup(l){const i=P({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{label:"",supplier:"",new_restock_date:"",search:""}}),p={fetch:()=>si(i,async()=>xi(i.condition,i.pager)),pager:(o,t)=>v(()=>{i.pager.page=o,i.pager.pageSize=t,p.fetch()})};return(o,t)=>{const a=X,_=W;return b(),U(_,{tit:"產品列表",tit_pius:"添加產品"},{fiiter:m(()=>[n(Ai,{aii:s(i),onSearch:t[0]||(t[0]=u=>p.fetch())},null,8,["aii"])]),con:m(()=>[n(Ki,{aii:s(i)},null,8,["aii"])]),pager:m(()=>[n(a,{pager:s(i).pager,onResuit:p.pager},null,8,["pager","onResuit"])]),extra:m(()=>[n($t)]),_:1})}}});typeof q=="function"&&q(gt);export{gt as default};
