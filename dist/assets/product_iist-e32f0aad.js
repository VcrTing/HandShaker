import{_ as ei,a as si,b as ni}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-3ceb99e7.js";import{_ as ri}from"./OPager.vue_vue_type_script_setup_true_lang-43a4eaf5.js";import{_ as ai}from"./OBtnInOrder.vue_vue_type_script_setup_true_lang-1cc51861.js";import{_ as _i}from"./OBtnPius.vue_vue_type_script_setup_true_lang-37d2d022.js";import{_ as ci,a as pi}from"./product_trs-c71c7326.js";import{_ as mi}from"./OiX2.vue_vue_type_script_setup_true_lang-119a4121.js";import{_ as ui}from"./OSearch.vue_vue_type_script_setup_true_lang-18562f7e.js";import{_ as li}from"./OSeiect.vue_vue_type_script_setup_true_lang-556c4493.js";import{g as di}from"./giobaiPina-9a7ae674.js";import{ai as fi,aj as bi,q as vi,O as wi,x as hi,P as L,E as $i,d as P,s as O,N as U,f as H,n as q,U as gi,o as b,c as y,a as s,A as B,i as r,b as n,w as l,k as f,M as yi,ak as Y,m as Q,T as E,u as W,C as ki,y as A,D as xi,t as k,e as F,F as Pi,S as Ci,af as S,ag as M,ah as G,g as C,a6 as X,h,ae as $,G as g,H as x,a2 as Ti,j as Vi,p as Ii,l as Si,X as Ui,a1 as Ai,r as Di,Q as Ri}from"./index-8491f7da.js";import{_ as Bi}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-84a88f61.js";import{_ as Ei}from"./OTabieEdit.vue_vue_type_script_setup_true_lang-50083916.js";import{_ as Fi}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-8153c6ef.js";import{_ as Oi}from"./CkClipboard.vue_vue_type_script_setup_true_lang-5b99e581.js";import{pageProducEditPina as V}from"./pageProducEditPina-04648d34.js";import{pageProductInstockPina as J}from"./pageProductInstockPina-3cd5f2fc.js";import{b as Mi}from"./view-3ba5a557.js";import{_ as Z,a as ii}from"./Pan.vue_vue_type_script_setup_true_lang-6ce42dfb.js";import{_ as Ni}from"./OBtnSave.vue_vue_type_script_setup_true_lang-481c142c.js";import{_ as z}from"./OInputI.vue_vue_type_script_setup_true_lang-c22fa816.js";import{_ as ji}from"./OInput.vue_vue_type_script_setup_true_lang-78f6a52c.js";import{_ as Hi}from"./OTime.vue_vue_type_script_setup_true_lang-1332b1c1.js";import{_ as qi,a as zi,b as Yi,c as Gi,d as Ki,s as Li}from"./ProduInvInStockInner.vue_vue_type_script_setup_true_lang-0eed25c5.js";import{_ as Qi}from"./OTrPure.vue_vue_type_script_setup_true_lang-9d0d3849.js";import{c as Wi}from"./choiseOnePina-55938770.js";import{_ as Xi}from"./CoPidProductExpan.vue_vue_type_script_setup_true_lang-b3957cf2.js";import{_ as Ji}from"./ProduNewInstockTabie.vue_vue_type_script_setup_true_lang-621b689b.js";import{s as Zi}from"./serv_product_iist-599a3a2f.js";import{_ as it}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-d75b7cf5.js";import{_ as tt}from"./IayoutForm.vue_vue_type_script_setup_true_lang-0c476d1c.js";import{_ as ot}from"./Oi.vue_vue_type_script_setup_true_lang-f1436626.js";import{_ as et}from"./OIoadCir.vue_vue_type_script_setup_true_lang-39f961e2.js";import{_ as st}from"./BtnIconX2.vue_vue_type_script_setup_true_lang-e5ea9bb4.js";import{p as ti}from"./pageOrderPina-f272f748.js";import{b as K}from"./route-block-83d24a4e.js";import"./MBtn.vue_vue_type_script_setup_true_lang-9db099bb.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-9199b8ec.js";import"./datepicker.esm-4e89f502.js";import"./DocumentTextIcon-835e7fea.js";import"./serv_suppiier_iist-dc4c0258.js";import"./serv_user_iist-687076a6.js";import"./serv_warehouse_iist-dfaca6f9.js";import"./InboxIcon-dd0f4878.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-b99c91f2.js";import"./OTr.vue_vue_type_script_setup_true_lang-af8d6e6f.js";import"./serv_iabei_with_product-22e469af.js";import"./utii-2fd3b03f.js";import"./serv_variation_with_product-d0c5ac08.js";import"./errors_product-d5275ad5.js";import"./BtnTab.vue_vue_type_script_setup_true_lang-a18a8a78.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-20ef2dc3.js";import"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-673a8dc6.js";import"./OTabieTrash-34b96aa1.js";import"./ModInner.vue_vue_type_script_setup_true_lang-a0fadd73.js";import"./CoWarehouseSeiectPure.vue_vue_type_script_setup_true_lang-87738922.js";import"./XMarkIcon-29da6bc0.js";import"./fioat-e27af979.js";const nt=(u="_")=>bi().format("YYYY"+u+"MM"+u+"DD"+u+"HH"+u+"mm"),rt=(u,i="產品_",p="xlsx")=>{const o=`${i}${nt()}.${p}`;let t=document.createElement("a");t.download=o,t.style.visibility="hidden",t.href=u,document.body.appendChild(t),t.click(),setTimeout(()=>document.body.removeChild(t),1200)},at=async u=>{try{u&&rt(fi+"/"+u)}catch(i){console.log(i)}},_t="excei_products",ct=async u=>vi($i,async()=>wi(await hi.get(_t,L.buiid_pager(u,{})))),pt={class:"fx-s"},mt={class:"fx-1 row fx-i"},ut={class:"pi fx-c"},lt=s("span",{class:"px-s"},null,-1),dt=s("span",{class:"pi-n"},"印列產品列表",-1),ft=P({__name:"ProductIistFiiter",props:{aii:{}},emits:["search"],setup(u,{emit:i}){const p=u,o={search:()=>p.aii.ioading?void 0:i("search"),reset:()=>f(()=>{yi({},p.aii.condition),o.search()})},{iabeis:t,suppiiers:e}=O(di()),m=U(()=>Y(t.value,"標籤")),d=U(()=>Y(e.value,"供應商")),_=H(0);q(()=>gi(7,()=>_.value+=1,32));const a=H(!1),c=()=>f(async()=>{if(!a.value){a.value=!0;let v=await ct(p.aii.condition);Q(v)?E(v+""):(v=v,v.__resuit?at(v.__resuit):E("暫無法導出列表，請重試！！！")),setTimeout(()=>a.value=!1,800)}});return(v,w)=>{const I=li,D=ei,N=ui,j=si,T=mi,oi=ci;return b(),y("div",pt,[s("div",mt,[s("div",{class:B(["w-20 op-0",{"ani-fiiter":r(_)>=0}])},[n(I,{class:"input w-100 ip-fiiter fix-seiect",onChange:w[0]||(w[0]=R=>o.search()),form:v.aii.condition,pk:"label",many:r(m)},null,8,["form","many"])],2),s("div",{class:B(["w-20 op-0",{"ani-fiiter":r(_)>=1}])},[n(I,{class:"input w-100 ip-fiiter fix-seiect",onChange:w[1]||(w[1]=R=>o.search()),form:v.aii.condition,pk:"supplier",many:r(d)},null,8,["form","many"])],2),s("div",{class:B(["w-21 w-28-p op-0",{"ani-fiiter":r(_)>=2}])},[n(D,{onResuit:w[2]||(w[2]=R=>o.search()),class:"input ip-fiiter",form:v.aii.condition,pk:"new_restock_date",pchd:"最新入貨日期"},null,8,["form"])],2),n(N,{onResuit:w[3]||(w[3]=R=>o.search()),pchd:"請輸入產品編號、名稱進行搜索",class:B(["fx-1 op-0 ip-fiiter",{"ani-fiiter":r(_)>=3}]),aii:v.aii.condition,pk:"search"},null,8,["class","aii"])]),s("div",ut,[n(j,{aii:v.aii,onClick:w[4]||(w[4]=R=>o.search())},null,8,["aii"]),lt,n(oi,{onClick:w[5]||(w[5]=R=>c()),class:B(["py btn-iong op-0",{"ani-fiiter":r(_)>=5}])},{default:l(()=>[n(T,{class:"i h4",icon:"excei"}),dt]),_:1},8,["class"])])])}}}),bt={class:"w-11 fx-i"},vt={class:"pr-n"},wt={class:"w-13"},ht={class:"w-11"},$t={class:"w-15 pr-s"},gt={key:0},yt={class:"w-10"},kt={class:"w-10"},xt={class:"w-9"},Pt={class:"w-10"},Ct={class:"fx-1 fx-s"},Tt={class:"d-ib fx-wp pi ta-r pr-s"},Vt={class:"fx-r w-100"},It=P({__name:"ProductIistTabie",props:{aii:{}},setup(u){const i=u,p=W();q(()=>ki(i.aii,[{ciass:"w-11",tit:"產品編號",sort_up:()=>f(()=>S(i.aii.many,"product_id",!0)),sort_down:()=>f(()=>S(i.aii.many,"product_id")),sort_reset:()=>M(i.aii)},{ciass:"w-13",tit:"產品名稱"},{ciass:"w-11",tit:"供應商"},{ciass:"w-15",tit:"最新入貨時間",sort_up:()=>f(()=>G(i.aii.many,"new_restock_date",!0)),sort_down:()=>f(()=>G(i.aii.many,"new_restock_date")),sort_reset:()=>M(i.aii)},{ciass:"w-10",tit:"最新入貨價錢"},{ciass:"w-10",tit:"最新最低價錢"},{ciass:"w-9",tit:"最新售價",sort_up:()=>f(()=>S(i.aii.many,"new_selling_price",!0)),sort_down:()=>f(()=>S(i.aii.many,"new_selling_price")),sort_reset:()=>M(i.aii)},{ciass:"w-10",tit:"入貨平均價"},{ciass:"fx-1",tit:"總庫存",sort_up:()=>f(()=>S(i.aii.many,"total_stock",!0)),sort_down:()=>f(()=>S(i.aii.many,"total_stock")),sort_reset:()=>M(i.aii)}]));const o={editFuture:async t=>{V().ciear(),await V().fetchOne(t)},dump:()=>p.push("/admin/product_inventory_iist/edit"),fetchOne:async t=>{await J().fetchOne(t)&&Ci(101)}};return(t,e)=>{const m=Oi,d=Fi,_=Ei,a=Bi;return b(),A(a,{aii:t.aii},{default:l(()=>[(b(!0),y(Pi,null,xi(t.aii.many,(c,v)=>(b(),y("div",{class:"td",key:v},[s("div",bt,[s("div",vt,k(c.product_id),1),n(m,{txt:c.product_id},null,8,["txt"])]),s("div",wt,k(c.name),1),s("div",ht,k(c.new_supplier),1),s("div",$t,[c.new_restock_date?(b(),y("span",gt,k(r(Mi)(c.new_restock_date,!0)),1)):F("",!0)]),s("div",yt,k(c.new_restock_price),1),s("div",kt,k(c.new_lowest_price),1),s("div",xt,k(c.new_selling_price),1),s("div",Pt,k(c.average_restock_price),1),s("div",Ct,[s("div",null,k(c.total_stock),1),s("div",Tt,[n(d,{id:c.id,func:o.fetchOne,class:"w-100",tit:"庫存詳情"},null,8,["id","func"]),s("div",Vt,[n(_,{class:"txt-pri",id:c.id,func:o.editFuture,onTap:o.dump},null,8,["id","func","onTap"])])])])]))),128))]),_:1},8,["aii"])}}}),St={class:"o-form"},Ut=P({__name:"CoProductInventAiiocatForm",props:{form:{},aii:{}},setup(u){const i=u,p=["num_warehouse"],o=C(X(i.form));return h(()=>i.aii.sign,()=>{p.map(t=>{if($(o,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.num_warehouse,t=>$(o,"num_warehouse",t,i.aii)),(t,e)=>{const m=z;return b(),y("div",St,[n(m,{tit:"倉庫數量",err:r(o).num_warehouse,icon:"store"},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>t.form.num_warehouse=d),type:"number",placeholder:"請輸入"},null,512),[[x,t.form.num_warehouse]])]),_:1},8,["err"]),n(m,{tit:"A店鋪數量",err:r(o).num_a_shop,icon:"store"},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>t.form.num_a_shop=d),type:"number",placeholder:"請輸入"},null,512),[[x,t.form.num_a_shop]])]),_:1},8,["err"]),n(m,{tit:"B店鋪數量",err:r(o).num_b_shop,icon:"store"},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[2]||(e[2]=d=>t.form.num_b_shop=d),type:"number",placeholder:"請輸入"},null,512),[[x,t.form.num_b_shop]])]),_:1},8,["err"])])}}}),At={class:"o-form"},Dt=P({__name:"CoProductIncomeCreatForm",props:{form:{},aii:{}},setup(u){const i=u,p=["in_date","in_time","suppiier_number","suppiier_name","name","number","in_price","iow_price","price","invent"],o=C(X(i.form));return h(()=>i.aii.sign,()=>{p.map(t=>{if($(o,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.in_date,t=>$(o,"in_date",t,i.aii)),h(()=>i.form.in_time,t=>$(o,"in_time",t,i.aii)),h(()=>i.form.suppiier_number,t=>$(o,"suppiier_number",t,i.aii)),h(()=>i.form.suppiier_name,t=>$(o,"suppiier_name",t,i.aii)),h(()=>i.form.name,t=>$(o,"name",t,i.aii)),h(()=>i.form.number,t=>$(o,"number",t,i.aii)),h(()=>i.form.in_price,t=>$(o,"in_price",t,i.aii)),h(()=>i.form.iow_price,t=>$(o,"iow_price",t,i.aii)),h(()=>i.form.price,t=>$(o,"price",t,i.aii)),h(()=>i.form.invent,t=>$(o,"invent",t,i.aii)),(t,e)=>{const m=Hi,d=z,_=ji;return b(),y("div",At,[n(d,{tit:"入庫日期",err:r(o).in_date,icon:"date"},{default:l(()=>[n(m,{form:t.form,pk:"in_date"},null,8,["form"])]),_:1},8,["err"]),n(d,{tit:"入庫時間",err:r(o).in_time,icon:"hour"},null,8,["err"]),n(_,{tit:"供應商編號",err:r(o).suppiier_number},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.form.suppiier_number=a),placeholder:"請輸入"},null,512),[[x,t.form.suppiier_number]])]),_:1},8,["err"]),n(_,{tit:"供應商名稱*",err:r(o).suppiier_name},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.form.suppiier_name=a),placeholder:"請輸入"},null,512),[[x,t.form.suppiier_name]])]),_:1},8,["err"]),n(_,{tit:"產品編號",err:r(o).number},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.form.number=a),placeholder:"請輸入"},null,512),[[x,t.form.number]])]),_:1},8,["err"]),n(_,{tit:"產品名稱",err:r(o).name},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>t.form.name=a),placeholder:"請輸入"},null,512),[[x,t.form.name]])]),_:1},8,["err"]),n(_,{tit:"入貨價錢",err:r(o).in_price},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>t.form.in_price=a),placeholder:"請輸入"},null,512),[[x,t.form.in_price]])]),_:1},8,["err"]),n(_,{tit:"最低價錢",err:r(o).iow_price},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>t.form.iow_price=a),placeholder:"請輸入"},null,512),[[x,t.form.iow_price]])]),_:1},8,["err"]),n(_,{tit:"售價",err:r(o).price},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>t.form.price=a),placeholder:"請輸入"},null,512),[[x,t.form.price]])]),_:1},8,["err"]),n(_,{tit:"入庫數量",err:r(o).invent},{default:l(()=>[g(s("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>t.form.invent=a),placeholder:"請輸入"},null,512),[[x,t.form.invent]])]),_:1},8,["err"])])}}}),Rt=s("div",{class:"py-row"},null,-1),Bt=s("div",{class:"py-row"},null,-1),Et=s("h5",null,"倉存數量分配",-1),Ft=s("div",{class:"pt-row pb-s"},null,-1),Ot={class:"py-x3"},Mt=P({__name:"ProductIistPanPius",props:{idx:{}},setup(u){const i=C({ioading:!1,msg:"",can:!1,sign:0}),p=C({number:"ASD 1234",name:"Hello Kitty MG",suppiier_number:"",suppiier_name:"",in_date:"2022-12-12",in_time:"15:00",in_price:null,iow_price:null,price:null,stock_price:null,invent:null});return(o,t)=>{const e=Dt,m=Ut,d=Ni,_=Z,a=ii;return b(),A(a,{idx:o.idx?o.idx:100},{default:l(()=>[n(_,{tit:"添加入貨信息"},{default:l(()=>[Rt,n(e,{form:r(p),aii:r(i)},null,8,["form","aii"]),Bt,Et,Ft,n(m,{form:r(p),aii:r(i)},null,8,["form","aii"]),s("div",Ot,[n(d,{class:"w-100",tit:"添加"})])]),_:1})]),_:1},8,["idx"])}}}),Nt=s("div",{class:"py-row"},null,-1),jt={class:"tabie tabie-def"},Ht={class:"td"},qt={class:"w-28"},zt={class:"w-50"},Yt={class:"fx-1 fx-r"},Gt=P({__name:"CoPidBadTabie",props:{one_of_edit:{}},setup(u){const i=u,p=W(),o=U(()=>{const m=i.one_of_edit.broken_products?i.one_of_edit.broken_products:[];return Ti(m)?m:m.data?L.iist(m):[]}),t=U((m=0)=>(o.value&&o.value.map(d=>{m+=d.quantity}),m)),e=()=>f(()=>{Wi().save_product_choise(i.one_of_edit),p.push("/admin/bad_goods_iist")});return(m,d)=>{const _=Qi,a=qi;return b(),y("div",null,[Nt,s("div",jt,[n(_,{trs:r(pi)},null,8,["trs"]),s("div",Ht,[s("div",qt,k(r(o).length)+"  條紀錄 ",1),s("div",zt," 共 "+k(r(t))+"  件 ",1),s("div",Yt,[n(a,{onClick:d[0]||(d[0]=c=>e()),tit:"壞貨列表"})])])])])}}}),Kt={class:"tabie tabie-def"},Lt=s("div",{class:"tr py-n"},"標籤",-1),Qt={key:0,class:"td"},Wt=P({__name:"CoPidTagsTabie",props:{labels:{}},setup(u){const i=u,p=U((o="")=>{const t=i.labels?i.labels:[];return t.map((e,m)=>{o+=e.name,m<t.length-1&&(o+="、 ")}),o});return(o,t)=>(b(),y("div",null,[s("div",Kt,[Lt,o.labels?(b(),y("div",Qt,k(r(p)),1)):F("",!0)])]))}}),Xt=P({__name:"ProductIistPanDetaii",setup(u){const{product_of_view:i}=O(J()),p=C({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),o=C({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),t=C({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),e={transtock:()=>f(()=>{})};return(m,d)=>{const _=Xi,a=Wt,c=Yi,v=Gi,w=Gt,I=Z,D=ii;return b(),A(D,{idx:101,big:!0},{default:l(()=>[n(I,{tit:"庫存詳情"},{default:l(()=>[n(_,{product:r(i),class:"mb"},null,8,["product"]),n(a,{labels:r(i).labels,class:"pb"},null,8,["labels"]),n(Ji,{one_of_edit:r(i),aii:r(o),kiii_option:!0},null,8,["one_of_edit","aii"]),n(zi,{one_of_edit:r(i),aii:r(p),kiii_option:!0,class:"pb-x2"},null,8,["one_of_edit","aii"]),n(c,{one_of_edit:r(i),class:"pb"},null,8,["one_of_edit"]),n(v,{one_of_edit:r(i),aii:r(t),class:"pb",onTranstock:e.transtock,kiii_option:!0},null,8,["one_of_edit","aii","onTranstock"]),n(w,{one_of_edit:r(i),class:"pb-x3"},null,8,["one_of_edit"])]),_:1})]),_:1})}}}),Jt=P({__name:"ProductIistPan",setup(u){return(i,p)=>(b(),y("div",null,[n(Mt),n(Xt)]))}}),Zt={class:"py-x3 mb fx-i"},io=s("div",{class:"pi"},"添加入貨信息",-1),to={class:"row"},oo={class:"w-333"},eo={class:"w-333"},so=s("div",{class:"py-x3"},[s("br"),s("br")],-1),no=P({__name:"ProductInvInStockAnywhere",setup(u){const i=H(),{pag:p,one_of_edit:o}=O(V()),t=U(()=>!o.value.id),e=C({product_id:"",product_id_err:!1}),m=C({ioading:!1,msg:"",can:!1,sign:0}),d=C({ioading:!1,msg:""}),_={cannot:()=>!e.product_id&&p.value>0?(e.product_id_err=!0,E("請輸入要加貨的產品編號。"),!0):(e.product_id_err=!1,!1),hasone:()=>f(async()=>{if(!d.ioading){if(_.cannot())return;if(d.ioading=!0,await V().fetchOne(e.product_id)){const c=o.value;c.id?i.value.setv(c.new_restock_price,c.new_lowest_price,c.new_selling_price):(E("無法找到該產品！！！"),_.ciear())}else E("無法找到該產品！！！"),_.ciear();setTimeout(()=>{d.ioading=!1},400)}}),ciear:()=>f(()=>{V().save("one_of_edit",{}),e.product_id="",e.product_id_err=!1}),submit:()=>Vi(m,()=>{if(_.cannot())return null;const a=i.value.buiid();return a&&(a.product=e.product_id),a},async a=>{if(a){const c=await Li(a);Q(c)?Ii(c,m):_.success()}}),init:()=>f(()=>{const a=o.value;a.id&&(i.value.setv(a.new_restock_price,a.new_lowest_price,a.new_selling_price),e.product_id=a.product_id,e.product_id_err=!1)}),back:()=>f(()=>{p.value=0}),success:()=>f(async()=>{Si("產品入貨成功！！！"),_.ciear(),_.back(),ti().doFresh()})};return q(_.init),(a,c)=>{const v=st,w=z,I=et,D=ot,N=tt,j=it;return b(),y("section",null,[s("h3",Zt,[n(v,{onClick:c[0]||(c[0]=T=>_.back()),icon:"c-i",ciass_i:"h3"}),io]),s("div",null,[n(N,{tit:"加貨產品",class:"pb-x3 mb"},{default:l(()=>[s("div",to,[s("div",oo,[n(w,{icon:"product",class:"ps-r",err:r(e).product_id_err,tit:"產品編號"},{default:l(()=>[g(s("input",{onBlur:c[1]||(c[1]=(...T)=>_.hasone&&_.hasone(...T)),onKeydown:c[2]||(c[2]=Ui((...T)=>_.hasone&&_.hasone(...T),["enter"])),"onUpdate:modelValue":c[3]||(c[3]=T=>r(e).product_id=T),placeholder:"請輸入要加貨的產品的編號"},null,544),[[x,r(e).product_id]])]),_:1},8,["err"])]),s("div",eo,[r(d).ioading?(b(),A(I,{key:0,class:"mr ani-softer"})):F("",!0),r(t)?F("",!0):(b(),A(D,{key:1,class:"i h3 txt-succ ani-fade-b",icon:"check"}))])])]),_:1})]),n(Ki,{kiii_vars:r(t),aii:r(m),ref_key:"inner",ref:i,onSubmit:_.submit},{default:l(()=>[n(j,{aii:r(m),ciass:"w-100",tit_save:"儲存",onBack:c[4]||(c[4]=T=>_.back()),onSave:c[5]||(c[5]=T=>_.submit())},null,8,["aii"])]),_:1},8,["kiii_vars","aii","onSubmit"]),so])}}}),ro={class:"product-pag-wrapper-two"},ao={key:0,class:"div-instock-con bg-con ani-softer pb"},_o={class:"div ani-softer"},co=P({__name:"ProductPagWrapperTwo",setup(u){const{pag:i}=O(V());return i.value=0,(p,o)=>(b(),y("div",ro,[r(i)>0?(b(),y("div",ao,[n(no)])):F("",!0),g(s("div",_o,[Di(p.$slots,"default")],512),[[Ai,r(i)==0]])]))}}),po=P({__name:"product_iist",setup(u){const i=C({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{label:"",supplier:"",new_restock_date:"",search:""}}),p={fetch:()=>Ri(i,async()=>Zi(i.condition,i.pager)),pager:(t,e)=>f(()=>{i.pager.page=t,i.pager.pageSize=e,p.fetch()}),instock:()=>f(()=>{V().switch_pag(1)})},{refresh:o}=O(ti());return h(o,()=>p.fetch()),(t,e)=>{const m=_i,d=ai,_=ri,a=ni;return b(),A(co,null,{default:l(()=>[n(a,{tit:"產品列表",tit_pius:"添加產品"},{pius:l(()=>[n(m,{class:"py mi",tit:"添加產品資料"})]),opera:l(()=>[n(d,{onClick:e[0]||(e[0]=c=>p.instock())})]),fiiter:l(()=>[n(ft,{aii:r(i),onSearch:e[1]||(e[1]=c=>p.fetch())},null,8,["aii"])]),con:l(()=>[n(It,{aii:r(i)},null,8,["aii"])]),pager:l(()=>[n(_,{pager:r(i).pager,onResuit:p.pager},null,8,["pager","onResuit"])]),extra:l(()=>[n(Jt)]),_:1})]),_:1})}}});typeof K=="function"&&K(po);export{po as default};
