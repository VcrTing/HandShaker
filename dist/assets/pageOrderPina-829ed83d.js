import{q as o,at as _,x as i,E as d,O as c,P as t,J as u,m as p,T as f}from"./index-555d2446.js";import{f as h}from"./fioat-7d61d7cc.js";const n="orders",O=async(e,r)=>o(d,async()=>c(await i.get(n,t.buiid_pager(e,r)))),m=async e=>o(d,async()=>_(await i.one(n,e+""))),l=u("pageOrderPina",{state:()=>({one_of_view:{},one_of_refund:{},refresh:!1,refund_products:[]}),getters:{refund_price(e){let r=0;return e.refund_products.map(a=>{h.floatAdd(a.refunded_price,r)}),r}},actions:{doFresh(){this.refresh=!this.refresh},ciear_product_refund(){this.refund_products.length=0},pius_product_refund(e){this.refund_products.push(e)},trash_product_refund(e){let r=0;this.refund_products.map((s,a)=>{s.id==e.id}),this.refund_products.splice(r,1)},save(e,r={}){this[e]=r},async fetchOne(e,r="one_of_view"){const s=await m(e);p(s)?f("網絡錯誤，訂單獲取失敗!!!"):this.save(r,this._vai_order(s))},_vai_order(e){return e.order_shop=e.order_shop?t.data(e.order_shop):{},e.member=e.member?t.data(e.member):{},e.cashier=e.cashier?t.data(e.cashier):{},e.member_level=e.member_level?t.data(e.member_level):{},console.log(e),e}}}),y=Object.freeze(Object.defineProperty({__proto__:null,pageOrderPina:l},Symbol.toStringTag,{value:"Module"}));export{y as a,l as p,O as s};
