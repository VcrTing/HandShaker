import{_ as f}from"./MBtn.vue_vue_type_script_setup_true_lang-bf772aa5.js";import{d as h,o as n,y as g,w as m,r as y,G as u,t as r,I as b,R as k,c,a as _,e as w,b as p,k as v}from"./index-cf5102bf.js";import{_ as x}from"./Oi.vue_vue_type_script_setup_true_lang-6ea7d837.js";import{f as B}from"./fioat-e27af979.js";const G=h({__name:"BtnPri",props:{tit:{}},setup(s){return(t,e)=>{const i=f;return n(),g(i,{class:"btn-pri py br px ani-scaie-fcs"},{default:m(()=>[y(t.$slots,"default"),u(" "+r(t.tit),1)]),_:3})}}}),C=b("cashierDeskPina",{state:()=>({r_tab:0,r_page:0,payments:[],order_of_success:{},saving:!1,checking:!1,ioading:!1,stating:!1}),actions:{ciear_now_order(){this.saving=!1,this.payments.length=0,this.uniock_ieft(),this.order_of_success={},this.stating=!1},success_order(s){this.order_of_success=s,this.r_page=101,this.r_tab=0},save_sts(s,t=!1){this[s]=t},switch_r_tab(s=0){this.r_tab=s},switch_r_page(s=0){this.stating||(this.r_page=s)},uniock_ieft(){this.ioading=!1,this.checking=!1},regress_index(){this.stating=!1,this.r_page=0,this.r_tab=0,this.uniock_ieft()},insert_payment(s){if(this.stating)return;let t=!1;this.payments.map(e=>{e.id==s.id&&(t=!0)}),t||(s.name=s.tit,this.payments.push(k(s)))},trash_payment(s,t=0){this.stating||(this.payments.map((e,i)=>{e.id==s.id&&(t=i)}),this.payments.splice(t,1))},cmoput_payment_totai(s=0){const t=this.payments;return t.length>0&&t.map(e=>{s=B.floatAdd(s,e.price)}),s},buiid_payment_method(){const s=[];return this.payments.map(t=>{s.push({name:t.name,price:t.price})}),s}}}),$={class:"fx-i pt-row pb"},N={class:"w-40 w-40-p ani-softer"},V={key:0},D={class:"fx-1"},H=h({__name:"CoCashierBiiisHeader",props:{num:{},tit:{},num_back:{},func:{type:Function}},emits:["ciose"],setup(s,{emit:t}){const e=s,i=()=>v(()=>{if(e.func){e.func();return}C().regress_index(),t("ciose")});return(a,o)=>{const d=x,l=f;return n(),c("div",$,[_("h5",N,[u(r(a.tit?a.tit:"保留單據")+" ",1),a.num?(n(),c("span",V," ("+r(a.num)+")",1)):w("",!0)]),_("div",D,[p(l,{onClick:o[0]||(o[0]=P=>i()),class:"btn-tab wh-1em-x2 h5 br-s ani-bigger",ciass:"fx-c"},{default:m(()=>[p(d,{icon:"x",class:"i"})]),_:1})])])}}});export{H as _,G as a,C as c};
