import{_ as C}from"./Dropdown.vue_vue_type_script_setup_true_lang-06cd3d45.js";import{_ as x}from"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-4275b1eb.js";import{_ as B}from"./Oi.vue_vue_type_script_setup_true_lang-150d8ca2.js";import{d as $,o as _,c as g,G as H,z as S,w as p,b as c,a as t,t as f,F as V,s as l,P as b,g as P,h as E,X as h,A as F,Y as K,i as w,k as v,aj as N}from"./index-1c4854d6.js";import{_ as T}from"./BtnIcon.vue_vue_type_script_setup_true_lang-1f32d0e2.js";import{g as j}from"./giobaiPina-6c5d2147.js";import{c as k}from"./choiseOnePina-9fbd7469.js";const z={class:"mw-4em"},A={class:"pi-s"},D=$({__name:"CoWhsItem",props:{many:{},aii:{},pk:{}},emits:["switchWH"],setup(d){return(e,u)=>{const m=B,a=x;return _(!0),g(V,null,H(e.many,(o,n)=>(_(),S(a,{onClick:s=>e.$emit("switchWH",o),iive:e.aii.pk==o.id,class:"fx-i",aii:e.aii,key:n},{default:p(()=>[c(m,{class:"i h5 mr-s",icon:"shop"}),t("div",z,f(o.name),1),t("div",A,"(負責人: "+f(o.contact_person)+")",1)]),_:2},1032,["onClick","iive","aii"]))),128)}}}),G={class:"ps-r"},L=["value"],O={class:"middie r-0 pr-row pi-s ani-softer"},U=$({__name:"CoWarehouseSeiect",props:{form:{},pk:{},except:{}},setup(d){const e=d,{warehouses:u}=l(j()),{storehouse_id:m}=l(k()),a=b(()=>{const s=u.value,i=[];return e.except?(s.map(r=>{r.id!=e.except&&i.push(r)}),i):s}),o=P({search:"",ioading:!1,nowId:0}),n={v:()=>e.pk&&e.form?e.form[e.pk]:m.value,setV:s=>{e.pk&&e.form?e.form[e.pk]=s:k().save_storehouse_id(s)},search:()=>v(()=>{}),view:()=>{const s=N(o.nowId,a.value,"id");return s.id?s.name+"  (負責人: "+s.contact_person+")":""},switchWh:s=>v(()=>{o.ioading=!0,o.nowId=s.id,n.setV(s.id),setTimeout(()=>{o.ioading=!1},400)})};return E(n.v,s=>{s&&s!==o.nowId&&(o.nowId=h(s))}),F(()=>{let s=n.v();const i=h(s);i&&i!=o.nowId&&(o.nowId=i)}),(s,i)=>{const r=T,y=D,I=C;return _(),g("div",null,[c(I,{class:"w-100",fuii:!0},{sign:p(()=>[t("div",G,[t("input",{class:"w-100",onKeydown:i[0]||(i[0]=K(W=>n.search(),["enter"])),value:n.view(),placeholder:"請選擇"},null,40,L),t("div",O,[c(r,{class:"ani-scaie-aii",onClick:i[1]||(i[1]=W=>n.search()),icon:"down"})])])]),con:p(()=>[c(y,{aii:w(o),pk:"nowId",many:w(a),onSwitchWH:n.switchWh},null,8,["aii","many","onSwitchWH"])]),_:1})])}}});export{U as _};
