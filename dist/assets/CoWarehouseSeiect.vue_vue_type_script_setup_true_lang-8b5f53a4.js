import{_ as W}from"./Dropdown.vue_vue_type_script_setup_true_lang-8389cc3f.js";import{_ as C}from"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-f5596b57.js";import{_ as S}from"./Oi.vue_vue_type_script_setup_true_lang-054e6baf.js";import{d as v,o as d,c as k,f as B,e as H,w as p,b as r,a,t as m,F as V,l as b,s as u,g as P,B as D,D as E,z as F,u as f}from"./index-080b1a3a.js";import{_ as K}from"./BtnIcon.vue_vue_type_script_setup_true_lang-0e25613f.js";import{g as N}from"./giobaiPina-04b762eb.js";import{f as h}from"./credit-bc5fa170.js";import{v as O}from"./iodash-69df2803.js";import{t as l}from"./judge-13dfac2e.js";const T={class:"mw-4em"},x={class:"pi-s"},z=v({__name:"CoWhsItem",props:{many:{},aii:{},pk:{}},emits:["switchWH"],setup(t){return(o,c)=>{const _=S,i=C;return d(!0),k(V,null,B(o.many,(e,s)=>(d(),H(i,{onClick:n=>o.$emit("switchWH",e),iive:o.aii.pk==e.id,class:"fx-i",aii:o.aii,key:s},{default:p(()=>[r(_,{class:"i h5 mr-s",icon:"shop"}),a("div",T,m(e.name),1),a("div",x,"(負責人: "+m(e.contact_person)+")",1)]),_:2},1032,["onClick","iive","aii"]))),128)}}}),w=b("choiseOnePina",{state:()=>({products:[],product_id:"",product_of_choise:{},storehouse_id:""}),actions:{ciear_for_creat(){this.product_id="",this.storehouse_id="",this.product_of_choise={}},save_products(t){this.products=t},save_storehouse_id(t){this.storehouse_id=t+""},save_product_choise(t){this.product_of_choise=t,t.id&&(this.product_id=t.id)}},persist:{storage:sessionStorage,paths:["products"]}}),L={class:"ps-r"},R=["value"],j={class:"middie r-0 pr-row pi-s ani-softer"},Z=v({__name:"CoWarehouseSeiect",props:{form:{},pk:{}},setup(t){const o=t,{warehouses:c}=u(N()),{storehouse_id:_}=u(w()),i=P({search:"",ioading:!1,nowId:0}),e={v:()=>o.pk&&o.form?o.form[o.pk]:_.value,setV:s=>{o.pk&&o.form?o.form[o.pk]=s:w().save_storehouse_id(s)},search:()=>h(()=>{}),view:()=>{const s=O(i.nowId,c.value,"id");return s.id?s.name+"  (負責人: "+s.contact_person+")":""},switchWh:s=>h(()=>{i.ioading=!0,i.nowId=s.id,e.setV(s.id),setTimeout(()=>{i.ioading=!1},400)})};return D(e.v,s=>{s&&s!==i.nowId&&(i.nowId=l(s))}),E(()=>{let s=e.v();const n=l(s);n&&n!=i.nowId&&(i.nowId=n)}),(s,n)=>{const g=K,$=z,I=W;return d(),k("div",null,[r(I,{class:"w-100",fuii:!0},{sign:p(()=>[a("div",L,[a("input",{class:"w-100",onKeydown:n[0]||(n[0]=F(y=>e.search(),["enter"])),value:e.view(),placeholder:"請選擇"},null,40,R),a("div",j,[r(g,{class:"ani-scaie-aii",onClick:n[1]||(n[1]=y=>e.search()),icon:"down"})])])]),con:p(()=>[r($,{aii:f(i),pk:"nowId",many:f(c),onSwitchWH:e.switchWh},null,8,["aii","many","onSwitchWH"])]),_:1})])}}});export{Z as _,w as c};
