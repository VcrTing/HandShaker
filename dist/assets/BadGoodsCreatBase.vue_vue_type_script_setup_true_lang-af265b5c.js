import{_ as U}from"./CoProduChoiseMod.vue_vue_type_script_setup_true_lang-3c2c095f.js";import{a as b}from"./CoWarehouseSeiect.vue_vue_type_script_setup_true_lang-a1e18048.js";import{_ as F}from"./OTime.vue_vue_type_script_setup_true_lang-ceb96167.js";import{_ as S}from"./OInput.vue_vue_type_script_setup_true_lang-95fad0c5.js";import{_ as T}from"./OInputI.vue_vue_type_script_setup_true_lang-0e2f69f7.js";import{d as j,g as E,s as G,h as n,B as $,o as l,c as p,a as d,b as s,w as m,N as I,i as a,$ as y,v as f,x as g,k as K,K as L,F as O,q as P,t as R,e as z}from"./index-33974ecf.js";import{c as A}from"./choiseOnePina-ac0b302e.js";import{s as H}from"./strapi-c10e9858.js";import{g as J,n as _}from"./credit-db2ad5c3.js";import{c as Q}from"./iodash-8a8cb9b0.js";const W={class:"o-form"},X=["value"],Y=d("option",{value:0},"-- 請選擇 --",-1),Z=["value"],uo=j({__name:"BadGoodsCreatBase",props:{form:{},aii:{}},setup(q){const e=q,w=["product_id","variation","quantity","storehouse_id","date","remarks"],i=E(J(e.form)),{product_id:c,storehouse_id:v,product_of_choise:h}=G(A());n(c,o=>e.form.product_id=o),n(v,o=>{e.form.storehouse_id=o,console.log("storeID 改动 =",o)});const B=$(()=>{const o=h.value;return o.id?`[${o.product_id}]  ${o.name}`:""}),C=$(()=>{let o=h.value.variations;return Q(o)?o:H.iist(o)});return n(()=>e.aii.sign,()=>{e.form.storehouse_id=v.value,w.map(o=>{if(_(i,o,e.form[o],e.aii)){e.aii.can=!1;return}}),e.aii.can=!0}),n(()=>e.form.variation,o=>_(i,"variation",o,e.aii)),n(()=>e.form.quantity,o=>_(i,"quantity",o,e.aii)),n(()=>e.form.date,o=>_(i,"date",o,e.aii)),(o,t)=>{const k=T,u=S,V=F,N=b,D=U;return l(),p("div",null,[d("div",W,[s(k,{tit:"壞貨產品",err:a(i).product_id,icon:"product",onClick:t[1]||(t[1]=r=>a(y)(1e3))},{default:m(()=>[d("input",{onClick:t[0]||(t[0]=I(r=>a(y)(1e3),["stop"])),value:a(B),placeholder:"請點擊後打開選擇框"},null,8,X)]),_:1},8,["err"]),s(u,{tit:"數量",err:a(i).quantity},{default:m(()=>[f(d("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>o.form.quantity=r),placeholder:"請輸入"},null,512),[[g,o.form.quantity]])]),_:1},8,["err"]),a(c)?(l(),K(u,{key:0,tit:"樣式",err:a(i).variation},{default:m(()=>[f(d("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>o.form.variation=r)},[Y,(l(!0),p(O,null,P(a(C),(r,M)=>(l(),p("option",{key:M,value:r.id},R(r.name),9,Z))),128))],512),[[L,o.form.variation]])]),_:1},8,["err"])):z("",!0),s(k,{tit:"日期",err:a(i).date,icon:"date"},{default:m(()=>[s(V,{form:o.form,pk:"date"},null,8,["form"])]),_:1},8,["err"]),s(u,{tit:"壞貨位置",err:a(i).storehouse_id},{default:m(()=>[s(N)]),_:1},8,["err"]),s(u,{tit:"備註",err:!1},{default:m(()=>[f(d("textarea",{rows:"3","onUpdate:modelValue":t[4]||(t[4]=r=>o.form.remarks=r),placeholder:"請輸入"},null,512),[[g,o.form.remarks]])]),_:1})]),s(D)])}}});export{uo as _};
