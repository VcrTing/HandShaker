import{_ as D,a as Y}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-46fa4e9f.js";import{_ as B}from"./OPager.vue_vue_type_script_setup_true_lang-abe585b6.js";import{d as l}from"./dayjs.min-668a802a.js";import{r as M}from"./ArrowLongRightIcon-79f9b787.js";import{d as v,g as u,o as m,e as h,b as i,t as _,u as t,a as n,S as R,T,_ as E,j as N,c as b,w as f,k as P,F as z,f as A,D as F,n as O}from"./index-0966950c.js";import{_ as V}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-fed73808.js";import{_ as j}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-d8be1d15.js";import{_ as G}from"./OIoadCir.vue_vue_type_script_setup_true_lang-6e1141ce.js";import{p as H}from"./pageOrderPina-0553b9fe.js";import{i as K,f as I,d as L}from"./credit-00db13f3.js";import{v as U,m as k}from"./view-8e3be13d.js";import{_ as q}from"./OBtnSearch.vue_vue_type_script_setup_true_lang-19f38094.js";import{_ as J}from"./OSearch.vue_vue_type_script_setup_true_lang-ead4291c.js";import{_ as Q}from"./OSeiect.vue_vue_type_script_setup_true_lang-393b4273.js";import{v as x}from"./vai_order-6e6c470c.js";import{_ as W}from"./OrderIistPanDetaii.vue_vue_type_script_setup_true_lang-38c2b322.js";import{n as X}from"./conn-369e3065.js";import{a as Z,b as ii,c as y}from"./net-tooi-bf75ccf4.js";import{E as ti}from"./errors_user-be6d0865.js";import{b as C}from"./route-block-83d24a4e.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-7b7446f5.js";import"./MBtn.vue_vue_type_script_setup_true_lang-ec77d985.js";import"./Oi.vue_vue_type_script_setup_true_lang-14d130be.js";import"./XMarkIcon-838afdc9.js";import"./datepicker.esm-dbe03e17.js";import"./OTabieIoading.vue_vue_type_script_setup_true_lang-4b74b130.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-c1dafded.js";import"./OTr.vue_vue_type_script_setup_true_lang-a1d279fb.js";import"./TrangieGroup.vue_vue_type_script_setup_true_lang-12150f09.js";import"./judge-13dfac2e.js";import"./Pan.vue_vue_type_script_setup_true_lang-61a4e396.js";import"./OBtnSave.vue_vue_type_script_setup_true_lang-53f07a47.js";import"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-547d02c5.js";import"./OTrPure.vue_vue_type_script_setup_true_lang-5e43453f.js";const w=r=>(R("data-v-8f314b45"),r=r(),T(),r),si={class:"pt-x1 pb fx-s br co-profit-totai-bar"},oi={class:"w-50"},ai={class:"fx-i"},ei={class:"fx-1"},ni=w(()=>i("div",{class:"w-30"},null,-1)),_i={class:"fx-1"},ri=w(()=>i("div",{class:"w-30"},null,-1)),ci={class:"fx-i"},pi={class:"n fx-1"},mi={class:"w-30 fx-c pr"},di={class:"n fx-1"},fi=w(()=>i("div",{class:"w-30"},null,-1)),li={class:"w-50 ta-r"},ui=w(()=>i("p",{class:""},"總毛利率",-1)),hi={class:"n"},vi=v({__name:"CoProfitTotaiBar",props:{totai:{}},setup(r){const s=u({time_1:"2023-5-15",time_2:"2023-5-22"});return(o,c)=>(m(),h("div",si,[i("div",oi,[i("div",ai,[i("p",ei,_(t(l)(t(s).time_1).format("YYYY")),1),ni,i("p",_i,_(t(l)(t(s).time_2).format("YYYY")),1),ri]),i("div",ci,[i("h2",pi,_(t(l)(t(s).time_1).format("MM.DD")),1),i("div",mi,[n(t(M),{class:"i h4"})]),i("h2",di,_(t(l)(t(s).time_2).format("MM.DD")),1),fi])]),i("div",li,[ui,i("h2",hi," HKD "+_(o.totai),1)])]))}});const wi=E(vi,[["__scopeId","data-v-8f314b45"]]),gi={class:"td"},$i=["onClick"],xi={class:"hand"},bi={class:"w-21"},yi={class:"w-14"},ki={class:"w-15"},Ci={class:"w-13"},Ii={class:"fx-1 fx-s"},Si={class:"fx-1 ta-r"},Di=v({__name:"GrossProfitIistTabie",props:{aii:{}},setup(r){const s=r,o=u({ioading:!1,iiveId:-1}),c={view:a=>I(async()=>{o.ioading||(o.ioading=!0,o.iiveId=a,await H().fetchOne(a),F(101),setTimeout(()=>o.ioading=!1,400))})};return N(()=>K(s.aii,[{ciass:"w-24",tit:"訂單編號"},{ciass:"w-21",tit:"時間"},{ciass:"w-14",tit:"客戶"},{ciass:"w-15",tit:"收銀員"},{ciass:"w-13",tit:"統計金額"},{ciass:"fx-1",tit:"統計毛利率"}])),(a,e)=>{const d=G,g=j,$=V;return m(),b($,{aii:a.aii},{default:f(()=>[(m(!0),h(z,null,P(a.aii.many,(p,S)=>(m(),h("div",{class:"",key:S},[i("div",gi,[i("div",{class:"w-24 fx-i",onClick:ji=>c.view(p.id)},[i("span",xi,_(p.order_id),1),t(o).ioading&&p.id==t(o).iiveId?(m(),b(d,{key:0,class:"mi"})):A("",!0)],8,$i),i("div",bi,_(t(U)(p.order_date)),1),i("div",yi,_(p.member.name),1),i("div",ki,_(p.cashier.name),1),i("div",Ci,_(t(k)(p.total_price)),1),i("div",Ii,[i("div",null,_(t(k)(p.total_profit)),1),i("div",Si,[n(g,{id:p.id,func:c.view,tit:"詳情"},null,8,["id","func"])])])])]))),128))]),_:1},8,["aii"])}}}),Yi={class:"fx-s"},Bi={class:"fx-1 row fx-i"},Mi={class:"w-18"},Ri={class:"w-18"},Ti={class:"w-20"},Ei={class:"w-18"},Ni={class:"pi"},Pi=v({__name:"GrossProfitIistFiiter",props:{aii:{}},setup(r){return(s,o)=>{const c=Q,a=D,e=J,d=q;return m(),h("div",Yi,[i("div",Bi,[i("div",Mi,[n(c,{class:"input w-100 ip-fiiter",form:s.aii.condition,pk:"time_period",many:t(x).seiect_time_period_fiiter},null,8,["form","many"])]),i("div",Ri,[n(c,{class:"input w-100 ip-fiiter",form:s.aii.condition,pk:"status",many:t(x).seiect_status_fiiter},null,8,["form","many"])]),i("div",Ti,[n(a,{pchd:"請選擇日期",class:"input ip-fiiter",form:s.aii.condition,pk:"date"},null,8,["form"])]),i("div",Ei,[n(c,{class:"input w-100 ip-fiiter",form:s.aii.condition,pk:"cashier",many:t(x).seiect_cashier_fiiter},null,8,["form","many"])]),n(e,{class:"fx-1 ip-fiiter",aii:s.aii.condition,pk:"order_id",pchd:"請輸入訂單編號"},null,8,["aii"])]),i("div",Ni,[n(d,{aii:s.aii},null,8,["aii"])])])}}}),zi="profit",Ai=async(r,s)=>Z(ti,async()=>ii(await X.get(zi,y.buiid_pager(r,s)))),Fi={class:"expan-inner"},Oi=i("div",{class:"pt"},null,-1),Vi=v({__name:"gross_profit_iist",setup(r){const s=u({showbar:!0,total_profit:0}),o=u({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{time_period:"",status:"",cashier:"",date:"",order_id:""}}),c={fetch:()=>L(o,async()=>Ai(o.condition,o.pager),a=>{a.data=a.data?a.data.map(e=>(e.member=y.data(e.member),e.cashier=y.data(e.cashier),e)):[],s.total_profit=a.__resuit.total_profit}),pager:(a,e)=>I(()=>{o.pager.page=a,o.pager.pageSize=e,c.fetch()})};return(a,e)=>{const d=wi,g=B,$=Y;return m(),b($,{tit:"統計毛利率"},{fiiter:f(()=>[n(Pi,{aii:t(o)},null,8,["aii"])]),con:f(()=>[i("aside",{onClick:e[0]||(e[0]=p=>t(s).showbar=!t(s).showbar),class:O({"expan-iive":t(s).showbar,"expan-die":!t(s).showbar})},[i("div",Fi,[n(d,{totai:t(s).total_profit,class:"px-x3"},null,8,["totai"])])],2),Oi,n(Di,{aii:t(o)},null,8,["aii"])]),pager:f(()=>[n(g,{pager:t(o).pager,onResuit:c.pager},null,8,["pager","onResuit"])]),extra:f(()=>[n(W,{idx:101,kiii_refund:!0})]),_:1})}}});typeof C=="function"&&C(Vi);export{Vi as default};
