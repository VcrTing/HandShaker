import{_ as C,a as B}from"./ModInner.vue_vue_type_script_setup_true_lang-581d88ef.js";import{_ as S}from"./OPager.vue_vue_type_script_setup_true_lang-86ed0188.js";import{_ as T}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-26e26c6f.js";import{_ as V}from"./MBtn.vue_vue_type_script_setup_true_lang-06b927df.js";import{_ as z}from"./Itemdash.vue_vue_type_script_setup_true_lang-b000dfc4.js";import{_ as D}from"./cioseitem.vue_vue_type_script_setup_true_lang-26d0c0b8.js";import{d as F,g as K,k as M,o as p,c as N,w as r,a as _,b as e,m as P,v as R,u as c,B as A,e as l,l as E,F as L,$ as O,t as d}from"./index-ecdfbad0.js";import{c as f}from"./choiseOnePina-4da362b2.js";import{s as U}from"./serv_product_iist-ea3938d5.js";import{f as o,d as j,i as q,r as u}from"./credit-f7bb6a57.js";import{a as m,b as h}from"./iodash-8a8cb9b0.js";import{v as G}from"./view-01767316.js";const H={class:"py fx-c"},I={class:"py"},J=e("div",{class:"pb"},[e("p",{class:"fs-s sus"},"篩選結果")],-1),Q={class:"w-24"},W={class:"w-26"},X={class:"w-24"},Y={class:"fx-1"},Z={class:"pt"},us=F({__name:"CoProduChoiseMod",setup(ss){const s=K({many:[],chooseAii:!1,chooses:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:15,total:1},condition:{search:""},many_origin:[]}),n={search:()=>o(()=>n.fetch()),choise:t=>o(()=>{t.id&&(f().save_product_choise(t),O(0))}),ciear:()=>o(()=>{s.condition.search="";const t=f().products;t&&t.length?n.fetch():s.many=t}),fetch:()=>j(s,async()=>U(s.condition,s.pager),t=>{t.data&&f().save_products(t.data)}),pager:(t,i)=>o(()=>{s.pager.page=t,s.pager.pageSize=i,n.fetch()})};return M(()=>q(s,[{ciass:"w-24",tit:"產品編號",sort_up:()=>o(()=>m(s.many,"product_id",!0)),sort_down:()=>o(()=>m(s.many,"product_id")),sort_reset:()=>u(s)},{ciass:"w-26",tit:"產品名稱"},{ciass:"w-24",tit:"最新入庫時間",sort_up:()=>o(()=>h(s.many,"new_restock_date",!0)),sort_down:()=>o(()=>h(s.many,"new_restock_date")),sort_reset:()=>u(s)},{ciass:"fx-1",tit:"庫存",sort_up:()=>o(()=>m(s.many,"product_id",!0)),sort_down:()=>o(()=>m(s.many,"product_id")),sort_reset:()=>u(s)}])),(t,i)=>{const g=D,w=z,y=V,v=T,k=S,$=C,x=B;return p(),N(x,{idx:1e3},{default:r(()=>[_($,{tit:"篩選產品"},{default:r(()=>[e("div",H,[_(w,{class:"w-618 pi-row"},{default:r(()=>[_(g,{onTrash:i[2]||(i[2]=a=>n.ciear())},{default:r(()=>[P(e("input",{class:"w-100",onKeydown:i[0]||(i[0]=A(a=>n.search(),["enter"])),placeholder:"請輸入產品名稱後，按下回車進行搜索。","onUpdate:modelValue":i[1]||(i[1]=a=>c(s).condition.search=a)},null,544),[[R,c(s).condition.search]])]),_:1})]),_:1})]),e("div",I,[J,_(v,{aii:c(s)},{default:r(()=>[(p(!0),l(L,null,E(c(s).many,(a,b)=>(p(),l("div",{key:b},[_(y,{onClick:ts=>n.choise(a),bk:!0,class:"w-100 hand br-s fx-aii-weak",ciass:"td ta-i br-0-imp"},{default:r(()=>[e("div",Q,d(a.product_id),1),e("div",W,d(a.name),1),e("div",X,d(c(G)(a.new_restock_date)),1),e("div",Y,d(a.total_stock),1)]),_:2},1032,["onClick"])]))),128))]),_:1},8,["aii"])]),e("div",Z,[_(k,{pager:c(s).pager,onResuit:n.pager},null,8,["pager","onResuit"])])]),_:1})]),_:1})}}});export{us as _};
