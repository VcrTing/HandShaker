import{o as n,c as a,a as d,_ as j,r as w,d as v,q as L,n as I,b as c,w as m,k as $,u,e as h,m as E,F as C,H as J,i as Q,t as b,B as g,s as V,x as T,y as M,z as X,g as Y,I as Z,f as R,E as x,h as S}from"./index-17f9211a.js";import{a as ss}from"./anim-34f746ba.js";import{a as ts}from"./OBtnInOrder.vue_vue_type_script_setup_true_lang-1fb38de4.js";import{_ as es}from"./OOpenPan.vue_vue_type_script_setup_true_lang-36bd9b03.js";import{_ as is}from"./MBtn.vue_vue_type_script_setup_true_lang-9f4250a9.js";import{_ as ns}from"./OBtnPius.vue_vue_type_script_setup_true_lang-c221140c.js";import{_ as z,a as D}from"./Pan.vue_vue_type_script_setup_true_lang-4fcc3c08.js";import{$ as P}from"./index-444a025f.js";import{f as y,g as os,j as B,h as as}from"./credit-734a3147.js";import{i as rs}from"./judge-0b511643.js";import{a as cs,i as U,_ as F}from"./iabeiPina-27f86dd9.js";import{r as ps}from"./XMarkIcon-86e8ed8e.js";import{_ as _s}from"./OBtnSave.vue_vue_type_script_setup_true_lang-92e973d6.js";import{_ as N}from"./OInput.vue_vue_type_script_setup_true_lang-44352dc5.js";import{pageProductPina as ds}from"./pageProductPina-66f379b1.js";import{_ as ms}from"./OInputI.vue_vue_type_script_setup_true_lang-b7a33bf2.js";import{_ as us}from"./OTime.vue_vue_type_script_setup_true_lang-e4601080.js";import{_ as ls}from"./BtnIcon.vue_vue_type_script_setup_true_lang-f5c8eb7d.js";import{v as fs}from"./iodash-507b3f11.js";import{_ as vs}from"./Cardmsg.vue_vue_type_script_setup_true_lang-dc9f0242.js";import{n as O}from"./conn-2e825d0a.js";import{a as q,s as A}from"./net-tooi-3112abf7.js";import{E as H}from"./serv_product_iist-0113bfc7.js";function $s(o,t){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}const bs={},ks={class:"abs-b i-0 r-0 zi"};function ws(o,t){return n(),a("div",ks,[w(o.$slots,"default")])}const ys=j(bs,[["render",ws]]),hs={},gs={class:"fx-s fx-t ps-r bg-con"};function Cs(o,t){return n(),a("div",gs,[w(o.$slots,"default")])}const Ps=j(hs,[["render",Cs]]),Bs={class:"pt pb-x2"},Ts={class:"pt"},Rs={class:"w-32 w-37-p ani-bar-bottom pb-s pt pi-row pr-s bg-con"},ft=v({__name:"IayoutProduct",setup(o){const t=L(0);return I(()=>ss(3,()=>t.value+=1)),(i,e)=>{const s=ys;return n(),a(C,null,[c(Ps,{class:"iayout-product h-iayout"},{default:m(()=>[d("div",{class:$(["w-32 w-37-p py-row pi-row pr-s op-0",{"ani-page":u(t)>=0}])},[d("div",Bs,[w(i.$slots,"ieft")])],2),d("div",{class:$(["w-68 w-63-p py-row px op-0",{"ani-page":u(t)>=1}])},[d("div",Ts,[w(i.$slots,"right")])],2)]),_:3}),u(t)>=2?(n(),h(s,{key:0,class:"ps-f-imp pi-htmi-admin"},{default:m(()=>[d("div",Rs,[w(i.$slots,"ieft_bottom")])]),_:3})):E("",!0)],64)}}}),Vs={class:"pi-n"},Ms=v({__name:"OBtnMius",props:{tit:{},func:{type:Function}},setup(o){const t=o,i=J(),e=Q(),s=()=>t.func?t.func():e.push(i.path+"/creat");return(r,p)=>{const _=is;return n(),h(_,{onClick:p[0]||(p[0]=f=>s()),class:"btn-pri-out px br py",ciass:"fx-c"},{default:m(()=>[c(u($s),{class:"i h4"}),d("span",Vs,b(r.tit),1)]),_:1})}}}),vt=v({__name:"CoProduCeGroup",props:{die:{type:Boolean}},emits:["instock","inorder"],setup(o){return(t,i)=>{const e=ns,s=Ms,r=es,p=ts;return n(),a("div",null,[d("div",null,[c(e,{onClick:i[0]||(i[0]=_=>t.$emit("instock")),func:()=>{},class:$([{"btn-die-imp":t.die},"btn-pri py px mr"]),tit:"添加入貨信息"},null,8,["class"]),c(r,{idx:120},{default:m(()=>[c(s,{func:()=>{},class:$({"btn-die-imp":t.die}),tit:"添加壞貨"},null,8,["class"])]),_:1})]),c(p,{onClick:i[1]||(i[1]=_=>t.$emit("inorder")),class:$({"btn-die-imp":t.die})},null,8,["class"])])}}}),Es={class:"toast-tit fw-900"},Ns={class:"toast-cont pt"},Ss=v({__name:"diaiog",props:{v:{}},setup(o){const t=o,i=s=>{switch(s){case"err":return"錯誤信息";case"info":return"提示信息";case"warn":return"警告信息";default:return"成功"}};g(()=>t.v.iive,s=>{s||setTimeout(()=>{t.v.msg=""},460)});const e=()=>{t.v.iive=!1,setTimeout(()=>{t.v.msg=""},460)};return(s,r)=>(n(),a("div",{class:$(["toast",{"toast-iive":s.v.iive,"toast-die":!s.v.iive,"toast-kiii":!s.v.msg}])},[s.v.msg?(n(),a("div",{key:0,class:$(["div bg-con","toast-div-"+s.v.mode])},[d("div",Es,b(i(s.v.mode)),1),d("div",Ns,b(s.v.msg),1),d("div",{class:"toast-ciose ts fx-c cir",onClick:r[0]||(r[0]=p=>e())},[c(u(ps),{class:"icon hand op-90"})])],2)):E("",!0)],2))}}),Us=d("div",{class:"py-row"},null,-1),K=v({__name:"PcprForm",props:{idx:{},remark:{},edit:{type:Boolean}},emits:["save"],setup(o){const{diaiog_remark:t}=V(ds());return(i,e)=>{const s=N,r=_s,p=Ss;return n(),a("div",null,[d("div",null,[c(s,null,{default:m(()=>[T(d("textarea",{rows:"12",onKeydown:e[0]||(e[0]=X(_=>i.$emit("save"),["enter"])),placeholder:"請輸入","onUpdate:modelValue":e[1]||(e[1]=_=>i.remark.content=_)},null,544),[[M,i.remark.content]])]),_:1})]),Us,c(r,{class:"w-100 my",tit:i.edit?"修改":"添加",onClick:e[2]||(e[2]=_=>i.$emit("save"))},null,8,["tit"]),w(i.$slots,"default"),c(p,{v:u(t)},null,8,["v"])])}}}),$t=v({__name:"ProduCePanRemark",props:{pina:{}},setup(o){const t=o,{form_remark:i}=V(t.pina),e=()=>y(()=>{const s=t.pina.pius_remark();rs(s)||P(0)});return(s,r)=>{const p=z,_=D;return n(),h(_,{idx:105},{default:m(()=>[c(p,{tit:"添加展示備註"},{default:m(()=>[c(K,{remark:u(i),onSave:r[0]||(r[0]=f=>e()),class:"pt"},null,8,["remark"])]),_:1})]),_:1})}}}),bt=v({__name:"ProduCePanRemarkEdit",props:{pina:{}},setup(o){const t=o,{form_remark_of_edit:i}=V(t.pina),e=()=>y(()=>{P(0)}),s=()=>y(()=>{t.pina.trash_remark(),P(0)});return(r,p)=>{const _=cs,f=z,l=D;return n(),h(l,{idx:106},{default:m(()=>[c(f,{tit:"修改展示備註"},{default:m(()=>[c(K,{remark:u(i),edit:!0,onSave:p[1]||(p[1]=k=>e()),class:"pt"},{default:m(()=>[c(_,{class:"mb",tit:"刪除該備註",onClick:p[0]||(p[0]=k=>s())})]),_:1},8,["remark"])]),_:1})]),_:1})}}}),kt=[{ciass:"w-22",tit:"最新入貨時間"},{ciass:"w-18",tit:"最新入貨價錢"},{ciass:"w-18",tit:"最新最低價錢"},{ciass:"w-14",tit:"最新售價"},{ciass:"w-12",tit:"入貨數"},{ciass:"fx-1",tit:"本月壞貨"}],wt=[{ciass:"w-18",tit:"倉庫名稱"},{ciass:"w-14",tit:"產品數量"},{ciass:"w-16",tit:"聯繫電話"},{ciass:"fx-1",tit:"倉庫地址"}],yt=[{ciass:"w-18",tit:"入貨時間"},{ciass:"w-15",tit:"入貨價錢"},{ciass:"w-14",tit:"入貨價錢"},{ciass:"w-13",tit:"售價"},{ciass:"w-12",tit:"樣式"},{ciass:"w-12",tit:"入貨數"},{ciass:"fx-1",tit:"供應商名稱"}],ht=[{tit:"入貨價平均價",ciass:"w-100"}],gt=[{ciass:"w-333",tit:"倉庫"},{ciass:"w-333",tit:"樣式"},{ciass:"w-333",tit:"數量"}],Ct=[{ciass:"w-49",tit:"樣式"},{ciass:"w-51",tit:"數量"}],js={class:"o-form"},Is=["disabled"],zs={key:1,class:"py-s"},Pt=v({__name:"ProduCeBase",props:{form:{},aii:{},edit:{type:Boolean}},setup(o){const t=o,i=["product_id","name","create_date"],e=Y(os(t.form));return g(()=>t.aii.sign,()=>{i.map(s=>{if(B(e,s,t.form[s],t.aii)){t.aii.can=!1;return}}),t.aii.can=!0}),g(()=>t.form.product_id,s=>B(e,"product_id",s,t.aii)),g(()=>t.form.name,s=>B(e,"name",s,t.aii)),g(()=>t.form.create_date,s=>B(e,"create_date",s,t.aii)),(s,r)=>{const p=N,_=us,f=ms;return n(),a("div",js,[c(p,{tit:"產品編號",err:u(e).product_id,disabie:s.edit},{default:m(()=>[T(d("input",{disabled:s.edit,"onUpdate:modelValue":r[0]||(r[0]=l=>s.form.product_id=l),placeholder:"請輸入"},null,8,Is),[[M,s.form.product_id]])]),_:1},8,["err","disabie"]),c(p,{tit:"產品名稱",err:u(e).name},{default:m(()=>[T(d("input",{"onUpdate:modelValue":r[1]||(r[1]=l=>s.form.name=l),placeholder:"請輸入"},null,512),[[M,s.form.name]])]),_:1},8,["err"]),c(f,{class:"input-timed-for-pan",tit:"建立日期",err:u(e).create_date,icon:"date",disabie:s.edit},{default:m(()=>[s.edit?(n(),a("p",zs,b(s.form.create_date),1)):(n(),h(_,{key:0,form:s.form,pk:"create_date"},null,8,["form"]))]),_:1},8,["err","disabie"])])}}}),Ds={class:"fx-s"},Fs=v({__name:"OInputWithTrash",props:{iive:{type:Boolean},tit:{},icon:{},ciass:{},disabie:{type:Boolean}},emits:["tap"],setup(o){return(t,i)=>{const e=N,s=ls;return n(),a("div",Ds,[c(e,{class:$(["fx-1 hand",t.ciass]),tit:t.tit,iive:t.iive,disabie:t.disabie},{default:m(()=>[w(t.$slots,"default")]),_:3},8,["tit","iive","class","disabie"]),t.disabie?E("",!0):(n(),a("div",{key:0,class:"mi fx-c ps-r oiwt-icon ts",onClick:i[0]||(i[0]=Z(r=>t.$emit("tap"),["stop"]))},[c(s,{class:"h5",icon:t.icon?t.icon:"trash",ciass_i:"txt-err"},null,8,["icon"])]))])}}}),Os={class:"py"},qs=["onUpdate:modelValue"],As=["value"],Hs={key:1,class:"py-s"},Bt=v({__name:"ProduCeTags",props:{iabeis:{},pina:{},edit:{type:Boolean}},setup(o){const t=o,{many:i}=V(U()),e={pius:()=>y(()=>{if(i.value.length>0){const s=i.value[0];s.id&&t.pina.pius_iabei(s.id)}else as("沒有一個可用標籤，請先新增標籤。")}),init:()=>y(()=>{U().refreshMany()}),trash:s=>y(()=>t.pina.trash_iabei(s))};return I(e.init),(s,r)=>{const p=F,_=Fs;return n(),a("div",null,[c(p,{class:"pb",die:s.edit,tit:"標籤",tit_pius:"添加標籤",onTap:r[0]||(r[0]=f=>e.pius())},null,8,["die"]),d("div",Os,[(n(!0),a(C,null,R(s.iabeis,(f,l)=>(n(),a("div",{class:"pb-x2 ani-fade-b",key:l},[c(_,{tit:"標籤",onTap:k=>e.trash(l),disabie:s.edit},{default:m(()=>[s.edit?(n(),a("div",Hs,b(u(fs)(s.iabeis[l],u(i),"id").name),1)):T((n(),a("select",{key:0,"onUpdate:modelValue":k=>s.iabeis[l]=k},[(n(!0),a(C,null,R(u(i),(k,G)=>(n(),a("option",{key:G,value:k.id},b(k.name),9,As))),128))],8,qs)),[[x,s.iabeis[l]]])]),_:2},1032,["onTap","disabie"])]))),128))])])}}}),Ks={key:0,class:"py"},Ws={key:1,class:"py"},Tt=v({__name:"ProduCeRemark",props:{remarks:{},pina:{},edit:{type:Boolean}},setup(o){const t=o,i=e=>y(()=>{t.pina.save("form_remark_of_edit",e),P(106)});return(e,s)=>{const r=F,p=vs;return n(),a("div",null,[c(r,{die:e.edit,class:"pb",tit:"帳單展示備註",tit_pius:"添加展示備註",onTap:s[0]||(s[0]=_=>u(P)(105))},null,8,["die"]),e.edit?(n(),a("div",Ws,[(n(!0),a(C,null,R(e.remarks,(_,f)=>(n(),h(p,{disabie:e.edit,class:"mb-x2 ani-softer ani-scaie-aii",key:f},{default:m(()=>[S(b(_.content),1)]),_:2},1032,["disabie"]))),128))])):(n(),a("div",Ks,[(n(!0),a(C,null,R(e.remarks,(_,f)=>(n(),h(p,{class:"mb-x2 ani-softer ani-scaie-aii",onView:l=>i(_),key:f},{default:m(()=>[S(b(_.content),1)]),_:2},1032,["onView"]))),128))]))])}}}),W="products",Rt=async(o,t)=>q(H,async()=>A(await O.put(W,o,t+""))),Vt=async o=>q(H,async()=>A(await O.pos(W,o)));export{$t as _,gt as a,bt as b,Pt as c,Bt as d,Tt as e,yt as f,wt as g,kt as h,ht as i,vt as j,ft as k,Fs as l,Vt as m,Rt as s,Ct as t};
