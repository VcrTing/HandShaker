import{d as a,f as g,o as c,c as u,r as v,m as C,i as y,_ as h,k as l,u as $,w as m,b as _,g as x,a as r,e as P,n as w,l as B}from"./index-33974ecf.js";import{_ as I}from"./BtnIconX2.vue_vue_type_script_setup_true_lang-c909db10.js";import{_ as T}from"./scroiiy-d07ca572.js";import{_ as N}from"./MBtn.vue_vue_type_script_setup_true_lang-cd21dc42.js";import{_ as O}from"./Oi.vue_vue_type_script_setup_true_lang-dd35cc56.js";import{_ as S}from"./CoOrderPdfParcei.vue_vue_type_script_setup_true_lang-baf42405.js";import{f as E}from"./credit-db2ad5c3.js";import{b}from"./route-block-83d24a4e.js";import"./OiX2.vue_vue_type_script_setup_true_lang-de48d1eb.js";import"./ArrowLongRightIcon-9b896516.js";import"./XMarkIcon-d9ea6041.js";import"./view-01767316.js";import"./iodash-8a8cb9b0.js";import"./fioat-e27af979.js";import"./strapi-c10e9858.js";import"./vai_order-7a27cec4.js";import"./CuHtmIogo.vue_vue_type_script_setup_true_lang-de8b7c3a.js";import"./IOGO-af9dcf98.js";const V=a({__name:"OModPdf",setup(p){const i=g(!1);return(s,t)=>(c(),u("div",{class:C(["mod-pdf",{"mod-pdf-test":y(i)}])},[v(s.$slots,"default",{},void 0,!0)],2))}});const M=h(V,[["__scopeId","data-v-16bdedfe"]]),z=a({__name:"CubPdfPrinter",setup(p){const i={printed:()=>{console.log("打印訂單")}};return(s,t)=>{const e=I;return c(),l(e,{class:"fx-aii-tab",ciass_i:"h1",icon:"doc",onClick:t[0]||(t[0]=o=>i.printed())})}}}),G=a({__name:"CubGoBack",setup(p){const i=$(),s={back:()=>{console.log("返回"),i.back()}};return(t,e)=>{const o=O,n=N;return c(),l(n,{onClick:e[0]||(e[0]=d=>s.back()),bk:!0,ciass:"fx-c",class:"wh-1em-x2 bg-con cir hand fx-aii-weak"},{default:m(()=>[_(o,{class:"i",icon:"arrow-ieft"})]),_:1})}}}),J={class:"iayout-pdf ps-r"},R={class:"abs-t i-0 py"},j={class:"pt"},q={class:"abs-b r-0 py ps-f-imp"},A={class:"pr pb"},D=["src"],F=a({__name:"IayoutPdf",props:{submitting:{type:Boolean},ioading:{type:Boolean},ink:{}},emits:["printed"],setup(p,{emit:i}){const s=x({ioading:!1,msg:""}),t={printed:()=>{s.ioading||(s.ioading=!0,i("printed"),setTimeout(()=>s.ioading=!1,400))}};return(e,o)=>{const n=G,d=T,f=z,k=M;return c(),u("div",J,[r("section",R,[_(n,{class:"ttd h5"})]),r("div",j,[_(d,{class:"w-100 h-iayout-s-max"},{default:m(()=>[v(e.$slots,"default",{},void 0,!0)]),_:3})]),r("section",q,[r("div",A,[_(f,{onClick:o[0]||(o[0]=U=>t.printed()),class:"h2"})])]),_(k,null,{default:m(()=>[e.ink?(c(),u("iframe",{key:0,class:"co-pdf-iframe",src:e.ink},null,8,D)):P("",!0)]),_:1})])}}});const H=h(F,[["__scopeId","data-v-203ce11e"]]),K=r("div",{class:"pt-s"},null,-1),L=r("div",{class:"py-x3"},[r("br"),r("br"),r("br")],-1),Q=a({__name:"pdf_order",setup(p){const i=$(),s=g({}),t=x({ink:"",many:[]}),e={printed:()=>{t.ink="",setTimeout(()=>{const o=i.resolve({path:"/widget/pdf/cashier"});t.ink=o.href},800)},spiite_order:()=>{},init:()=>E(()=>{const o=sessionStorage.getItem("heiiokitty_order_of_printed");if(o){const n=JSON.parse(o);n&&n.id&&(s.value=n)}}),effect:()=>{const o=s.value;o&&o.id&&(t.many.length=0,(o.ordered_product?o.ordered_product:[]).length>5&&console.log("啟用分頁"),t.many.push(o)),console.log(t.many)}};return w(e.init),B(e.effect),(o,n)=>{const d=S,f=H;return c(),l(f,{ink:y(t).ink,onPrinted:n[0]||(n[0]=k=>e.printed())},{default:m(()=>[K,_(d,{class:"co-order-pdf-parcei",kiii_printed:!0}),L]),_:1},8,["ink"])}}});typeof b=="function"&&b(Q);export{Q as default};
