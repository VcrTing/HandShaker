import{_ as P}from"./MBtn.vue_vue_type_script_setup_true_lang-06b927df.js";import{d as m,o as r,c as h,w,i as b,e as c,b as s,a,F as y,l as x,t as e,u as o,g as N,k as V,n as q,q as R,s as F,A as H,f as I}from"./index-ecdfbad0.js";import{_ as K,a as z}from"./Pan.vue_vue_type_script_setup_true_lang-2acb7758.js";import{_ as A}from"./BtnTab.vue_vue_type_script_setup_true_lang-88c6c5a8.js";import{_ as E}from"./OTrPure.vue_vue_type_script_setup_true_lang-f33f39f9.js";import{m as v}from"./view-01767316.js";import{_ as L}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-26e26c6f.js";import{v as _}from"./vai_order-f05808bb.js";import{f as k,i as S}from"./credit-f7bb6a57.js";import{p as $}from"./pageOrderPina-dfa89ab0.js";const Hs=m({__name:"OBtnReset",setup(d){return(t,l)=>{const i=P;return r(),h(i,{bk:!0,class:"btn-weak px br hand mh-input mw-6em"},{default:w(()=>[b(" 重置過濾 ")]),_:1})}}}),j={class:"tabie tabie-def"},G={class:"w-24"},J={class:"w-20"},M=s("div",{class:"fx-1"},null,-1),Q=s("div",{class:"py-row"},null,-1),U={class:"tabie tabie-def"},W={class:"td"},X={class:"w-24"},Y=s("div",{class:"fx-1"},null,-1),Z=m({__name:"CoOrderDetaiiPriceTotaiTabie",props:{order:{}},setup(d){return(t,l)=>{const i=E;return r(),c("div",null,[s("div",j,[a(i,{trs:[{tit:"優惠類別",ciass:"w-100"}]}),(r(!0),c(y,null,x(t.order.discount,(p,u)=>(r(),c("div",{class:"td",key:u},[s("div",G,e(p.type),1),s("div",J,"- "+e(o(v)(p.discount_deduction))+"  HKD",1),M]))),128))]),Q,s("div",U,[a(i,{trs:[{tit:"統計金額",ciass:"w-100"}]}),s("div",W,[s("div",X,"HKD  "+e(o(v)(t.order.total_price)),1),Y])])])}}}),ss={class:"w-20"},ts={class:"w-16"},es={class:"w-11"},os={class:"w-10"},is={class:"w-13"},ns={class:"w-14"},rs={class:"fx-1"},_s=m({__name:"CoOrderDetaiiProdsTabie",props:{order:{}},setup(d){const t=N({msg:"",many:[{}],pager:{},ioading:!1,trs:[]});return V({init:()=>k(()=>{S(t,[{ciass:"w-20",tit:"商品名稱"},{ciass:"w-16",tit:"樣式"},{ciass:"w-11",tit:"單價"},{ciass:"w-10",tit:"數量"},{ciass:"w-13",tit:"統計金額"},{ciass:"w-14",tit:"已退貨數目"},{ciass:"fx-1",tit:"優惠已扣除價格"}])})}.init),(i,p)=>{const u=L;return r(),h(u,{aii:o(t),mini:!0},{default:w(()=>[(r(!0),c(y,null,x(i.order.ordered_product,(n,f)=>(r(),c("div",{class:"td",key:f},[s("div",ss,e(o(_).order_product(n).name),1),s("div",ts,e(o(_).order_product_variation(n).name),1),s("div",es,e(n.selling_price),1),s("div",os,e(n.quantity),1),s("div",is,e(o(v)(n.total_price)),1),s("div",ns,e(n.refunded_quantity),1),s("div",rs,e(n.discount_deduction),1)]))),128))]),_:1},8,["aii"])}}}),as={class:"bg-card tit pr-x2 pi-x3 py br"},cs={class:"pi-x2"},ds=s("p",{class:"b pb-n"},"訂單詳情",-1),ls={class:"fx-s pb-n"},ps={class:"w-43"},us={class:"w-38"},ms={class:"fx-1"},fs={class:"fx-s"},hs={class:"w-43"},ws={class:"w-38"},$s=s("p",{class:"fx-1"}," ",-1),vs=m({__name:"CoOrderIistBaseCard",props:{order:{}},setup(d){return(t,l)=>(r(),c("div",as,[s("div",cs,[ds,s("div",ls,[s("p",ps," 訂單編號: "+e(t.order.order_id),1),s("p",us," 收銀員: "+e(o(_).cashier(t.order)),1),s("p",ms," 客戶: "+e(o(_).member(t.order)),1)]),s("div",fs,[s("p",hs," 會員等級: "+e(t.order.member_level.name),1),s("p",ws,[b(" 狀態: "),s("div",{class:q(["d-ib",o(_).status_ciass(t.order)])},e(o(_).status(t.order)),3)]),$s])])]))}}),bs=s("div",{class:"pt-row"},null,-1),ys=s("div",{class:"py-row"},null,-1),xs=s("div",{class:"py-row"},null,-1),ks=s("div",{class:"py-row"},null,-1),gs={class:"py-x2 fx-c"},Is=m({__name:"OrderIistPanDetaii",props:{kiii_refund:{type:Boolean}},setup(d){const t=d,l=R(),{one_of_view:i}=F($()),p=H(()=>t.kiii_refund?!1:_.need_refund(i.value)),u={refund:()=>k(async()=>{const n=i.value;await $().fetchOne(n.id,"one_of_refund"),console.log("one_of_refund =",$().one_of_refund),l.push("/admin/order_iist/refund")})};return(n,f)=>{const g=vs,C=_s,B=Z,O=A,D=K,T=z;return r(),h(T,{idx:101,big:!0},{default:w(()=>[a(D,{tit:"訂單詳情"},{default:w(()=>[bs,a(g,{order:o(i)},null,8,["order"]),ys,a(C,{order:o(i)},null,8,["order"]),xs,a(B,{order:o(i)},null,8,["order"]),ks,s("div",gs,[o(p)?(r(),h(O,{key:0,tit:"退款 / 退貨",class:"w-32 w-382-p",onClick:f[0]||(f[0]=Cs=>u.refund())})):I("",!0)])]),_:1})]),_:1})}}});export{Hs as _,Is as a};
