import{_ as v}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-4ec6993a.js";import{b as N,c as F,d as O,e as q}from"./product_trs-7e7b39e7.js";import{i as w,f as h}from"./credit-1f946479.js";import{d as l,o as e,c as r,t as a,n as $,k as y,w as b,p as C,F as B,a as o,b as p,i as u,B as P,z}from"./index-196d4fb0.js";import{_ as D}from"./OTrPure.vue_vue_type_script_setup_true_lang-c7a02aeb.js";import{pageProductInstockPina as I}from"./pageProductInstockPina-610ed06a.js";import{t as T}from"./iodash-8a8cb9b0.js";import{v as V}from"./view-01767316.js";import{c as k}from"./net-tooi-07907f0e.js";const E={class:"d-ib hand txt-pri ani-scaie-aii-x2 fs-n ani-softer"},g=l({__name:"OTabieOpera",props:{tit:{}},setup(d){return(n,c)=>(e(),r("div",E,a(n.tit),1))}}),L={class:"w-20"},S={class:"w-20"},W={class:"fx-1 fx-s"},j={class:"d-ib pr"},x={key:0,class:"fx-r"},A={key:1},yi=l({__name:"CoPidWarehouseTabie",props:{aii:{},one_of_edit:{},kiii_option:{type:Boolean}},emits:["view","transtock"],setup(d){const n=d;return $(()=>w(n.aii,N)),(c,_)=>{const s=g,i=v;return e(),y(i,{aii:c.aii,mini:!0},{default:b(()=>[(e(!0),r(B,null,C(c.one_of_edit.storehouse_info,(t,m)=>(e(),r("div",{class:"td",key:m},[o("div",L,a(t.storehouse_name),1),o("div",S,a(t.phone_no),1),o("div",W,[o("div",j,a(t.storehouse_address),1),c.kiii_option?(e(),r("div",A)):(e(),r("div",x,[p(s,{onClick:f=>c.$emit("view",t),tit:"庫存詳情"},null,8,["onClick"]),p(s,{class:"pi-s",onClick:f=>c.$emit("transtock",t),tit:"調貨"},null,8,["onClick"])]))])]))),128))]),_:1},8,["aii"])}}}),G=o("div",{class:"py-row"},null,-1),H={class:"tabie tabie-def"},J={class:"td"},K={class:"w-100"},bi=l({__name:"CoPidTotaiTabie",props:{one_of_edit:{}},setup(d){return(n,c)=>{const _=D;return e(),r("div",null,[G,o("div",H,[p(_,{trs:u(F)},null,8,["trs"]),o("div",J,[o("div",K,a(n.one_of_edit.total_broken_products),1)])])])}}}),M={class:"w-28 pr-s"},Q={key:0},R={key:1},U={class:"w-18"},X={class:"w-18"},Y={class:"w-15"},Z={class:"fx-1 fx-s"},ii={key:0,class:"pi-s fx-1 fx-wp fx-r"},oi={key:1},Ci=l({__name:"ProduNewInstockTabie",props:{aii:{},one_of_edit:{},kiii_option:{type:Boolean}},setup(d){const n=d;$(()=>w(n.aii,O));const c={view:()=>h(()=>{const s=(n.one_of_edit.restocks?n.one_of_edit.restocks:[]).sort((i,t)=>T(i.id)-T(t.id));s.length>0&&(I().save("newinstock_of_view",s[s.length-1]),P(111))})};return(_,s)=>{const i=g,t=v;return e(),y(t,{aii:_.aii,mini:!0},{default:b(()=>[(e(),r(B,null,C([{}],(m,f)=>o("div",{class:"td",key:f},[o("div",M,[_.one_of_edit.new_restock_date?(e(),r("span",Q,a(u(V)(_.one_of_edit.new_restock_date)),1)):(e(),r("span",R,"(未有入貨信息)"))]),o("div",U,a(_.one_of_edit.new_restock_price),1),o("div",X,a(_.one_of_edit.new_lowest_price),1),o("div",Y,a(_.one_of_edit.new_selling_price),1),o("div",Z,[o("div",null,a(_.one_of_edit.total_broken_products),1),_.kiii_option?(e(),r("span",oi)):(e(),r("div",ii,[p(i,{onClick:s[0]||(s[0]=pi=>c.view()),tit:"入貨詳情"})]))])])),64))]),_:1},8,["aii"])}}}),ti={class:"w-28 pr"},si={class:"w-13"},ei={class:"w-14"},ni={class:"w-12"},_i={class:"w-12"},ai={class:"fx-1 fx-s"},ri={key:0,class:"pi-s"},ci={key:1},di=l({__name:"CoPidInstockTabie",props:{many:{},aii:{},kiii_option:{type:Boolean}},emits:["view"],setup(d){return(n,c)=>{const _=g,s=v;return e(),y(s,{aii:n.aii,mini:!0},{default:b(()=>[(e(!0),r(B,null,C(n.many,(i,t)=>(e(),r("div",{class:"td",key:t},[o("div",ti,a(u(V)(i.restock_date)),1),o("div",si,a(i.restock_price),1),o("div",ei,a(i.lowest_price),1),o("div",ni,a(i.selling_price),1),o("div",_i,a(i.quantity),1),o("div",ai,[o("div",null,a(i.supplier.name),1),n.kiii_option?(e(),r("span",ci)):(e(),r("div",ri,[p(_,{onClick:m=>n.$emit("view",i),tit:"檢視"},null,8,["onClick"])]))])]))),128))]),_:1},8,["aii"])}}}),Bi=l({__name:"ProduInstockTabie",props:{aii:{},one_of_edit:{},kiii_option:{type:Boolean}},setup(d){const n=d,c=z(()=>{const s=n.one_of_edit.restocks;return s?(s.map(i=>(i.supplier=i.supplier?k.data(i.supplier):{},i)),s):[]});$(()=>w(n.aii,q));const _={instock:()=>h(()=>{}),view:s=>h(()=>{let i=s.restock_distribute;i=i||[],i.map(t=>(t.variation.data&&(t.variation=k.data(t.variation).id),t.storehouse.data&&(t.storehouse=k.data(t.storehouse).id),t)),I().save("inventory_and_variation_of_view",i),P(112)})};return(s,i)=>{const t=di;return e(),r("div",null,[p(t,{onView:_.view,aii:s.aii,many:u(c),kiii_option:s.kiii_option},null,8,["onView","aii","many","kiii_option"])])}}});export{g as _,Ci as a,Bi as b,bi as c,yi as d};
