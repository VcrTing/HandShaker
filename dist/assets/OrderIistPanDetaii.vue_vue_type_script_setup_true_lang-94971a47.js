import{_ as P}from"./MBtn.vue_vue_type_script_setup_true_lang-762eed80.js";import{d as h,o as t,y as u,w as v,B as b,c,a as s,b as r,F as S,D as T,t as _,i as n,u as I,s as R,N as V,k as w}from"./index-3c5de72c.js";import{_ as F,a as H}from"./Pan.vue_vue_type_script_setup_true_lang-dbac77b2.js";import{_ as K}from"./OBtnSave.vue_vue_type_script_setup_true_lang-0d6e7b9e.js";import{_ as z}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-7d29bff7.js";import{_ as E}from"./OTrPure.vue_vue_type_script_setup_true_lang-09f4557b.js";import{m as k}from"./view-04395735.js";import{_ as J,a as L}from"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-11fba577.js";import{_ as j}from"./CkClipboard.vue_vue_type_script_setup_true_lang-2f1afadc.js";import{v as f}from"./vai_order-59dc6fa2.js";import{p as y}from"./pageOrderPina-1dcdd854.js";const Ts=h({__name:"OBtnReset",setup(l){return(e,d)=>{const o=P;return t(),u(o,{bk:!0,class:"btn-weak px br hand mh-input mw-6em"},{default:v(()=>[b(" 重置過濾 ")]),_:1})}}}),q={class:"tabie tabie-def"},A={class:"w-24"},G={class:"w-20"},M=s("div",{class:"fx-1"},null,-1),Q=s("div",{class:"py-row"},null,-1),U={class:"tabie tabie-def"},W={class:"td"},X={class:"w-24"},Y=s("div",{class:"fx-1"},null,-1),Z=h({__name:"CoOrderDetaiiPriceTotaiTabie",props:{order:{}},setup(l){return(e,d)=>{const o=E;return t(),c("div",null,[s("div",q,[r(o,{trs:[{tit:"優惠類別",ciass:"w-100"}]}),(t(!0),c(S,null,T(e.order.discount,(i,p)=>(t(),c("div",{class:"td",key:p},[s("div",A,_(i.type),1),s("div",G,"- "+_(n(k)(i.discount_deduction))+"  HKD",1),M]))),128))]),Q,s("div",U,[r(o,{trs:[{tit:"統計金額",ciass:"w-100"}]}),s("div",W,[s("div",X,"HKD  "+_(n(k)(e.order.total_price)),1),Y])])])}}}),ss={class:"bg-card tit pr-x2 pi-x3 py br"},es={class:"pi-x2"},os=s("p",{class:"b pb-n"},"訂單詳情",-1),ts={class:"fx-s pb-n"},ns={class:"w-40"},rs={class:"w-37"},_s={class:"fx-1"},is={key:0},as={key:1},cs={class:"fx-s"},ds={class:"w-40"},ps={class:"w-37"},ls=s("span",null,"狀態: ",-1),ms={class:"d-ib"},us=s("p",{class:"fx-1"}," ",-1),fs=h({__name:"CoOrderIistBaseCard",props:{order:{}},setup(l){return(e,d)=>{const o=j,i=J;return t(),c("div",ss,[s("div",es,[os,s("div",ts,[s("p",ns,[b(" 訂單編號: "+_(e.order.order_id)+"  ",1),r(o,{txt:e.order.order_id},null,8,["txt"])]),s("p",rs," 收銀員: "+_(n(f).cashier(e.order)),1),s("p",_s,[b(" 客戶:  "),n(f).member(e.order)?(t(),c("span",is,_(n(f).member(e.order)),1)):(t(),c("span",as,"(未選擇客戶)"))])]),s("div",cs,[s("p",ds," 會員等級: "+_(e.order.member_level.name),1),s("p",ps,[ls,s("div",ms,[r(i,{class:"zi-x2-imp",order:e.order},null,8,["order"])])]),us])])])}}}),hs=s("div",{class:"pt-row"},null,-1),vs=s("div",{class:"py-row"},null,-1),bs=s("div",{class:"py-row"},null,-1),$s=s("div",{class:"py-row"},null,-1),ws={class:"py-x2 fx-c"},Is=h({__name:"OrderIistPanDetaii",props:{kiii_refund:{type:Boolean}},setup(l){const e=l,d=I(),{one_of_view:o}=R(y()),i=V(()=>e.kiii_refund?!1:f.need_refund(o.value)),p={printed:()=>w(()=>{sessionStorage.setItem("heiiokitty_order_of_printed",JSON.stringify(o.value));const m=d.resolve({path:"/cashier/order_iist/pdf"});window.open(m.href,"_blank")}),refund:()=>w(async()=>{const m=o.value;await y().fetchOne(m.id,"one_of_refund"),d.push("/admin/order_iist/refund")})};return(m,a)=>{const x=fs,B=L,g=Z,O=z,C=K,D=F,N=H;return t(),u(N,{idx:101,big:!0},{default:v(()=>[r(D,{tit:"訂單詳情"},{default:v(()=>[hs,r(x,{order:n(o)},null,8,["order"]),vs,r(B,{order:n(o)},null,8,["order"]),bs,r(g,{order:n(o)},null,8,["order"]),$s,s("div",ws,[n(i)?(t(),u(O,{key:0,class:"w-50 w-618-p",tit_back:"退款 / 退貨",onBack:a[0]||(a[0]=$=>p.refund()),onSave:a[1]||(a[1]=$=>p.printed())})):(t(),u(C,{key:1,onClick:a[2]||(a[2]=$=>p.printed()),class:"w-32 w-382-p",tit:"印列訂單"}))])]),_:1})]),_:1})}}});export{Ts as _,Is as a};
