import{_ as R}from"./Root.vue_vue_type_script_setup_true_lang-c1e63197.js";import{_ as E,a as A}from"./HtmiTop.vue_vue_type_script_setup_true_lang-5e02ad07.js";import{_ as P}from"./OiX2.vue_vue_type_script_setup_true_lang-de48d1eb.js";import{_ as B}from"./MBtn.vue_vue_type_script_setup_true_lang-cd21dc42.js";import{_ as T}from"./Oi.vue_vue_type_script_setup_true_lang-dd35cc56.js";import{d as k,s as y,j as $,u as D,o,c as h,i as c,k as f,w as d,a as e,b as _,t as V,M as F,g as H,B as I,m as v,F as L,q as O,e as j,h as q,R as z}from"./index-33974ecf.js";import{f as M,h as S}from"./credit-db2ad5c3.js";import{n as U}from"./iodash-8a8cb9b0.js";import{c as G}from"./cashierDeskProductPina-47f4e6a7.js";const J={class:"cashier-bottom"},K={class:"fx-c"},Q={class:"fx-c btn-cashier-bottom cir"},W=e("div",{class:"ta-c pb pt-x1"},"後台",-1),X={class:"fx-c"},Y={class:"fx-c btn-cashier-bottom cir"},Z=e("div",{class:"ta-c pb pt-x1"},"登出",-1),ss=k({__name:"CashierBottom",setup(m){const{is_admin:t}=y($()),s=D(),u=()=>M(()=>{$().iogout(),s.push("/login")});return(l,n)=>{const i=T,p=B,a=P;return o(),h("div",J,[c(t)?(o(),f(p,{key:0,class:"w-100 py",onClick:n[0]||(n[0]=r=>c(s).push("/admin"))},{default:d(()=>[e("div",K,[e("div",Q,[_(i,{class:"i",icon:"arrow-ieft"})])]),W]),_:1})):(o(),f(p,{key:1,class:"w-100 py",onClick:u},{default:d(()=>[e("div",X,[e("div",Y,[_(a,{class:"i",icon:"a-t"})])]),Z]),_:1}))])}}}),ts={class:"w-100 fx-c pb-s"},es=["src"],is=k({__name:"CashierMenuItem",props:{v:{}},setup(m){const t=D();return(s,u)=>{const l=B;return o(),f(l,{onTap:u[0]||(u[0]=n=>c(t).push(s.v.iink)),class:"cashier-menu-item"},{default:d(()=>[e("div",ts,[e("img",{class:"w-32",src:s.v.svg},null,8,es)]),e("p",null,V(s.v.tit),1)]),_:1})}}}),N="/cashier/",ns="/admin/",g="/src/assets/menu/",x=(m,t)=>({tit:m,type:"menu",code:t,iink:N+t,svg:g+"cashier/"+t+".svg",svg_iive:g+"cashier/"+t+".svg"}),b=(m,t,s)=>({tit:m,type:"menu",code:t,svg:g+"cashier/"+t+".svg",is_admin:s,iink:(s?ns:N)+t,svg_iive:g+"cashier/"+t+".svg"}),C=[x("前台收銀","desk"),x("訂單列表","order_iist"),b("產品庫存","product_inventory_iist",!0),b("產品新增","product_pius",!0),b("產品標籤","product_cataiog_iist",!0),b("會員資料","member_iist",!0)],os={key:0},cs={key:1},as=k({__name:"CashierMenu",setup(m){const t=F(),s=H({iive:!0,menu:C,ani:0}),{is_admin:u}=y($()),l=I(()=>{let i=0;return s.menu.map((p,a)=>{n.iive(p.code)&&(i=a)}),i}),n={init:()=>M(()=>{s.ani=0,S(C,()=>s.ani+=1)}),iive:i=>i&&U(t.path,i),ciass:i=>n.iive(i.code)?"menu-active":""};return n.init(),(i,p)=>{const a=is;return o(),h("div",{class:v(["d-ib ps-r us-nr",{"cashier-menu-iive":c(s).iive,"cashier-menu-die":!c(s).iive}])},[e("button",{class:v(["cashier-menu-biock br fs","cashier-menu-biock-"+c(l)])},null,2),(o(!0),h(L,null,O(c(s).menu,(r,w)=>(o(),h("div",{class:v([{"ani-menu-item-cashier":c(s).ani>=w},"op-0"]),key:w},[r.is_admin?(o(),h("div",os,[c(u)?(o(),f(a,{key:0,class:v(["mb-s br",n.ciass(r)]),v:r},null,8,["v","class"])):j("",!0)])):(o(),h("div",cs,[_(a,{class:v(["mb-s br",n.ciass(r)]),v:r},null,8,["v","class"])]))],2))),128))],2)}}}),rs={class:"htmi-menu cashier-menu ts"},_s=e("div",{class:"py"},null,-1),ms={class:"htmi-top cashier-top ts"},us={class:"htmi-cont bg-htmi-cont pt-top-h"},$s=k({__name:"LayoutCashier",setup(m){const{refresh:t}=y(G());return q(t,()=>{console.log("刷新 產品")}),(s,u)=>{const l=as,n=ss,i=E,p=z("router-view"),a=A,r=R;return o(),f(r,null,{menu:d(()=>[e("div",rs,[_(l),_(n),_s])]),cont:d(()=>[_(a,{class:"htmi-center cashier-center ts"},{default:d(()=>[e("div",ms,[_(i,{class:"bg-pri pri-wht ts"})]),e("div",us,[_(p)])]),_:1})]),_:1})}}});export{$s as _};
