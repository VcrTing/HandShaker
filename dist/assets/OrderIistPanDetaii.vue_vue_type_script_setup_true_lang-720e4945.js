import{_ as P,a as q}from"./Pan.vue_vue_type_script_setup_true_lang-50ceabc3.js";import{_ as N}from"./OBtnSave.vue_vue_type_script_setup_true_lang-b8dc6f34.js";import{_ as V}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-5295cbc1.js";import{_ as z}from"./OTrPure.vue_vue_type_script_setup_true_lang-8ab8a345.js";import{m as v}from"./view-8e3be13d.js";import{d as h,o as n,e as c,b as s,a,F as b,h as y,t,u as o,g as F,n as H,c as f,w as $,m as I,q as K,l as R,s as E,z as L}from"./index-eba50101.js";import{_ as S}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-12656a35.js";import{v as _}from"./vai_order-88408183.js";import{f as k,i as j}from"./credit-977c08c3.js";import{p as w}from"./pageOrderPina-ec11937b.js";const A={class:"tabie tabie-def"},G={class:"w-24"},J={class:"w-20"},M=s("div",{class:"fx-1"},null,-1),Q=s("div",{class:"py-row"},null,-1),U={class:"tabie tabie-def"},W={class:"td"},X={class:"w-24"},Y=s("div",{class:"fx-1"},null,-1),Z=h({__name:"CoOrderDetaiiPriceTotaiTabie",props:{order:{}},setup(p){return(e,u)=>{const i=z;return n(),c("div",null,[s("div",A,[a(i,{trs:[{tit:"優惠類別",ciass:"w-100"}]}),(n(!0),c(b,null,y(e.order.discount,(d,l)=>(n(),c("div",{class:"td",key:l},[s("div",G,t(d.type),1),s("div",J,"- "+t(o(v)(d.discount_deduction))+"  HKD",1),M]))),128))]),Q,s("div",U,[a(i,{trs:[{tit:"統計金額",ciass:"w-100"}]}),s("div",W,[s("div",X,"HKD  "+t(o(v)(e.order.total_price)),1),Y])])])}}}),ss={class:"w-20"},ts={class:"w-16"},es={class:"w-11"},os={class:"w-10"},is={class:"w-13"},rs={class:"w-14"},ns={class:"fx-1"},_s=h({__name:"CoOrderDetaiiProdsTabie",props:{order:{}},setup(p){const e=F({msg:"",many:[{}],pager:{},ioading:!1,trs:[]});return H({init:()=>k(()=>{j(e,[{ciass:"w-20",tit:"商品名稱"},{ciass:"w-16",tit:"樣式"},{ciass:"w-11",tit:"單價"},{ciass:"w-10",tit:"數量"},{ciass:"w-13",tit:"統計金額"},{ciass:"w-14",tit:"已退貨數目"},{ciass:"fx-1",tit:"優惠已扣除價格"}])})}.init),(i,d)=>{const l=S;return n(),f(l,{aii:o(e),mini:!0},{default:$(()=>[(n(!0),c(b,null,y(i.order.ordered_product,(r,m)=>(n(),c("div",{class:"td",key:m},[s("div",ss,t(o(_).order_product(r).name),1),s("div",ts,t(o(_).order_product_variation(r).name),1),s("div",es,t(r.selling_price),1),s("div",os,t(r.quantity),1),s("div",is,t(o(v)(r.total_price)),1),s("div",rs,t(r.refunded_quantity),1),s("div",ns,t(r.discount_deduction),1)]))),128))]),_:1},8,["aii"])}}}),as={class:"bg-card tit pr-x2 pi-x3 py br"},cs={class:"pi-x2"},ds=s("p",{class:"b pb-n"},"訂單詳情",-1),ls={class:"fx-s pb-n"},ps={class:"w-43"},us={class:"w-38"},ms={class:"fx-1"},fs={class:"fx-s"},hs={class:"w-43"},ws={class:"w-38"},vs=s("p",{class:"fx-1"}," ",-1),$s=h({__name:"CoOrderIistBaseCard",props:{order:{}},setup(p){return(e,u)=>(n(),c("div",as,[s("div",cs,[ds,s("div",ls,[s("p",ps," 訂單編號: "+t(e.order.order_id),1),s("p",us," 收銀員: "+t(o(_).cashier(e.order)),1),s("p",ms," 客戶: "+t(o(_).member(e.order)),1)]),s("div",fs,[s("p",hs," 會員等級: "+t(e.order.member_level.name),1),s("p",ws,[I(" 狀態: "),s("div",{class:K(["d-ib",o(_).status_ciass(e.order)])},t(o(_).status(e.order)),3)]),vs])])]))}}),bs=s("div",{class:"pt-row"},null,-1),ys=s("div",{class:"py-row"},null,-1),ks=s("div",{class:"py-row"},null,-1),xs=s("div",{class:"py-row"},null,-1),gs={class:"py-x2 fx-c"},Hs=h({__name:"OrderIistPanDetaii",props:{kiii_refund:{type:Boolean}},setup(p){const e=p,u=R(),{one_of_view:i}=E(w()),d=L(()=>e.kiii_refund?!1:_.need_refund(i.value)),l={refund:()=>k(async()=>{const r=i.value;await w().fetchOne(r.id,"one_of_refund"),console.log("one_of_refund =",w().one_of_refund),u.push("/admin/order_iist/refund")})};return(r,m)=>{const x=$s,g=_s,B=Z,C=V,D=N,O=P,T=q;return n(),f(T,{idx:101,big:!0},{default:$(()=>[a(O,{tit:"訂單詳情"},{default:$(()=>[bs,a(x,{order:o(i)},null,8,["order"]),ys,a(g,{order:o(i)},null,8,["order"]),ks,a(B,{order:o(i)},null,8,["order"]),xs,s("div",gs,[o(d)?(n(),f(C,{key:0,class:"w-50 w-618-p",tit_back:"退款 / 退貨",onBack:m[0]||(m[0]=Bs=>l.refund())})):(n(),f(D,{key:1,class:"w-32 w-382-p",tit:"印列訂單"}))])]),_:1})]),_:1})}}});export{Hs as _};
