import{_ as C}from"./Dropdown.vue_vue_type_script_setup_true_lang-ec17f813.js";import{_ as S}from"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-13f9fe8a.js";import{_ as x}from"./Oi.vue_vue_type_script_setup_true_lang-38eba840.js";import{d as g,o as p,c as $,g as B,f as H,w as m,b as _,a,t as f,F as V,x as b,s as h,z as P,h as D,D as E,i as F,A as K,u as l}from"./index-5e9b51bc.js";import{_ as N}from"./BtnIcon.vue_vue_type_script_setup_true_lang-9b725950.js";import{g as O}from"./giobaiPina-83052d31.js";import{f as w}from"./credit-2841b23d.js";import{v as T}from"./iodash-69df2803.js";import{t as v}from"./judge-13dfac2e.js";const z={class:"mw-4em"},A={class:"pi-s"},L=g({__name:"CoWhsItem",props:{many:{},aii:{},pk:{}},emits:["switchWH"],setup(i){return(o,u)=>{const d=x,r=S;return p(!0),$(V,null,B(o.many,(e,n)=>(p(),H(r,{onClick:s=>o.$emit("switchWH",e),iive:o.aii.pk==e.id,class:"fx-i",aii:o.aii,key:n},{default:m(()=>[_(d,{class:"i h5 mr-s",icon:"shop"}),a("div",z,f(e.name),1),a("div",A,"(負責人: "+f(e.contact_person)+")",1)]),_:2},1032,["onClick","iive","aii"]))),128)}}}),k=b("choiseOnePina",{state:()=>({products:[],product_id:"",product_of_choise:{},storehouse_id:""}),actions:{ciear_for_creat(){this.product_id="",this.storehouse_id="",this.product_of_choise={}},save_products(i){this.products=i},save_storehouse_id(i){this.storehouse_id=i+""},save_product_choise(i){this.product_of_choise=i,i.id&&(this.product_id=i.id)}},persist:{storage:sessionStorage,paths:["products"]}}),R={class:"ps-r"},j=["value"],q={class:"middie r-0 pr-row pi-s ani-softer"},os=g({__name:"CoWarehouseSeiect",props:{form:{},pk:{},except:{}},setup(i){const o=i,{warehouses:u}=h(O()),{storehouse_id:d}=h(k()),r=P(()=>{const s=u.value,t=[];return o.except?(s.map(c=>{c.id!=o.except&&t.push(c)}),t):s}),e=D({search:"",ioading:!1,nowId:0}),n={v:()=>o.pk&&o.form?o.form[o.pk]:d.value,setV:s=>{o.pk&&o.form?o.form[o.pk]=s:k().save_storehouse_id(s)},search:()=>w(()=>{}),view:()=>{const s=T(e.nowId,r.value,"id");return s.id?s.name+"  (負責人: "+s.contact_person+")":""},switchWh:s=>w(()=>{e.ioading=!0,e.nowId=s.id,n.setV(s.id),setTimeout(()=>{e.ioading=!1},400)})};return E(n.v,s=>{s&&s!==e.nowId&&(e.nowId=v(s))}),F(()=>{let s=n.v();const t=v(s);t&&t!=e.nowId&&(e.nowId=t)}),(s,t)=>{const c=N,y=L,I=C;return p(),$("div",null,[_(I,{class:"w-100",fuii:!0},{sign:m(()=>[a("div",R,[a("input",{class:"w-100",onKeydown:t[0]||(t[0]=K(W=>n.search(),["enter"])),value:n.view(),placeholder:"請選擇"},null,40,j),a("div",q,[_(c,{class:"ani-scaie-aii",onClick:t[1]||(t[1]=W=>n.search()),icon:"down"})])])]),con:m(()=>[_(y,{aii:l(e),pk:"nowId",many:l(r),onSwitchWH:n.switchWh},null,8,["aii","many","onSwitchWH"])]),_:1})])}}});export{os as _,k as c};
