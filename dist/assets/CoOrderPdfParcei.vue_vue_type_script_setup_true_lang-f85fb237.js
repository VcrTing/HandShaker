import{m as P,v as S}from"./view-c92e9bc2.js";import{d as h,o as i,c as r,a as s,t as a,i as f,P as y,C as m,F as $,G as w,r as B,g as E,Q as H,b as c,w as l,B as b,f as T,n as L,A as N,k as V}from"./index-1c4854d6.js";import{v as O}from"./vai_cashier_order-743f3a2c.js";import{v as g}from"./vai_order-616c753f.js";import{_ as F}from"./CuHtmIogo.vue_vue_type_script_setup_true_lang-6980d44a.js";const M={class:""},q=s("div",{class:"pdf-hr"},null,-1),A={class:"pt-pdf-x2 fx-r"},I=s("h5",{class:"pr-pdf n"},"統計金額:",-1),K={class:"fw-pdf-700"},R=h({__name:"CoOpTotai",props:{one:{}},setup(u){return(o,p)=>(i(),r("div",M,[q,s("div",A,[I,s("h3",K,"HK "+a(f(P)(o.one.total_price)),1)])]))}}),z={class:"px-pdf"},D=s("h2",{class:"pb-pdf"},"付款",-1),G={class:"fx-s"},J=s("p",null,"產品",-1),Q={class:"w-50 fx-r"},W={class:"sus"},j={class:"mw-7em ta-r b"},U={class:"fx-s"},X=s("p",null,"支付方式",-1),Y={class:"w-50"},Z={class:"fx-r"},ss={class:"sus"},os={class:"mw-7em ta-r b"},ts={class:"pt"},es={class:"fx-s fx-t"},ns=s("p",null,"優惠類別",-1),_s={key:0,class:"w-50"},cs={class:"sus"},is={class:"mw-7em ta-r b"},rs={key:1},as=h({__name:"CoOpPrice",props:{one:{}},setup(u){const o=u,p=y(()=>O.product_aii_num(o.one)),_=y(()=>O.product_aii_price(o.one));return(t,e)=>(i(),r("div",z,[D,s("div",null,[s("div",G,[J,m(),s("div",Q,[s("p",W,"數量"+a(f(p)),1),s("p",j,a(f(_)),1)])]),s("div",U,[X,s("div",Y,[s("div",Z,[(i(!0),r($,null,w(t.one.payment_method,(n,d)=>(i(),r("div",{class:"fx-r",key:d},[s("p",ss,a(n.name),1),s("p",os,a(n.price),1)]))),128))])])])]),s("div",ts,[s("div",es,[ns,t.one.discount?(i(),r("div",_s,[(i(!0),r($,null,w(t.one.discount,(n,d)=>(i(),r("div",{class:"fx-r",key:d},[s("p",cs,a(n.type),1),s("p",is," -"+a(n.discount_deduction),1)]))),128))])):(i(),r("div",rs))])])]))}}),ds={class:"pdf-bd br px-pdf py-pdf"},x=h({__name:"CoBdWrapper",setup(u){return(o,p)=>(i(),r("div",ds,[B(o.$slots,"default")]))}}),ps=s("p",{class:"b fs-s-pdf"},"帳單展示備註 :",-1),ls=["innerHTML"],us=h({__name:"CoOpRemark",props:{one:{}},setup(u){const o=u,p=E({spiit:90}),_={string_too_iong:e=>(console.log(e.length),e.length>p.spiit),omit_string:e=>(_.string_too_iong(e)&&(e=e.substring(0,p.spiit)),e+"...")},t=y((e="")=>((o.one.ordered_product?o.one.ordered_product:[]).map(d=>{e+="<div>",(d.product?H.data(d.product):{}).remarks.map(k=>{e=e+_.omit_string(k.content)+" "}),e+="</div>"}),e));return(e,n)=>{const d=x;return i(),r("div",null,[c(d,{class:"_wrapper"},{default:l(()=>[ps,s("div",{class:"fs-s-pdf",innerHTML:f(t)},null,8,ls)]),_:1})])}}}),fs={class:"pi-pdf-s"},ms=s("h4",null,"產品",-1),hs={class:"fx-s fx-b"},vs={class:"w-30"},$s={class:"b"},ws={class:"sus fs-s-pdf"},gs={class:"w-17 fs-s-pdf sus"},ks={class:"d-ib"},ys={class:"w-19 fs-s-pdf sus"},bs={class:"w-18 fs-s-pdf sus"},xs={class:"w-16 b"},Cs=h({__name:"CoOpProds",props:{one:{}},setup(u){return(o,p)=>{const _=x;return i(),r("div",null,[c(_,{class:"_wrapper"},{default:l(()=>[s("div",fs,[ms,(i(!0),r($,null,w(o.one.ordered_product,(t,e)=>(i(),r("div",{class:"pt-pdf",key:e},[s("div",hs,[s("div",vs,[s("p",$s,a(f(g).order_product(t).name),1),s("p",ws,"樣式:  "+a(f(g).order_product_variation(t).name),1)]),s("div",gs,[m("附加:  "),s("div",ks,"- "+a(t.discount_deduction),1)]),s("div",ys,"單價: "+a(t.selling_price),1),s("div",bs,"數量: "+a(t.quantity),1),s("div",xs,"金額: "+a(f(P)(t.total_price)),1)])]))),128))])]),_:1})])}}}),Ts={class:"fx-s"},Os=h({__name:"CoOpTitV",props:{tit:{},tit_ciass:{},v_ciass:{}},setup(u){return(o,p)=>(i(),r("div",Ts,[s("p",{class:b(o.tit_ciass)},a(o.tit),3),s("p",{class:b(["b ta-r",o.v_ciass])},[B(o.$slots,"default")],2)]))}}),Ps={class:"fx-s"},Bs={class:"fx-1"},Es=s("div",{class:"w-1em"},null,-1),Ss={class:"fx-1"},Hs=h({__name:"CoOpMsg",props:{one:{}},setup(u){return(o,p)=>{const _=Os,t=x;return i(),r("div",Ps,[s("div",Bs,[c(t,{class:"px-pdf"},{default:l(()=>[c(_,{tit:"日期",v_ciass:"mw-6em ta-i"},{default:l(()=>[m(a(f(S)(o.one.order_date)),1)]),_:1}),c(_,{tit:"訂單編號",v_ciass:"mw-6em ta-i"},{default:l(()=>[m(a(o.one.order_id),1)]),_:1}),c(_,{tit:"會員名稱",v_ciass:"mw-6em ta-i"},{default:l(()=>[m(a(f(g).member(o.one,"普通會員")),1)]),_:1}),c(_,{tit:"收銀員",v_ciass:"mw-6em ta-i"},{default:l(()=>[m(a(f(g).cashier(o.one)),1)]),_:1})]),_:1})]),Es,s("div",Ss,[c(t,{class:"px-pdf"},{default:l(()=>[c(_,{tit:"店鋪電話"},{default:l(()=>[m("9786 9898")]),_:1}),c(_,{tit:"Facebook"},{default:l(()=>[m("Hello Ketty")]),_:1}),c(_,{tit:"店鋪地址"},{default:l(()=>[m(" 店鋪 ")]),_:1}),c(_,{tit:""},{default:l(()=>[m(" ")]),_:1})]),_:1})])])}}}),Ls={class:"w-100 bg-con pdf-wrapper co-order-pdf"},Ns={class:"fx-s"},Vs=s("h2",null,"銷售數據 SALE RECEIPT",-1),Fs=h({__name:"CoOrderPdfPapper",props:{one:{}},setup(u){return(o,p)=>{const _=F,t=Hs,e=Cs,n=us,d=as,v=R;return i(),r("div",Ls,[s("div",Ns,[Vs,s("div",null,[c(_,{class:"pdf-iogo"})])]),c(t,{one:o.one,class:"pt-pdf-x1"},null,8,["one"]),c(e,{one:o.one,class:"pt-pdf-x2 co-op-prods"},null,8,["one"]),c(n,{one:o.one,class:"pt-pdf-x2 co-op-remark"},null,8,["one"]),c(d,{one:o.one,class:"pt-pdf-x2"},null,8,["one"]),c(v,{one:o.one,class:"pt-1em"},null,8,["one"])])}}}),Rs=h({__name:"CoOrderPdfParcei",props:{ciass:{},kiii_printed:{type:Boolean}},setup(u){const o=u,p=T(!0),_=T({}),t=E({many:[]}),e={remark_than_num:n=>{n.map(()=>{})},spiite_order:()=>{},init:()=>V(()=>{const n=sessionStorage.getItem("heiiokitty_order_of_printed");if(n){const d=JSON.parse(n);d&&d.id&&(_.value=d)}o.kiii_printed||setTimeout(()=>{p.value&&window.print()},800)}),effect:()=>{const n=_.value;n&&n.id&&(t.many.length=0,(n.ordered_product?n.ordered_product:[]).length>5&&console.log("啟用分頁"),t.many.push(n)),console.log(t.many)}};return L(e.init),N(e.effect),(n,d)=>{const v=Fs;return i(),r("div",null,[(i(!0),r($,null,w(f(t).many,(C,k)=>(i(),r("div",{class:"fx-c",key:k},[c(v,{class:b(n.ciass),one:C},null,8,["class","one"])]))),128))])}}});export{Rs as _};
