import{_ as _t,a as ct,b as ut,c as lt,d as mt,e as pt,s as dt,f as ft,g as vt}from"./serv_product_opera-4b9a261a.js";import{_ as A}from"./OBtnSave.vue_vue_type_script_setup_true_lang-23565353.js";import{_ as ht}from"./scroiiy-e33ee117.js";import{d as h,f as Z,s as $,g,n as G,o as m,c as f,b as i,w as d,i as e,a as r,j as N,m as M,p as O,k as b,l as U,h as T,r as $t,G as z,a1 as bt,e as j,z as tt,y as I,C as yt,D as V,t as y,F as q,a6 as W,H as gt,ae as E,a7 as J,S,M as kt,N as Q,al as st,am as wt,V as ot,B as H,A as xt,$ as R,T as Pt,u as Tt}from"./index-d70d8c7f.js";import{pageProducEditPina as k}from"./pageProducEditPina-6722490f.js";import{_ as qt}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-c5c651a3.js";import{d as Ct,s as Et,e as It,f as Vt,c as Bt,a as St,b as Dt}from"./ProduInvInStockInner.vue_vue_type_script_setup_true_lang-75b4608a.js";import{a as D,_ as F}from"./Pan.vue_vue_type_script_setup_true_lang-d9efae82.js";import{_ as nt}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-a0330491.js";import{pageProductInstockPina as B}from"./pageProductInstockPina-c06b38f3.js";import{b as Ft}from"./product_trs-90eb931d.js";import{a as it,_ as Nt}from"./CoProdMsgTiny.vue_vue_type_script_setup_true_lang-56762394.js";import{s as Mt,a as Ot}from"./serv_bad_opera-eea33569.js";import{_ as Ut}from"./OInputI.vue_vue_type_script_setup_true_lang-22b5b7c8.js";import{_ as zt}from"./OTime.vue_vue_type_script_setup_true_lang-a0e9100e.js";import{_ as K}from"./OInput.vue_vue_type_script_setup_true_lang-4873cbdf.js";import{a as jt}from"./CoWarehouseSeiectPure.vue_vue_type_script_setup_true_lang-58312131.js";import{_ as Ht}from"./CoWarehouseSeiect.vue_vue_type_script_setup_true_lang-e2b1aa44.js";import{_ as et}from"./OModTrash.vue_vue_type_script_setup_true_lang-5976dc4b.js";import{_ as Rt}from"./itembdwrapper.vue_vue_type_script_setup_true_lang-dcfa9428.js";import{_ as At}from"./MBtn.vue_vue_type_script_setup_true_lang-6b8b253f.js";import{_ as Gt}from"./BtnIcon.vue_vue_type_script_setup_true_lang-0184e3ad.js";import{_ as Lt}from"./IayoutForm.vue_vue_type_script_setup_true_lang-8e5172a2.js";import{i as X,_ as Wt}from"./iabeiPina-e73092d0.js";import{_ as Jt}from"./ProduNewInstockTabie.vue_vue_type_script_setup_true_lang-f196b3af.js";import{pageProductPina as Kt}from"./pageProductPina-af12c9f1.js";import{b as Y}from"./route-block-83d24a4e.js";import"./OBtnInOrder.vue_vue_type_script_setup_true_lang-e215b825.js";import"./DocumentTextIcon-90c95568.js";import"./OBtnPius.vue_vue_type_script_setup_true_lang-e48773cc.js";import"./PlusCircleIcon-96359f44.js";import"./BtnTrash.vue_vue_type_script_setup_true_lang-09e7b3f6.js";import"./XMarkIcon-bb061af1.js";import"./Cardmsg.vue_vue_type_script_setup_true_lang-10e0b0d8.js";import"./errors_product-d5275ad5.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-2dd1b368.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-4da0897d.js";import"./serv_iabei_with_product-eb9ba2f5.js";import"./utii-355f00e8.js";import"./serv_product_iist-1de6728a.js";import"./serv_variation_with_product-41a6b9f2.js";import"./BtnTab.vue_vue_type_script_setup_true_lang-895b09b8.js";import"./giobaiPina-fe26a8db.js";import"./serv_suppiier_iist-c0c8a6bd.js";import"./serv_user_iist-b50e689f.js";import"./serv_warehouse_iist-8aae149f.js";import"./OTrPure.vue_vue_type_script_setup_true_lang-8ef2dc4f.js";import"./view-3ce4e1d5.js";import"./CoSuppiierSeiect.vue_vue_type_script_setup_true_lang-cc4090e7.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-a9318c7a.js";import"./OTabieEmptyTwo.vue_vue_type_script_setup_true_lang-ab6c0427.js";import"./InboxIcon-3ce72c36.js";import"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-55a0f705.js";import"./Oi.vue_vue_type_script_setup_true_lang-40f83607.js";import"./OTabieTrash-753c7d10.js";import"./OTabieEdit.vue_vue_type_script_setup_true_lang-53f65c79.js";import"./OTr.vue_vue_type_script_setup_true_lang-a26f0019.js";import"./datepicker.esm-cd618bfe.js";import"./choiseOnePina-59c2ea43.js";import"./ModInner.vue_vue_type_script_setup_true_lang-74820c1b.js";import"./BtnIconX2.vue_vue_type_script_setup_true_lang-b87a4458.js";import"./OiX2.vue_vue_type_script_setup_true_lang-eabbb5fd.js";const Qt=r("h3",{class:"py-x3 mb"},"添加入貨信息(僅加貨)",-1),Xt=h({__name:"ProduInvInStock",setup(v){const t=Z(),{pag:a,one_of_edit:s}=$(k()),n=g({ioading:!1,msg:"",can:!1,sign:0}),o={submit:()=>N(n,t.value.buiid,async _=>{if(_){const c=await Et(_);M(c)?O(c,n):o.success()}}),success:()=>b(async()=>{U("產品入貨成功！！！"),await k().refreshOneOfEdit(),o.back()}),back:()=>b(()=>{a.value=0}),init:()=>b(()=>{const _=s.value;_.id?t.value.setv(_.new_restock_price,_.new_lowest_price,_.new_selling_price):a.value=0})};return G(o.init),(_,c)=>{const l=qt;return m(),f("section",null,[Qt,i(Ct,{aii:e(n),ref_key:"inner",ref:t,onSubmit:o.submit},{default:d(()=>[i(l,{aii:e(n),ciass:"w-100",tit_save:"儲存",onBack:c[0]||(c[0]=u=>o.back()),onSave:c[1]||(c[1]=u=>o.submit())},null,8,["aii"])]),_:1},8,["aii","onSubmit"])])}}}),Yt={class:"ps-r"},Zt={key:0,class:"prod-pag-wrapper abs-t i-0 r-0 b-0 bg-con zi-x2 ani-softer"},ts=h({__name:"ProductPagWrapper",setup(v){const{pag:t}=$(k());t.value=0;const a=Z(!1);return T(t,s=>s==0?a.value=!1:a.value=!0),(s,n)=>{const o=ht;return m(),f("div",Yt,[r("div",null,[$t(s.$slots,"default")]),e(a)?(m(),f("div",Zt,[z(i(o,{class:"h-iayout h-iayout-max"},{default:d(()=>[i(Xt)]),_:1},512),[[bt,e(t)>0]])])):j("",!0)])}}}),ss={class:"pb-x3"},at=h({__name:"PeppTabie",setup(v){const t=g({msg:"",many:[],trashIdx:0,pager:{},ioading:!1,trs:[]}),{inventory_and_variation_of_view:a}=$(B()),s={edit:()=>{},cancei:()=>{},sureTrash:()=>{},effect:()=>{a.value.map((n,o)=>{n.idx=o,t.many.push(n)})}};return tt(s.effect),(n,o)=>{const _=nt;return m(),f("div",ss,[i(_,{aii:e(t),mini:!0},{default:d(()=>[i(It,{aii:e(t),funn:s,kiii_option:!0},null,8,["aii"])]),_:1},8,["aii"])])}}}),os=r("h5",{class:"py-x2"},"樣式及庫存分配數量",-1),ns=h({__name:"ProductEditPanPriview",setup(v){return(t,a)=>{const s=F,n=D;return m(),I(n,{idx:112,big:!0},{default:d(()=>[i(s,{tit:"檢視 / 編輯"},{default:d(()=>[os,i(at)]),_:1})]),_:1})}}}),is={class:"w-50"},es={class:"w-50"},rt=h({__name:"PepiTabie",setup(v){const t=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),{variations_of_inventory_of_store:a}=$(B());return G(()=>yt(t,Ft)),(s,n)=>{const o=nt;return m(),I(o,{aii:e(t),mini:!0},{default:d(()=>[(m(!0),f(q,null,V(e(a),(_,c)=>(m(),f("div",{class:"td",key:c},[r("div",is,y(_.name),1),r("div",es,y(_.quantity),1)]))),128))]),_:1},8,["aii"])}}}),as=r("h5",{class:"py-x2"},"樣式",-1),rs=r("h5",{class:"py-x2"},"倉庫",-1),_s=h({__name:"ProductEditPanInstock",setup(v){return(t,a)=>{const s=F,n=D;return m(),I(n,{idx:111,big:!0},{default:d(()=>[i(s,{tit:"入貨詳情"},{default:d(()=>[as,i(at),rs,i(rt)]),_:1})]),_:1})}}}),cs={class:"py-x2"},us=h({__name:"ProductEditPanInventory",setup(v){const{inventory_of_store:t}=$(B());return(a,s)=>{const n=F,o=D;return m(),I(o,{idx:110,big:!0},{default:d(()=>[i(n,{tit:"庫存詳情"},{default:d(()=>[r("h5",cs,y(e(t).storehouse_name),1),i(rt)]),_:1})]),_:1})}}}),ls={class:"pb-x2"},ms=r("div",{class:"py b"},"壞貨數量",-1),ps={class:"o-form"},ds=h({__name:"PepbForm",props:{form:{},aii:{}},setup(v){const t=v,a=["quantity","storehouse_id","date"],s=g(W(t.form));return T(()=>t.aii.sign,()=>{let n=!0;t.aii.can=!1,a.map(o=>{E(s,o,t.form[o],t.aii)&&(t.aii.can=!1,n=!1)}),t.aii.can=n}),T(()=>t.form.date,n=>E(s,"date",n,t.aii)),T(()=>t.form.quantity,n=>E(s,"quantity",n,t.aii)),T(()=>t.form.storehouse_id,n=>E(s,"storehouse_id",n,t.aii)),(n,o)=>{const _=it,c=jt,l=K,u=zt,p=Ut;return m(),f(q,null,[r("div",ls,[ms,i(_,{form:n.form,pk:"quantity",err:e(s).quantity},null,8,["form","err"])]),r("div",ps,[r("div",null,[i(l,{tit:"壞貨位置",err:e(s).storehouse_id},{default:d(()=>[i(c,{form:n.form,pk:"storehouse_id"},null,8,["form"])]),_:1},8,["err"])]),r("div",null,[i(p,{tit:"添加日期",err:e(s).date,icon:"date"},{default:d(()=>[i(u,{form:n.form,pk:"date",class:"input-timed-for-pan"},null,8,["form"])]),_:1},8,["err"])]),r("div",null,[i(l,{tit:"壞貨備註"},{default:d(()=>[z(r("textarea",{placeholder:"請輸入","onUpdate:modelValue":o[0]||(o[0]=x=>n.aii.remarks=x),rows:"12"},null,512),[[gt,n.aii.remarks]])]),_:1})])])],64)}}}),fs={class:"o-form"},vs=r("option",{value:""},"-- 請選擇 --",-1),hs=["value"],$s=h({__name:"PepbFormStyie",props:{form:{},aii:{}},setup(v){const t=v,a=["variation"],{product_variations:s}=$(k()),n=g(W(t.form));return T(()=>t.aii.sign,()=>{let o=!0;a.map(_=>{E(n,_,t.form[_],t.aii)&&(t.aii.can=!1,o=!1)}),t.aii.can=o}),T(()=>t.form.variation,o=>E(n,"variation",o,t.aii)),(o,_)=>{const c=K;return m(),f("div",fs,[i(c,{tit:"樣式",err:e(n).variation},{default:d(()=>[z(r("select",{"onUpdate:modelValue":_[0]||(_[0]=l=>o.form.variation=l)},[vs,(m(!0),f(q,null,V(e(s),(l,u)=>(m(),f("option",{key:u,value:l.id},y(l.name),9,hs))),128))],512),[[J,o.form.variation]])]),_:1},8,["err"])])}}}),bs=r("div",{class:"py-row"},null,-1),ys=h({__name:"ProductEditPanBad",setup(v){const{one_of_edit:t}=$(k()),a=g({ioading:!1,msg:"",can:!1,sign:0}),s=g({quantity:0,storehouse_id:0,date:"",remarks:"",variation:"",product_id:""}),n={buiid:()=>(s.product_id=t.value.id,a.can?s:null),submit:()=>N(a,n.buiid,async o=>{if(o){let _=await Mt(o);M(_)?O(_,a):n.success()}}),success:()=>b(()=>{U("壞貨資料新增成功。"),S(0),setTimeout(()=>kt({quantity:0},s),400)})};return(o,_)=>{const c=Nt,l=A,u=F,p=D;return m(),I(p,{idx:120},{default:d(()=>[i(u,{tit:"壞貨"},{default:d(()=>[i(c,{num:e(t).product_id,named:e(t).name},null,8,["num","named"]),i($s,{class:"pt-x3",form:e(s),aii:e(a)},null,8,["form","aii"]),i(ds,{form:e(s),aii:e(a)},null,8,["form","aii"]),bs,i(l,{aii:e(a),onClick:_[0]||(_[0]=x=>n.submit()),tit:"儲存",class:"w-100"},null,8,["aii"])]),_:1})]),_:1})}}}),gs={class:"o-form"},ks={class:"o-form-pan"},ws=r("h5",null,"樣式",-1),xs=["value"],Ps={class:"o-form-pan"},Ts=r("h5",null,"入貨倉庫",-1),qs={class:"o-form-pan"},Cs=r("h5",null,"調貨數量",-1),Es={class:"pb-x2"},Is=h({__name:"PepdFormHouse",props:{form:{},aii:{},max:{}},setup(v){const t=v,a=["variation","storehouse_to","quantity"],s=g(W(t.form)),{product_variations:n}=$(k());return T(()=>t.aii.sign,()=>{let o=!0;a.map(_=>{E(s,_,t.form[_],t.aii)&&(o=!1)}),t.aii.can=o}),T(()=>t.form.variation,o=>E(s,"variation",o,t.aii)),T(()=>t.form.storehouse_to,o=>E(s,"storehouse_to",o,t.aii)),T(()=>t.form.quantity,o=>E(s,"quantity",o,t.aii)),(o,_)=>{const c=K,l=Ht,u=it;return m(),f("div",gs,[r("div",ks,[ws,i(c,{tit:"樣式",err:e(s).variation},{default:d(()=>[z(r("select",{"onUpdate:modelValue":_[0]||(_[0]=p=>o.form.variation=p)},[(m(!0),f(q,null,V(e(n),(p,x)=>(m(),f("option",{key:x,value:p.id},y(p.name),9,xs))),128))],512),[[J,o.form.variation]])]),_:1},8,["err"])]),r("div",Ps,[Ts,i(c,{tit:"入貨倉庫",err:e(s).storehouse_to},{default:d(()=>[i(l,{except:o.form.storehouse_from,form:o.form,pk:"storehouse_to"},null,8,["except","form"])]),_:1},8,["err"])]),r("div",qs,[Cs,r("p",Es,"最大調貨數:  "+y(o.max),1),i(u,{form:o.form,pk:"quantity",err:e(s).quantity,max:o.max},null,8,["form","err","max"])])])}}}),Vs={class:"px-row py"},Bs={class:"o-form-pan pt-x2 pb"},Ss=r("h5",{class:"pb-s"},"產品數量",-1),Ds={class:"w-50"},Fs={class:"w-50"},Ns=r("div",{class:"py-row"},null,-1),Ms=r("div",{class:"py-row"},null,-1),Os=h({__name:"ProductEditPanDepioy",setup(v){const t=g({ioading:!1,msg:"",can:!1,sign:0}),a=g({quantity:0,variation:0,storehouse_to:0,storehouse_from:0}),{one_of_edit:s}=$(k()),{store_of_transtock:n,variations_of_store_of_transtock:o}=$(B()),_=Q(()=>{let u=a.variation;return u?st(u,o.value,"id"):{quantity:0}}),c=Q(()=>_.value.quantity),l={buiid:()=>{const u=a;return a.quantity<=0?(t.can=!1,null):t.can?u:null},submit:()=>N(t,l.buiid,async u=>{if(u){const p=await Vt(s.value.id,u);M(p)?O(p,t):l.success()}}),success:()=>b(async()=>{U("產品調貨成功！！！"),await k().refreshOneOfEdit(),S(0)}),init:()=>b(()=>{const u=wt(o.value,"id");a.storehouse_from=n.value.storehouse_id,a.variation=ot(u)})};return tt(l.init),(u,p)=>{const x=A,w=F,P=D;return m(),I(P,{idx:125},{default:d(()=>[i(w,{tit:"調貨"},{default:d(()=>[r("div",Vs,[r("div",null,"出貨倉庫: "+y(e(n).storehouse_name),1)]),r("div",Bs,[Ss,(m(!0),f(q,null,V(e(o),(C,L)=>(m(),f("div",{key:L,class:"px-row fx-i py-s"},[r("div",Ds,y(C.name),1),r("div",Fs,y(C.quantity),1)]))),128))]),i(Is,{class:"pt-x2",form:e(a),aii:e(t),max:e(c)},null,8,["form","aii","max"]),Ns,i(x,{aii:e(t),onClick:p[0]||(p[0]=C=>l.submit()),tit:"確定",class:"w-100 mt"},null,8,["aii"]),Ms]),_:1})]),_:1})}}}),Us={class:"i abs-r mr"},zs={class:"pt-row"},js=r("p",null,"數量",-1),Hs={class:"py-s"},Rs=r("p",null,"壞貨位置",-1),As={class:"sut py-s"},Gs=r("p",null,"添加日期",-1),Ls={class:"sut py-s"},Ws=r("p",null,"壞貨備註",-1),Js={class:"sut pt-s"},Ks=h({__name:"CoProduBaDetaiiCard",props:{broken:{},ciose:{type:Boolean}},emits:["trash","ciose"],setup(v){return(t,a)=>{const s=Gt,n=At,o=Rt;return m(),I(o,{class:"px-row ps-r"},{default:d(()=>[r("div",Us,[t.ciose?(m(),I(n,{key:1,class:"fx-aii-weak br-s ani-scaie-aii",bk:!0,onClick:a[1]||(a[1]=_=>t.$emit("ciose",t.broken))},{default:d(()=>[H(" 撤銷 ")]),_:1})):(m(),I(s,{key:0,class:"h5",onClick:a[0]||(a[0]=_=>t.$emit("trash",t.broken)),ciass_i:"txt-err h3",icon:"trash"}))]),r("div",zs,[js,r("p",Hs,y(t.broken.quantity),1)]),r("div",null,[Rs,r("p",As,y(t.broken.storehouse_name),1)]),r("div",null,[Gs,r("p",Ls,y(t.broken.date),1)]),r("div",null,[Ws,r("p",Js,y(t.broken.remarks),1)])]),_:1})}}}),Qs=r("div",{class:"pt"},null,-1),Xs={class:"px-row pb"},Ys={class:"fs-n"},Zs={class:"pb-x2 pt-x3"},to=r("div",{class:"py-row"},null,-1),so=h({__name:"ProductEditPanBadDetaii",setup(v){const{one_of_edit:t}=$(k()),{broken_of_view:a}=$(B()),s=g({ioading:!1,msg:"",trashing:!1}),n={sureTrash:()=>b(()=>{s.trashing=!0}),trash:()=>b(()=>{}),submit:()=>N(s,()=>({}),async o=>{if(s.trashing){const _=a.value.id,c=await Ot(_);M(c)?O(c,s):(U("壞貨資料刪除成功。"),S(0))}else S(0)})};return(o,_)=>{const c=Ks,l=A,u=F,p=D,x=et;return m(),f(q,null,[i(p,{idx:121},{default:d(()=>[i(u,{tit:"壞貨詳情"},{default:d(()=>[Qs,r("div",Xs,[r("div",null,"產品編號:  "+y(e(t).product_id),1),r("div",Ys,"產品名稱:  "+y(e(t).name),1)]),r("div",Zs,[i(c,{class:xt({"bg-con-x2":e(s).trashing}),ciose:e(s).trashing,broken:e(a),onCiose:_[0]||(_[0]=w=>e(s).trashing=!1),onTrash:_[1]||(_[1]=w=>n.sureTrash())},null,8,["class","ciose","broken"])]),to,i(l,{onClick:_[2]||(_[2]=w=>n.submit()),tit:"儲存",class:"w-100"})]),_:1})]),_:1}),i(x,{aii:e(s),idx:-205,onTrash:_[3]||(_[3]=w=>n.trash())},null,8,["aii"])],64)}}}),oo=h({__name:"ProductEditPans",setup(v){const t=k();return R(0),(a,s)=>(m(),f(q,null,[i(_t,{pina:e(t)},null,8,["pina"]),i(ct,{pina:e(t)},null,8,["pina"]),i(ns),i(_s),i(us),i(Os),i(ys),i(so)],64))}}),no={class:"py"},io={class:"py-s"},eo=["onUpdate:modelValue"],ao=["value"],ro=h({__name:"ProduCeTagsEdit",props:{labels_exist:{},labels:{}},setup(v){const t=v,{many:a}=$(X()),s=g({activeId:0,ioading:!1,msg:""}),n=k(),{one_of_edit:o}=$(n),_={pius:()=>b(()=>{if(a.value.length>0){const c=a.value[0];c.id&&n.pius_iabei(c.id)}else Pt("沒有一個可用標籤，請先新增標籤。")}),init:()=>b(()=>{X().refreshMany()}),sureTrash:c=>b(()=>{R(-202),s.activeId=ot(c)}),trash:()=>b(async()=>{await n.tag_trash(o.value.id,s.activeId)&&(t.labels_exist.map((l,u)=>{l==s.activeId&&n.trash_iabei_exist(u)}),s.activeId=0),R(0)})};return G(_.init),(c,l)=>{const u=Wt,p=ut,x=et;return m(),f("div",null,[i(u,{class:"pb",tit:"標籤",tit_pius:"添加標籤",onTap:l[0]||(l[0]=w=>_.pius())}),r("div",no,[(m(!0),f(q,null,V(c.labels_exist,(w,P)=>(m(),f("div",{class:"pb-x2 ani-fade-b",key:P},[i(p,{class:"ani-scaie-hv",iive:!0,tit:"已存在的標籤",onTap:C=>_.sureTrash(w)},{default:d(()=>[r("div",io,y(e(st)(w,e(a),"id").name),1)]),_:2},1032,["onTap"])]))),128)),(m(!0),f(q,null,V(c.labels,(w,P)=>(m(),f("div",{class:"pb-x2 ani-fade-b",key:P},[i(p,{tit:"新加入的標籤",onTap:C=>e(n).trash_iabei(P)},{default:d(()=>[z(r("select",{"onUpdate:modelValue":C=>c.labels[P]=C},[(m(!0),f(q,null,V(e(a),(C,L)=>(m(),f("option",{key:L,value:C.id},y(C.name),9,ao))),128))],8,eo),[[J,c.labels[P]]])]),_:2},1032,["onTap"])]))),128))]),i(x,{aii:e(s),idx:-202,onTrash:l[1]||(l[1]=w=>_.trash()),msg:"此次操作系聯網操作，您確定要移除該標籤嗎？"},null,8,["aii"])])}}}),_o=r("div",{class:"pt"},null,-1),co=r("div",{class:"py"},null,-1),uo={key:0,class:"py-x2"},lo={key:1,class:"py-x2"},mo={key:2,class:"py-x2"},po=r("div",{class:"py-x2"},null,-1),fo=h({__name:"ProductEditIeft",props:{aii:{}},setup(v){const t=k(),{remarks:a,labels_exist:s,labels:n,base:o,variations:_}=$(t);return(c,l)=>{const u=Lt;return m(),f("div",null,[i(u,{tit:"編輯產品",back:!0},{default:d(()=>[_o,i(lt,{form:e(o),aii:c.aii,edit:!0},null,8,["form","aii"])]),_:1}),co,i(ro,{class:"pt-s",labels:e(n),labels_exist:e(s)},null,8,["labels","labels_exist"]),H(),e(s).length<=0?(m(),f("div",uo)):j("",!0),i(mt,{class:"pt-s",edit:!0,pina:e(t),variations:e(_)},null,8,["pina","variations"]),H(),e(_).length<=0?(m(),f("div",lo)):j("",!0),i(pt,{class:"pt-s",pina:e(t),remarks:e(a)},null,8,["pina","remarks"]),H(),e(a).length<=0?(m(),f("div",mo)):j("",!0),po])}}}),vo=h({__name:"ProduWarehouseTabie",props:{aii:{}},setup(v){const{one_of_edit:t}=$(k()),a={view:s=>b(()=>{B().save("inventory_of_store",s),S(110)}),transtock:s=>b(()=>{B().save("store_of_transtock",s),S(125)})};return(s,n)=>{const o=Bt;return m(),I(o,{aii:s.aii,one_of_edit:e(t),onView:a.view,onTranstock:a.transtock},null,8,["aii","one_of_edit","onView","onTranstock"])}}}),ho=r("div",{class:"py-row"},null,-1),$o=r("div",{class:"py-row"},null,-1),bo=r("div",{class:"py-row"},null,-1),yo=h({__name:"ProductEditRight",setup(v){const{one_of_edit:t}=$(k()),a=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),s=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),n=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]});return(o,_)=>{const c=Dt;return m(),f("div",null,[ho,i(Jt,{aii:e(n),one_of_edit:e(t),kiii_option:!0},null,8,["aii","one_of_edit"]),$o,i(vo,{aii:e(s)},null,8,["aii"]),bo,i(St,{aii:e(a),one_of_edit:e(t)},null,8,["aii","one_of_edit"]),i(c,{one_of_edit:e(t)},null,8,["one_of_edit"])])}}}),go=h({__name:"product_edit",setup(v){const t=Tt(),a=k(),s=g({ioading:!1,msg:"",can:!1,sign:0,search:""}),{one_of_edit:n,variations:o,labels:_}=$(a),c={buiid:()=>s.can?a.form():null,success:()=>{U("產品修改成功！！！"),a.ciear(),c.dump(0),t.back()},submit:()=>N(s,c.buiid,async l=>{c.iabei_deai(),await c.variation_deai();const u=await dt(l,n.value.id);M(u)?O(u,s):c.success()}),iabei_deai:()=>b(async()=>{const l=_.value,u=n.value.id;for(let p=0;p<l.length;p++)await a.tag_pius(u,l[p])}),variation_deai:async()=>{const l=o.value;for(let u=0;u<l.length;u++){const p=l[u];p.name&&(p.id?await a.variation_edit(p.name,p.id):await a.variation_add(p.name,n.value.id))}},dump:l=>b(()=>{a.switch_pag(l||0)}),init:()=>b(()=>{R(0),Kt().ciear(),n.value.id||t.back()})};return G(c.init),(l,u)=>{const p=A,x=ft,w=vt;return m(),f(q,null,[i(ts,null,{default:d(()=>[i(w,null,{ieft:d(()=>[i(fo,{aii:e(s)},null,8,["aii"])]),ieft_bottom:d(()=>[i(p,{aii:e(s),onClick:u[0]||(u[0]=P=>c.submit()),class:"w-100",tit:"儲存"},null,8,["aii"])]),right:d(()=>[i(x,{class:"fx-s",onInbad:u[1]||(u[1]=P=>c.dump(2)),onInstock:u[2]||(u[2]=P=>c.dump(1)),onInorder:u[3]||(u[3]=P=>c.dump(3))}),i(yo)]),_:1})]),_:1}),i(oo)],64)}}});typeof Y=="function"&&Y(go);export{go as default};
