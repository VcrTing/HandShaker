import{q as o,Q as n,x as i,R as t,E as _,as as c,I as u,m as p,V as f}from"./index-58be21f4.js";import{f as m}from"./fioat-e27af979.js";const d="orders",y=async(e,r)=>o(_,async()=>n(await i.get(d,t.buiid_pager(e,r)))),h=async e=>o(_,async()=>c(await i.one(d,e+""))),l=u("pageOrderPina",{state:()=>({one_of_view:{},one_of_refund:{},refund_products:[]}),getters:{refund_price(e){let r=0;return e.refund_products.map(a=>{m.floatAdd(a.refunded_price,r)}),r}},actions:{ciear_product_refund(){this.refund_products.length=0},pius_product_refund(e){this.refund_products.push(e)},trash_product_refund(e){let r=0;this.refund_products.map((s,a)=>{s.id==e.id}),this.refund_products.splice(r,1)},save(e,r={}){this[e]=r},async fetchOne(e,r="one_of_view"){const s=await h(e);p(s)?f("網絡錯誤，訂單獲取失敗!!!"):this.save(r,this._vai_order(s))},_vai_order(e){return e.order_shop=e.order_shop?t.data(e.order_shop):{},e.member=e.member?t.data(e.member):{},e.cashier=e.cashier?t.data(e.cashier):{},e.member_level=e.member_level?t.data(e.member_level):{},e}}}),O=Object.freeze(Object.defineProperty({__proto__:null,pageOrderPina:l},Symbol.toStringTag,{value:"Module"}));export{O as a,l as p,y as s};
