import{_ as J,a as Q,b as W}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-83c14f5a.js";import{_ as X}from"./OPager.vue_vue_type_script_setup_true_lang-aae546eb.js";import{_ as Y}from"./OBtnPius.vue_vue_type_script_setup_true_lang-95a0dc5e.js";import{_ as Z}from"./OSearch.vue_vue_type_script_setup_true_lang-e23e2630.js";import{_ as ii}from"./OSeiect.vue_vue_type_script_setup_true_lang-b8ed873e.js";import{g as oi}from"./giobaiPina-c709988c.js";import{d as ti,f as v,a as ei,o as S,i as ni,r as I,g as z,n as f,b as si}from"./credit-db2ad5c3.js";import{d as y,s as N,B as T,f as ri,n as j,o as w,c as k,a as e,m as V,i as s,b as n,u as E,k as B,w as u,q as ai,t as h,F as _i,C as pi,g as P,h as b,v as $,x as g,e as ci}from"./index-33974ecf.js";import{_ as mi}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-ea14a47c.js";import{_ as ui}from"./OTabieEdit.vue_vue_type_script_setup_true_lang-eddbb022.js";import{_ as li}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-649d0530.js";import{pageProducEditPina as q}from"./pageProducEditPina-cfd4068a.js";import{pageProductInstockPina as M}from"./pageProductInstockPina-43f2c0eb.js";import{a as C,b as A,c as di}from"./iodash-8a8cb9b0.js";import{v as fi}from"./view-01767316.js";import{_ as G,a as H}from"./Pan.vue_vue_type_script_setup_true_lang-3124b656.js";import{_ as bi}from"./OBtnSave.vue_vue_type_script_setup_true_lang-6e760d07.js";import{_ as K}from"./OInputI.vue_vue_type_script_setup_true_lang-0e2f69f7.js";import{_ as wi}from"./OInput.vue_vue_type_script_setup_true_lang-95fad0c5.js";import{_ as hi}from"./OTime.vue_vue_type_script_setup_true_lang-ceb96167.js";import{a as vi,_ as $i}from"./ProduNewInstockTabie.vue_vue_type_script_setup_true_lang-57b43d56.js";import{_ as gi}from"./OTrPure.vue_vue_type_script_setup_true_lang-7bdb8d02.js";import{c as yi}from"./choiseOnePina-ac0b302e.js";import{s as ki}from"./strapi-c10e9858.js";import{a as Pi}from"./product_trs-754059ff.js";import{_ as Ci,a as Vi,b as Ti}from"./ProduInstockTabie.vue_vue_type_script_setup_true_lang-aa3c77d1.js";import{_ as Ui}from"./CoPidProductExpan.vue_vue_type_script_setup_true_lang-a8fd9f6b.js";import{s as xi}from"./serv_product_iist-84b93322.js";import{b as D}from"./route-block-83d24a4e.js";import"./MBtn.vue_vue_type_script_setup_true_lang-cd21dc42.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-11518a24.js";import"./Oi.vue_vue_type_script_setup_true_lang-dd35cc56.js";import"./XMarkIcon-d9ea6041.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-94d8aa7d.js";import"./datepicker.esm-14a2514b.js";import"./serv_iabei_iist-3074c6dd.js";import"./conn-e4aee6c9.js";import"./net-tooi-51cb3d70.js";import"./errors_user-be6d0865.js";import"./serv_suppiier_iist-1beefbb2.js";import"./serv_user_iist-0498784b.js";import"./serv_warehouse_iist-4334de85.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-4f655e36.js";import"./OTr.vue_vue_type_script_setup_true_lang-289f7217.js";import"./serv_iabei_with_product-8d32ec76.js";import"./utii-f2aa88d8.js";import"./serv_variation_with_product-8aa92810.js";import"./errors_product-174667b5.js";const Ii={class:"fx-s"},Bi={class:"fx-1 row fx-i"},Fi={class:"pi fx-c"},Ri=e("span",{class:"px-s"},null,-1),Oi=y({__name:"ProductIistFiiter",props:{aii:{}},emits:["search"],setup(l,{emit:i}){const c=l,t={search:()=>c.aii.ioading?void 0:i("search"),reset:()=>v(()=>{ei({},c.aii.condition),t.search()})},{iabeis:o,suppiiers:a}=N(oi()),_=T(()=>S(o.value,"標籤")),m=T(()=>S(a.value,"供應商")),p=ri(0);return j(()=>ti(7,()=>p.value+=1,32)),(r,d)=>{const U=ii,F=J,R=Z,O=Q,L=Y;return w(),k("div",Ii,[e("div",Bi,[e("div",{class:V(["w-20 op-0",{"ani-fiiter":s(p)>=0}])},[n(U,{class:"input w-100 ip-fiiter fix-seiect",onChange:d[0]||(d[0]=x=>t.search()),form:r.aii.condition,pk:"label",many:s(_)},null,8,["form","many"])],2),e("div",{class:V(["w-20 op-0",{"ani-fiiter":s(p)>=1}])},[n(U,{class:"input w-100 ip-fiiter fix-seiect",onChange:d[1]||(d[1]=x=>t.search()),form:r.aii.condition,pk:"supplier",many:s(m)},null,8,["form","many"])],2),e("div",{class:V(["w-21 w-28-p op-0",{"ani-fiiter":s(p)>=2}])},[n(F,{onResuit:d[2]||(d[2]=x=>t.search()),class:"input ip-fiiter",form:r.aii.condition,pk:"new_restock_date",pchd:"最新入貨日期"},null,8,["form"])],2),n(R,{onResuit:d[3]||(d[3]=x=>t.search()),pchd:"請輸入產品編號、名稱進行搜索",class:V(["fx-1 op-0 ip-fiiter",{"ani-fiiter":s(p)>=3}]),aii:r.aii.condition,pk:"search"},null,8,["class","aii"])]),e("div",Fi,[n(O,{aii:r.aii,onClick:d[4]||(d[4]=x=>t.search())},null,8,["aii"]),Ri,n(L,{class:V(["py op-0",{"ani-fiiter":s(p)>=4}]),tit:"添加產品資料",out:!0},null,8,["class"])])])}}}),Si={class:"w-9"},qi={class:"w-12"},Ai={class:"w-10"},Di={class:"w-15 pr-s"},zi={class:"w-11"},Ni={class:"w-11"},ji={class:"w-9"},Ei={class:"w-10"},Mi={class:"fx-1 fx-s"},Gi={class:"d-ib fx-wp pi ta-r"},Hi={class:"fx-r w-100"},Ki=y({__name:"ProductIistTabie",props:{aii:{}},setup(l){const i=l,c=E();j(()=>ni(i.aii,[{ciass:"w-9",tit:"產品編號",sort_up:()=>v(()=>C(i.aii.many,"product_id",!0)),sort_down:()=>v(()=>C(i.aii.many,"product_id")),sort_reset:()=>I(i.aii)},{ciass:"w-12",tit:"產品名稱"},{ciass:"w-10",tit:"供應商"},{ciass:"w-15",tit:"最新入貨時間",sort_up:()=>v(()=>A(i.aii.many,"new_restock_date",!0)),sort_down:()=>v(()=>A(i.aii.many,"new_restock_date")),sort_reset:()=>I(i.aii)},{ciass:"w-11",tit:"最新入貨價錢"},{ciass:"w-11",tit:"最新最低價錢"},{ciass:"w-9",tit:"最新售價",sort_up:()=>v(()=>C(i.aii.many,"new_selling_price",!0)),sort_down:()=>v(()=>C(i.aii.many,"new_selling_price")),sort_reset:()=>I(i.aii)},{ciass:"w-10",tit:"入貨平均價"},{ciass:"fx-1",tit:"庫存",sort_up:()=>v(()=>C(i.aii.many,"total_stock",!0)),sort_down:()=>v(()=>C(i.aii.many,"total_stock")),sort_reset:()=>I(i.aii)}]));const t={editFuture:async o=>{q().ciear(),await q().fetchOne(o)},dump:()=>c.push("/admin/product_inventory_iist/edit"),fetchOne:async o=>{await M().fetchOne(o)&&pi(101)}};return(o,a)=>{const _=li,m=ui,p=mi;return w(),B(p,{aii:o.aii},{default:u(()=>[(w(!0),k(_i,null,ai(o.aii.many,(r,d)=>(w(),k("div",{class:"td",key:d},[e("div",Si,h(r.product_id),1),e("div",qi,h(r.name),1),e("div",Ai,h(r.new_supplier),1),e("div",Di,h(s(fi)(r.new_restock_date)),1),e("div",zi,h(r.new_restock_price),1),e("div",Ni,h(r.new_lowest_price),1),e("div",ji,h(r.new_selling_price),1),e("div",Ei,h(r.average_restock_price),1),e("div",Mi,[e("div",null,h(r.total_stock),1),e("div",Gi,[n(_,{id:r.id,func:t.fetchOne,class:"w-100",tit:"庫存詳情"},null,8,["id","func"]),e("div",Hi,[n(m,{class:"txt-pri",id:r.id,func:t.editFuture,onTap:t.dump},null,8,["id","func","onTap"])])])])]))),128))]),_:1},8,["aii"])}}}),Li={class:"o-form"},Ji=y({__name:"CoProductInventAiiocatForm",props:{form:{},aii:{}},setup(l){const i=l,c=["num_warehouse"],t=P(z(i.form));return b(()=>i.aii.sign,()=>{c.map(o=>{if(f(t,o,i.form[o],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),b(()=>i.form.num_warehouse,o=>f(t,"num_warehouse",o,i.aii)),(o,a)=>{const _=K;return w(),k("div",Li,[n(_,{tit:"倉庫數量",err:s(t).num_warehouse,icon:"store"},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=m=>o.form.num_warehouse=m),type:"number",placeholder:"請輸入"},null,512),[[g,o.form.num_warehouse]])]),_:1},8,["err"]),n(_,{tit:"A店鋪數量",err:s(t).num_a_shop,icon:"store"},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[1]||(a[1]=m=>o.form.num_a_shop=m),type:"number",placeholder:"請輸入"},null,512),[[g,o.form.num_a_shop]])]),_:1},8,["err"]),n(_,{tit:"B店鋪數量",err:s(t).num_b_shop,icon:"store"},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[2]||(a[2]=m=>o.form.num_b_shop=m),type:"number",placeholder:"請輸入"},null,512),[[g,o.form.num_b_shop]])]),_:1},8,["err"])])}}}),Qi={class:"o-form"},Wi=y({__name:"CoProductIncomeCreatForm",props:{form:{},aii:{}},setup(l){const i=l,c=["in_date","in_time","suppiier_number","suppiier_name","name","number","in_price","iow_price","price","invent"],t=P(z(i.form));return b(()=>i.aii.sign,()=>{c.map(o=>{if(f(t,o,i.form[o],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),b(()=>i.form.in_date,o=>f(t,"in_date",o,i.aii)),b(()=>i.form.in_time,o=>f(t,"in_time",o,i.aii)),b(()=>i.form.suppiier_number,o=>f(t,"suppiier_number",o,i.aii)),b(()=>i.form.suppiier_name,o=>f(t,"suppiier_name",o,i.aii)),b(()=>i.form.name,o=>f(t,"name",o,i.aii)),b(()=>i.form.number,o=>f(t,"number",o,i.aii)),b(()=>i.form.in_price,o=>f(t,"in_price",o,i.aii)),b(()=>i.form.iow_price,o=>f(t,"iow_price",o,i.aii)),b(()=>i.form.price,o=>f(t,"price",o,i.aii)),b(()=>i.form.invent,o=>f(t,"invent",o,i.aii)),(o,a)=>{const _=hi,m=K,p=wi;return w(),k("div",Qi,[n(m,{tit:"入庫日期",err:s(t).in_date,icon:"date"},{default:u(()=>[n(_,{form:o.form,pk:"in_date"},null,8,["form"])]),_:1},8,["err"]),n(m,{tit:"入庫時間",err:s(t).in_time,icon:"hour"},null,8,["err"]),n(p,{tit:"供應商編號",err:s(t).suppiier_number},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>o.form.suppiier_number=r),placeholder:"請輸入"},null,512),[[g,o.form.suppiier_number]])]),_:1},8,["err"]),n(p,{tit:"供應商名稱*",err:s(t).suppiier_name},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>o.form.suppiier_name=r),placeholder:"請輸入"},null,512),[[g,o.form.suppiier_name]])]),_:1},8,["err"]),n(p,{tit:"產品編號",err:s(t).number},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>o.form.number=r),placeholder:"請輸入"},null,512),[[g,o.form.number]])]),_:1},8,["err"]),n(p,{tit:"產品名稱",err:s(t).name},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[3]||(a[3]=r=>o.form.name=r),placeholder:"請輸入"},null,512),[[g,o.form.name]])]),_:1},8,["err"]),n(p,{tit:"入貨價錢",err:s(t).in_price},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[4]||(a[4]=r=>o.form.in_price=r),placeholder:"請輸入"},null,512),[[g,o.form.in_price]])]),_:1},8,["err"]),n(p,{tit:"最低價錢",err:s(t).iow_price},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[5]||(a[5]=r=>o.form.iow_price=r),placeholder:"請輸入"},null,512),[[g,o.form.iow_price]])]),_:1},8,["err"]),n(p,{tit:"售價",err:s(t).price},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[6]||(a[6]=r=>o.form.price=r),placeholder:"請輸入"},null,512),[[g,o.form.price]])]),_:1},8,["err"]),n(p,{tit:"入庫數量",err:s(t).invent},{default:u(()=>[$(e("input",{"onUpdate:modelValue":a[7]||(a[7]=r=>o.form.invent=r),placeholder:"請輸入"},null,512),[[g,o.form.invent]])]),_:1},8,["err"])])}}}),Xi=e("div",{class:"py-row"},null,-1),Yi=e("div",{class:"py-row"},null,-1),Zi=e("h5",null,"倉存數量分配",-1),io=e("div",{class:"pt-row pb-s"},null,-1),oo={class:"py-x3"},to=y({__name:"ProductIistPanPius",props:{idx:{}},setup(l){const i=P({ioading:!1,msg:"",can:!1,sign:0}),c=P({number:"ASD 1234",name:"Hello Kitty MG",suppiier_number:"",suppiier_name:"",in_date:"2022-12-12",in_time:"15:00",in_price:null,iow_price:null,price:null,stock_price:null,invent:null});return(t,o)=>{const a=Wi,_=Ji,m=bi,p=G,r=H;return w(),B(r,{idx:t.idx?t.idx:100},{default:u(()=>[n(p,{tit:"添加入貨信息"},{default:u(()=>[Xi,n(a,{form:s(c),aii:s(i)},null,8,["form","aii"]),Yi,Zi,io,n(_,{form:s(c),aii:s(i)},null,8,["form","aii"]),e("div",oo,[n(m,{class:"w-100",tit:"添加"})])]),_:1})]),_:1},8,["idx"])}}}),eo=e("div",{class:"py-row"},null,-1),no={class:"tabie tabie-def"},so={class:"td"},ro={class:"w-28"},ao={class:"w-50"},_o={class:"fx-1 fx-r"},po=y({__name:"CoPidBadTabie",props:{one_of_edit:{}},setup(l){const i=l,c=E(),t=T(()=>{const _=i.one_of_edit.broken_products?i.one_of_edit.broken_products:[];return di(_)?_:_.data?ki.iist(_):[]}),o=T((_=0)=>(t.value&&t.value.map(m=>{_+=m.quantity}),_)),a=()=>v(()=>{yi().save_product_choise(i.one_of_edit),c.push("/admin/bad_goods_iist")});return(_,m)=>{const p=gi,r=vi;return w(),k("div",null,[eo,e("div",no,[n(p,{trs:s(Pi)},null,8,["trs"]),e("div",so,[e("div",ro,h(s(t).length)+"  條紀錄 ",1),e("div",ao," 共 "+h(s(o))+"  件 ",1),e("div",_o,[n(r,{onClick:m[0]||(m[0]=d=>a()),tit:"壞貨列表"})])])])])}}}),co={class:"tabie tabie-def"},mo=e("div",{class:"tr py-n"},"標籤",-1),uo={key:0,class:"td"},lo=y({__name:"CoPidTagsTabie",props:{labels:{}},setup(l){const i=l,c=T((t="")=>{const o=i.labels?i.labels:[];return o.map((a,_)=>{t+=a.name,_<o.length-1&&(t+="、 ")}),t});return(t,o)=>(w(),k("div",null,[e("div",co,[mo,t.labels?(w(),k("div",uo,h(s(c)),1)):ci("",!0)])]))}}),fo=y({__name:"ProductIistPanDetaii",setup(l){const{product_of_view:i}=N(M());console.log(i);const c=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),t=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),o=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),a={transtock:()=>v(()=>{})};return(_,m)=>{const p=Ui,r=lo,d=Vi,U=Ti,F=po,R=G,O=H;return w(),B(O,{idx:101,big:!0},{default:u(()=>[n(R,{tit:"庫存詳情"},{default:u(()=>[n(p,{product:s(i),class:"mb"},null,8,["product"]),n(r,{labels:s(i).labels,class:"pb"},null,8,["labels"]),n($i,{one_of_edit:s(i),aii:s(t),kiii_option:!0},null,8,["one_of_edit","aii"]),n(Ci,{one_of_edit:s(i),aii:s(c),kiii_option:!0,class:"pb-x2"},null,8,["one_of_edit","aii"]),n(d,{one_of_edit:s(i),class:"pb"},null,8,["one_of_edit"]),n(U,{one_of_edit:s(i),aii:s(o),class:"pb",onTranstock:a.transtock,kiii_option:!0},null,8,["one_of_edit","aii","onTranstock"]),n(F,{one_of_edit:s(i),class:"pb-x3"},null,8,["one_of_edit"])]),_:1})]),_:1})}}}),bo=y({__name:"ProductIistPan",setup(l){return(i,c)=>(w(),k("div",null,[n(to),n(fo)]))}}),wo=y({__name:"product_iist",setup(l){const i=P({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{label:"",supplier:"",new_restock_date:"",search:""}}),c={fetch:()=>si(i,async()=>xi(i.condition,i.pager)),pager:(t,o)=>v(()=>{i.pager.page=t,i.pager.pageSize=o,c.fetch()})};return(t,o)=>{const a=X,_=W;return w(),B(_,{tit:"產品列表",tit_pius:"添加產品"},{fiiter:u(()=>[n(Oi,{aii:s(i),onSearch:o[0]||(o[0]=m=>c.fetch())},null,8,["aii"])]),con:u(()=>[n(Ki,{aii:s(i)},null,8,["aii"])]),pager:u(()=>[n(a,{pager:s(i).pager,onResuit:c.pager},null,8,["pager","onResuit"])]),extra:u(()=>[n(bo)]),_:1})}}});typeof D=="function"&&D(wo);export{wo as default};
