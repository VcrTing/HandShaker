import{_ as H}from"./MBtn.vue_vue_type_script_setup_true_lang-9db099bb.js";import{d as f,o as t,y as u,w as v,B as $,c as _,a as s,b as i,F as g,D as B,t as a,i as n,g as I,n as K,C as R,u as F,s as z,N as E,e as w,k}from"./index-8491f7da.js";import{_ as J,a as L}from"./Pan.vue_vue_type_script_setup_true_lang-6ce42dfb.js";import{_ as j}from"./OBtnSave.vue_vue_type_script_setup_true_lang-481c142c.js";import{_ as q}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-d75b7cf5.js";import{_ as A}from"./OTrPure.vue_vue_type_script_setup_true_lang-9d0d3849.js";import{m as y}from"./view-3ba5a557.js";import{_ as G}from"./OTr.vue_vue_type_script_setup_true_lang-af8d6e6f.js";import{_ as M,a as Q}from"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-41ff7d73.js";import{_ as U}from"./CkClipboard.vue_vue_type_script_setup_true_lang-5b99e581.js";import{v as h}from"./vai_order-691e0808.js";import{p as x}from"./pageOrderPina-f272f748.js";const Qs=f({__name:"OBtnReset",setup(m){return(o,r)=>{const e=H;return t(),u(e,{bk:!0,class:"btn-weak px br hand mh-input mw-6em"},{default:v(()=>[$(" 重置過濾 ")]),_:1})}}}),W={class:"tabie tabie-def"},X={class:"w-28"},Y={class:"w-20"},Z=s("div",{class:"fx-1"},null,-1),ss=s("div",{class:"py-row"},null,-1),es={class:"tabie tabie-def"},ts={class:"td"},os={class:"w-28"},ns=s("div",{class:"fx-1"},null,-1),_s=f({__name:"CoOrderDetaiiPriceTotaiTabie",props:{order:{}},setup(m){return(o,r)=>{const e=A;return t(),_("div",null,[s("div",W,[i(e,{trs:[{tit:"優惠類別",ciass:"w-100"}]}),(t(!0),_(g,null,B(o.order.discount,(c,d)=>(t(),_("div",{class:"td",key:d},[s("div",X,a(c.type),1),s("div",Y,"- "+a(n(y)(c.discount_deduction))+"  HKD",1),Z]))),128))]),ss,s("div",es,[i(e,{trs:[{tit:"統計金額",ciass:"w-100"}]}),s("div",ts,[s("div",os,"HKD  "+a(n(y)(o.order.total_price)),1),ns])])])}}}),rs={class:"tabie tabie-def"},is={key:0},as={class:"w-28"},cs={class:"fx-1"},ds={key:1,class:"td"},ps=s("div",{class:"fx-1"},"(未有任何條目)",-1),ls=[ps],ms=f({__name:"CoSpriPaymenTabie",props:{payments:{}},setup(m){const o=I({trs:[]});return K(()=>R(o,[{ciass:"w-100",tit:"付款方式"}])),(r,e)=>{const c=G;return t(),_("div",rs,[i(c,{aii:n(o)},null,8,["aii"]),r.payments&&r.payments.length>0?(t(),_("div",is,[(t(!0),_(g,null,B(r.payments,(d,p)=>(t(),_("div",{class:"td",key:p},[s("div",as,a(d.name),1),s("div",cs,a(n(y)(d.price))+" HKD",1)]))),128))])):(t(),_("div",ds,ls))])}}}),us={class:"bg-card tit pr-x2 pi-x3 py br"},fs={class:"pi-x2"},hs=s("p",{class:"b pb-n"},"訂單詳情",-1),vs={class:"fx-s pb-n"},$s={class:"w-40"},ys={class:"w-37"},bs={class:"fx-1"},ws={key:0},ks={key:1},xs={class:"fx-s"},gs={class:"w-40"},Bs={class:"w-37"},Cs=s("span",null,"狀態: ",-1),Ds={class:"d-ib"},Os=s("p",{class:"fx-1"}," ",-1),Ns=f({__name:"CoOrderIistBaseCard",props:{order:{}},setup(m){return(o,r)=>{const e=U,c=M;return t(),_("div",us,[s("div",fs,[hs,s("div",vs,[s("p",$s,[$(" 訂單編號: "+a(o.order.order_id)+"  ",1),i(e,{txt:o.order.order_id},null,8,["txt"])]),s("p",ys," 收銀員: "+a(n(h).cashier(o.order)),1),s("p",bs,[$(" 客戶:  "),n(h).member(o.order)?(t(),_("span",ws,a(n(h).member(o.order)),1)):(t(),_("span",ks,"(未選擇客戶)"))])]),s("div",xs,[s("p",gs," 會員等級: "+a(o.order.member_level.name),1),s("p",Bs,[Cs,s("div",Ds,[i(c,{class:"zi-x2-imp",order:o.order},null,8,["order"])])]),Os])])])}}}),Ts=s("div",{class:"pt-row"},null,-1),Ps=s("div",{class:"py-row"},null,-1),Ss=s("div",{class:"py-row"},null,-1),Vs={key:1,class:"py-row"},Hs=s("div",{class:"py-row"},null,-1),Is={class:"py-x2 fx-c"},Us=f({__name:"OrderIistPanDetaii",props:{kiii_refund:{type:Boolean}},setup(m){const o=m,r=F(),{one_of_view:e}=z(x()),c=E(()=>o.kiii_refund?!1:h.need_refund(e.value)),d={printed:()=>k(()=>{sessionStorage.setItem("heiiokitty_order_of_printed",JSON.stringify(e.value));const p=r.resolve({path:"/cashier/order_iist/pdf"});window.open(p.href,"_blank")}),refund:()=>k(async()=>{const p=e.value;await x().fetchOne(p.id,"one_of_refund"),r.push("/admin/order_iist/refund")})};return(p,l)=>{const C=Ns,D=Q,O=ms,N=_s,T=q,P=j,S=J,V=L;return t(),u(V,{idx:101,big:!0},{default:v(()=>[i(S,{tit:"訂單詳情"},{default:v(()=>[Ts,i(C,{order:n(e)},null,8,["order"]),Ps,i(D,{order:n(e)},null,8,["order"]),Ss,n(e).payment_method?(t(),u(O,{key:0,payments:n(e).payment_method},null,8,["payments"])):w("",!0),n(e).payment_method?(t(),_("div",Vs)):w("",!0),i(N,{order:n(e)},null,8,["order"]),Hs,s("div",Is,[n(c)?(t(),u(T,{key:0,class:"w-50 w-618-p",tit_back:"退款 / 退貨",onBack:l[0]||(l[0]=b=>d.refund()),onSave:l[1]||(l[1]=b=>d.printed())})):(t(),u(P,{key:1,onClick:l[2]||(l[2]=b=>d.printed()),class:"w-32 w-382-p",tit:"印列訂單"}))])]),_:1})]),_:1})}}});export{Qs as _,Us as a};
