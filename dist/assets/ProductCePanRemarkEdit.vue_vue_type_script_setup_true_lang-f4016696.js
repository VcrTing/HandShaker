import{_ as G,E as N}from"./errors_product-a7bfbfad.js";import{_ as H}from"./MBtn.vue_vue_type_script_setup_true_lang-32af1671.js";import{o as r,a as u,e as c,d as f,D as L,h as W,c as T,w as m,b as a,u as l,t as g,k as h,f as S,x as w,q as P,v as R,i as U,A as J,s as B,n as Q,F as V,r as M,E as X,g as Y,m as Z,B as tt}from"./index-a3556410.js";import{_ as et}from"./OOpenPan.vue_vue_type_script_setup_true_lang-f27c0d5e.js";import{_ as st}from"./OBtnPius.vue_vue_type_script_setup_true_lang-3682d34d.js";import{n as D}from"./errors_user-4f4e50fd.js";import{a as j,c as z}from"./net-tooi-ea9b75e1.js";import{_ as nt}from"./OInputI.vue_vue_type_script_setup_true_lang-b1b3b174.js";import{_ as ot}from"./OTime.vue_vue_type_script_setup_true_lang-a80503da.js";import{_ as x}from"./OInput.vue_vue_type_script_setup_true_lang-9fe4ab40.js";import{g as at,j as C,f as k,d as it}from"./credit-1302e1e4.js";import{_ as rt}from"./Oi.vue_vue_type_script_setup_true_lang-4f5c19e6.js";import{i as E,a as F,_ as _t}from"./iabeiPina-13df6dd1.js";import{pageProductPina as v}from"./pageProductPina-8b3e5223.js";import{_ as ct}from"./Cardmsg.vue_vue_type_script_setup_true_lang-e0a076bb.js";import{a as y}from"./index-dde68e1c.js";import{_ as I,a as O}from"./Pan.vue_vue_type_script_setup_true_lang-7b26f81b.js";import{i as mt}from"./judge-0b511643.js";import{r as pt}from"./XMarkIcon-aef9f9f5.js";import{_ as ut}from"./OBtnSave.vue_vue_type_script_setup_true_lang-bb8db2f7.js";function dt(_,e){return r(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}const lt={class:"pi-n"},ft=f({__name:"OBtnMius",props:{tit:{},func:{type:Function}},setup(_){const e=_,n=L(),s=W(),t=()=>e.func?e.func():s.push(n.path+"/creat");return(o,i)=>{const p=H;return r(),T(p,{onClick:i[0]||(i[0]=$=>t()),class:"btn-pri-out px br py",ciass:"fx-c"},{default:m(()=>[a(l(dt),{class:"i h4"}),c("span",lt,g(o.tit),1)]),_:1})}}}),Wt=f({__name:"CoProduCeGroup",props:{die:{type:Boolean}},setup(_){return(e,n)=>{const s=st,t=et,o=ft,i=G;return r(),u("div",null,[c("div",null,[a(t,{idx:e.die?0:100},{default:m(()=>[a(s,{class:h([{"btn-die-imp":e.die},"btn-pri py px mr"]),func:()=>{},tit:"添加入貨信息"},null,8,["class"])]),_:1},8,["idx"]),a(t,{idx:e.die?0:106},{default:m(()=>[a(o,{class:h({"btn-die-imp":e.die}),tit:"添加壞貨",func:()=>{}},null,8,["class"])]),_:1},8,["idx"])]),a(i,{class:h({"btn-die-imp":e.die})},null,8,["class"])])}}}),A="products",Jt=async(_,e)=>j(N,async()=>z(await D.put(A,_,e+""))),Qt=async _=>j(N,async()=>z(await D.pos(A,_))),vt={class:"o-form"},Xt=f({__name:"ProductCeBase",props:{form:{},aii:{}},setup(_){const e=_,n=["product_id","name","create_date"],s=S(at(e.form));return w(()=>e.aii.sign,()=>{n.map(t=>{if(C(s,t,e.form[t],e.aii)){e.aii.can=!1;return}}),e.aii.can=!0}),w(()=>e.form.product_id,t=>C(s,"product_id",t,e.aii)),w(()=>e.form.name,t=>C(s,"name",t,e.aii)),w(()=>e.form.create_date,t=>C(s,"create_date",t,e.aii)),(t,o)=>{const i=x,p=ot,$=nt;return r(),u("div",vt,[a(i,{tit:"產品編號",err:l(s).product_id},{default:m(()=>[P(c("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>t.form.product_id=d),placeholder:"請輸入"},null,512),[[R,t.form.product_id]])]),_:1},8,["err"]),a(i,{tit:"產品名稱",err:l(s).name},{default:m(()=>[P(c("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>t.form.name=d),placeholder:"請輸入"},null,512),[[R,t.form.name]])]),_:1},8,["err"]),a($,{class:"input-timed-for-pan",tit:"建立日期",err:l(s).create_date,icon:"date"},{default:m(()=>[a(p,{form:t.form,pk:"create_date"},null,8,["form"])]),_:1},8,["err"])])}}}),$t={class:"fx-s"},kt=c("div",{class:"abs-c cir oiwt-icon-bg-err zi-s ts hand"},null,-1),ht=f({__name:"OInputWithTrash",props:{iive:{type:Boolean},tit:{},icon:{},ciass:{}},emits:["tap"],setup(_){return(e,n)=>{const s=x,t=rt;return r(),u("div",$t,[a(s,{class:h(["fx-1 hand",e.ciass]),tit:e.tit,iive:e.iive},{default:m(()=>[U(e.$slots,"default")]),_:3},8,["tit","iive","class"]),c("div",{class:"mi fx-c ps-r oiwt-icon ts",onClick:n[0]||(n[0]=J(o=>e.$emit("tap"),["stop"]))},[a(t,{icon:e.icon?e.icon:"trash",class:"hand txt-err i h3 ani-scaie-aii-x2 ps-r zi-n"},null,8,["icon"]),kt])])}}}),bt={class:"py"},wt=["onUpdate:modelValue"],gt=["value"],Yt=f({__name:"ProductCeTags",props:{iabeis:{}},setup(_){const{many:e}=B(E()),n=S({coior:"",trashIdx:-1}),s={pius:()=>k(()=>{if(e.value.length>0){const t=e.value[0];t.id&&v().pius_iabei(t.id)}else it("沒有一個可用標籤，請先新增標籤。")}),trash:t=>k(()=>{n.trashIdx=t,v().trash_iabei(t)}),init:()=>k(()=>{E().refreshMany()})};return Q(s.init),(t,o)=>{const i=F,p=ht;return r(),u("div",null,[a(i,{class:"pb",tit:"標籤",tit_pius:"添加標籤",onTap:o[0]||(o[0]=$=>s.pius())}),c("div",bt,[(r(!0),u(V,null,M(t.iabeis,($,d)=>(r(),u("div",{class:"pb-x2 ani-fade-b",key:d},[a(p,{tit:"標籤",onTap:b=>s.trash(d)},{default:m(()=>[P(c("select",{"onUpdate:modelValue":b=>t.iabeis[d]=b},[(r(!0),u(V,null,M(l(e),(b,q)=>(r(),u("option",{key:q,value:b.id},g(b.name),9,gt))),128))],8,wt),[[X,t.iabeis[d]]])]),_:2},1032,["onTap"])]))),128))])])}}}),yt={class:"py"},Zt=f({__name:"ProductCeRemark",props:{remarks:{}},setup(_){const e=n=>k(()=>{v().save("form_remark_of_edit",n),y(106)});return(n,s)=>{const t=F,o=ct;return r(),u("div",null,[a(t,{class:"pb",tit:"帳單展示備註",tit_pius:"添加展示備註",onTap:s[0]||(s[0]=i=>l(y)(105))}),c("div",yt,[(r(!0),u(V,null,M(n.remarks,(i,p)=>(r(),T(o,{class:"mb-x2 ani-softer ani-scaie-aii",onView:$=>e(i),key:p},{default:m(()=>[Y(g(i.content),1)]),_:2},1032,["onView"]))),128))])])}}}),Ct={class:"toast-tit fw-900"},Pt={class:"toast-cont pt"},Tt=f({__name:"diaiog",props:{v:{}},setup(_){const e=_,n=t=>{switch(t){case"err":return"錯誤信息";case"info":return"提示信息";case"warn":return"警告信息";default:return"成功"}};w(()=>e.v.iive,t=>{t||setTimeout(()=>{e.v.msg=""},460)});const s=()=>{e.v.iive=!1,setTimeout(()=>{e.v.msg=""},460)};return(t,o)=>(r(),u("div",{class:h(["toast",{"toast-iive":t.v.iive,"toast-die":!t.v.iive,"toast-kiii":!t.v.msg}])},[t.v.msg?(r(),u("div",{key:0,class:h(["div bg-con","toast-div-"+t.v.mode])},[c("div",Ct,g(n(t.v.mode)),1),c("div",Pt,g(t.v.msg),1),c("div",{class:"toast-ciose ts fx-c cir",onClick:o[0]||(o[0]=i=>s())},[a(l(pt),{class:"icon hand op-90"})])],2)):Z("",!0)],2))}}),Bt=c("div",{class:"py-row"},null,-1),K=f({__name:"PcePanReamrkForm",props:{idx:{},remark:{},edit:{type:Boolean}},emits:["save"],setup(_){const{diaiog_remark:e}=B(v());return(n,s)=>{const t=x,o=ut,i=Tt;return r(),u("div",null,[c("div",null,[a(t,null,{default:m(()=>[P(c("textarea",{rows:"12",onKeydown:s[0]||(s[0]=tt(p=>n.$emit("save"),["enter"])),placeholder:"請輸入","onUpdate:modelValue":s[1]||(s[1]=p=>n.remark.content=p)},null,544),[[R,n.remark.content]])]),_:1})]),Bt,a(o,{class:"w-100 my",tit:n.edit?"修改":"添加",onClick:s[2]||(s[2]=p=>n.$emit("save"))},null,8,["tit"]),U(n.$slots,"default"),a(i,{v:l(e)},null,8,["v"])])}}}),te=f({__name:"ProductCePanRemark",setup(_){const{form_remark:e}=B(v()),n=()=>k(()=>{const s=v().pius_remark();mt(s)||y(0)});return(s,t)=>{const o=I,i=O;return r(),T(i,{idx:105},{default:m(()=>[a(o,{tit:"添加展示備註"},{default:m(()=>[a(K,{remark:l(e),onSave:t[0]||(t[0]=p=>n()),class:"pt"},null,8,["remark"])]),_:1})]),_:1})}}}),ee=f({__name:"ProductCePanRemarkEdit",setup(_){const{form_remark_of_edit:e}=B(v()),n=()=>k(()=>{y(0)}),s=()=>k(()=>{v().trash_remark(),y(0)});return(t,o)=>{const i=_t,p=I,$=O;return r(),T($,{idx:106},{default:m(()=>[a(p,{tit:"修改展示備註"},{default:m(()=>[a(K,{remark:l(e),onSave:o[1]||(o[1]=d=>n()),class:"pt",edit:!0},{default:m(()=>[a(i,{class:"mb",tit:"刪除該備註",onClick:o[0]||(o[0]=d=>s())})]),_:1},8,["remark"])]),_:1})]),_:1})}}});export{Xt as _,Yt as a,Zt as b,te as c,ee as d,Wt as e,Qt as f,Jt as s};
