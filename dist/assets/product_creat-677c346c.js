import{_ as C,b as T,l as V,c as N,d as B,e as F,h as R,g as E,f as U,i as j,j as D,k as I,m as L}from"./serv_product_opera-44613b8e.js";import{_ as M}from"./OBtnSave.vue_vue_type_script_setup_true_lang-92e973d6.js";import{pageProductPina as f}from"./pageProductPina-66f379b1.js";import{d as v,o as c,c as p,b as s,u as t,F as k,a as i,f as O,w as h,x as S,y as q,s as P,h as y,m as g,i as z,g as A}from"./index-17f9211a.js";import{_ as G}from"./IayoutForm.vue_vue_type_script_setup_true_lang-f6b54082.js";import{_ as H}from"./iabeiPina-27f86dd9.js";import{f as $,s as J,m as K,e as Q}from"./credit-734a3147.js";import{_ as W}from"./OTrPure.vue_vue_type_script_setup_true_lang-04470064.js";import{_ as X}from"./OTr.vue_vue_type_script_setup_true_lang-7145e237.js";import{i as Y}from"./judge-0b511643.js";import{pageProducEditPina as w}from"./pageProducEditPina-fd67274b.js";import{b as x}from"./route-block-83d24a4e.js";import"./anim-34f746ba.js";import"./OBtnInOrder.vue_vue_type_script_setup_true_lang-1fb38de4.js";import"./MBtn.vue_vue_type_script_setup_true_lang-9f4250a9.js";import"./Oi.vue_vue_type_script_setup_true_lang-1ba6e4d1.js";import"./XMarkIcon-86e8ed8e.js";import"./OOpenPan.vue_vue_type_script_setup_true_lang-36bd9b03.js";import"./index-444a025f.js";import"./mittPina-30434c97.js";import"./OBtnPius.vue_vue_type_script_setup_true_lang-c221140c.js";import"./Pan.vue_vue_type_script_setup_true_lang-4fcc3c08.js";import"./OInput.vue_vue_type_script_setup_true_lang-44352dc5.js";import"./OInputI.vue_vue_type_script_setup_true_lang-b7a33bf2.js";import"./OTime.vue_vue_type_script_setup_true_lang-e4601080.js";import"./datepicker.esm-5864b399.js";import"./dayjs.min-bdea528d.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-f5c8eb7d.js";import"./iodash-507b3f11.js";import"./Cardmsg.vue_vue_type_script_setup_true_lang-dc9f0242.js";import"./conn-2e825d0a.js";import"./net-tooi-3112abf7.js";import"./serv_product_iist-0113bfc7.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-cc63354e.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-93e3283b.js";import"./utii-46f72c2e.js";import"./errors_user-be6d0865.js";import"./TrangieGroup.vue_vue_type_script_setup_true_lang-fa7f5afd.js";const Z=v({__name:"ProduCreatPans",setup(d){const n=f();return(e,o)=>(c(),p(k,null,[s(C,{pina:t(n)},null,8,["pina"]),s(T,{pina:t(n)},null,8,["pina"])],64))}}),ss={class:"py"},ts=["onUpdate:modelValue"],is=v({__name:"ProduCeStyie",props:{variations:{},pina:{}},setup(d){const n=d,e={pius:()=>$(()=>{n.pina.pius_variation("")}),trash:o=>$(()=>n.pina.trash_variation(o))};return(o,r)=>{const m=H,_=V;return c(),p("div",null,[s(m,{class:"pb",tit:"樣式",tit_pius:"添加樣式",onTap:r[0]||(r[0]=a=>e.pius())}),i("div",ss,[(c(!0),p(k,null,O(o.variations,(a,l)=>(c(),p("div",{class:"pb-x2 ani-fade-b",key:l},[s(_,{tit:"樣式",onTap:u=>e.trash(l)},{default:h(()=>[S(i("input",{"onUpdate:modelValue":u=>a.name=u,placeholder:"請輸入樣式名稱"},null,8,ts),[[q,a.name]])]),_:2},1032,["onTap"])]))),128))])])}}}),as=i("div",{class:"pt"},null,-1),os=i("div",{class:"py"},null,-1),ns={key:0,class:"py-x2"},es={key:1,class:"py-x2"},rs={key:2,class:"py-x2"},_s=i("div",{class:"py"},null,-1),cs=v({__name:"ProduCreatIeft",props:{aii:{}},setup(d){const n=f(),{remarks:e,labels:o,variations:r,base:m}=P(n);return(_,a)=>{const l=G;return c(),p("div",null,[s(l,{tit:"添加產品資料"},{default:h(()=>[as,s(N,{form:t(m),aii:_.aii},null,8,["form","aii"])]),_:1}),os,s(B,{class:"pt-s",pina:t(n),iabeis:t(o)},null,8,["pina","iabeis"]),y(),t(o).length<=0?(c(),p("div",ns)):g("",!0),s(is,{class:"pt-s",pina:t(n),variations:t(r)},null,8,["pina","variations"]),y(),t(r).length<=0?(c(),p("div",es)):g("",!0),s(F,{class:"pt-s",pina:t(n),remarks:t(e)},null,8,["pina","remarks"]),y(),t(e).length<=0?(c(),p("div",rs)):g("",!0),_s])}}}),ps=i("div",{class:"py-row"},null,-1),ls={class:"tabie tabie-def"},ms=i("div",{class:"mh-8em"},null,-1),us=i("div",{class:"py-row"},null,-1),ds={class:"tabie tabie-def"},fs=i("div",{class:"mh-8em"},null,-1),hs=i("div",{class:"py-row"},null,-1),vs={class:"tabie tabie-def"},$s=i("div",{class:"mh-8em"},null,-1),bs=i("div",{class:"py-row"},null,-1),ys={class:"tabie tabie-def"},gs=i("div",{class:"td"},[i("div",{class:"w-24"}," ")],-1),ks=v({__name:"ProduCreatRight",setup(d){return(n,e)=>{const o=X,r=W;return c(),p("div",null,[ps,i("div",ls,[s(o,{aii:{trs:t(R)}},null,8,["aii"]),ms]),us,i("div",ds,[s(o,{aii:{trs:t(E)}},null,8,["aii"]),fs]),hs,i("div",vs,[s(o,{aii:{trs:t(U)}},null,8,["aii"]),$s]),bs,i("div",ys,[s(r,{trs:t(j)},null,8,["trs"]),gs])])}}}),ws=v({__name:"product_creat",setup(d){const n=z(),e=A({ioading:!1,msg:"",can:!1,sign:0,search:""}),o=f(),{variations:r}=P(o),m={buiid:()=>e.can?f().form():null,submit:()=>J(e,m.buiid,async _=>{const a=await L(_);Y(a)?K(a,e):m.success(a)}),success:_=>$(async()=>{const a=_.id;if(a){m.success_other(a),Q("產品添加成功，正在添加樣式.....");const l=r.value.length;if(l>0)for(let u=0;u<l;u++){const b=r.value[u];await o.variation_add(b.name,a)}n.push("/admin/product_inventory_iist/edit")}}),success_other:_=>$(async()=>{await w().fetchOne(_),w().repiaceForm(f().form())})};return(_,a)=>{const l=M,u=D,b=I;return c(),p(k,null,[s(b,null,{ieft:h(()=>[s(cs,{aii:t(e)},null,8,["aii"])]),ieft_bottom:h(()=>[s(l,{aii:t(e),onClick:a[0]||(a[0]=xs=>m.submit()),class:"w-100",tit:"儲存"},null,8,["aii"])]),right:h(()=>[s(u,{die:!0,class:"fx-s"}),s(ks)]),_:1}),s(Z)],64)}}});typeof x=="function"&&x(ws);export{ws as default};
