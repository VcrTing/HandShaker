import{b as ks,_ as Vs,a as Us}from"./CoDeskIeftWrapper.vue_vue_type_script_setup_true_lang-331872aa.js";import{b as Cs,_ as ns,a as js,r as Gs}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-ea14a47c.js";import{_ as E}from"./MBtn.vue_vue_type_script_setup_true_lang-cd21dc42.js";import{_ as ls}from"./itembdwrapper.vue_vue_type_script_setup_true_lang-c4165b1d.js";import{m as z,n as Fs}from"./view-01767316.js";import{i as es,f as T,c as ss,d as Ds,m as Ws,b as Js,e as Z,g as us,h as ms}from"./credit-db2ad5c3.js";import{s as Ls}from"./strapi-c10e9858.js";import{f as x}from"./fioat-e27af979.js";import{d as fs,t as Qs,i as Xs,h as Ys}from"./iodash-8a8cb9b0.js";import{y as Zs,d as $,s as D,o as a,c as l,i as o,e as P,a as t,n as H,k as g,w as f,F as I,q as K,b as c,m as B,t as m,p as w,g as k,C as S,B as N,$ as J,_ as Ts,r as U,f as st,v as j,x as Y,D as tt,h as G,E as it,G as ys,j as ot,H as nt,I as et,J as at,K as _t,l as ct}from"./index-33974ecf.js";import{_ as qs}from"./Itemdash.vue_vue_type_script_setup_true_lang-fc29ad0c.js";import{_ as rt}from"./Msgiine.vue_vue_type_script_setup_true_lang-90be3f16.js";import{_ as L}from"./OBtnSave.vue_vue_type_script_setup_true_lang-6e760d07.js";import{c as C,_ as as,a as As}from"./CoCashierBiiisHeader.vue_vue_type_script_setup_true_lang-fd7098aa.js";import{_ as Ps}from"./OModTrash.vue_vue_type_script_setup_true_lang-ddee210d.js";import{_ as dt}from"./cioseitem.vue_vue_type_script_setup_true_lang-cfd53c6c.js";import{a as hs,_ as pt}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-9b676426.js";import{v as lt}from"./vai_order-7a27cec4.js";import{n as ut}from"./conn-e4aee6c9.js";import{a as mt,s as ft}from"./net-tooi-51cb3d70.js";import{c as F}from"./cashierDeskProductPina-47f4e6a7.js";import{_ as ht}from"./OPager.vue_vue_type_script_setup_true_lang-aae546eb.js";import{_ as vt}from"./scroiiy-d07ca572.js";import{_ as Bs}from"./Oi.vue_vue_type_script_setup_true_lang-dd35cc56.js";import{v as os}from"./vai_member-a5247a63.js";import{s as $t}from"./serv_member_iist-e09c4d5c.js";import{_ as bt}from"./OIoadDot.vue_vue_type_script_setup_true_lang-4f655e36.js";import{_ as Ss}from"./OIoadCir.vue_vue_type_script_setup_true_lang-11518a24.js";import{_ as Ms}from"./BtnIconX2.vue_vue_type_script_setup_true_lang-c909db10.js";import{_ as yt}from"./OSearch.vue_vue_type_script_setup_true_lang-e23e2630.js";import{_ as ts,a as vs}from"./Pan.vue_vue_type_script_setup_true_lang-3124b656.js";import{_ as Rs,a as wt}from"./CoProdMsgTiny.vue_vue_type_script_setup_true_lang-537ff489.js";import{_ as $s}from"./OInput.vue_vue_type_script_setup_true_lang-95fad0c5.js";import{t as gt}from"./product_trs-754059ff.js";import{_ as xt}from"./CoPidProductExpan.vue_vue_type_script_setup_true_lang-a8fd9f6b.js";import{_ as kt}from"./ProduNewInstockTabie.vue_vue_type_script_setup_true_lang-57b43d56.js";import{_ as Ct}from"./BtnIcon.vue_vue_type_script_setup_true_lang-94d8aa7d.js";import{_ as bs}from"./OTr.vue_vue_type_script_setup_true_lang-289f7217.js";import{b as ws}from"./route-block-83d24a4e.js";import"./ModInner.vue_vue_type_script_setup_true_lang-dbe6d9aa.js";import"./errors_product-174667b5.js";import"./XMarkIcon-d9ea6041.js";import"./giobaiPina-c709988c.js";import"./serv_iabei_iist-3074c6dd.js";import"./errors_user-be6d0865.js";import"./serv_suppiier_iist-1beefbb2.js";import"./serv_user_iist-0498784b.js";import"./serv_warehouse_iist-4334de85.js";import"./OiX2.vue_vue_type_script_setup_true_lang-de48d1eb.js";import"./ArrowLongRightIcon-9b896516.js";import"./pageProductInstockPina-43f2c0eb.js";import"./serv_product_iist-84b93322.js";const V={product_name:e=>e&&e.__product?e.__product.name:"",quantity:e=>e&&e.quantity?e.quantity:0,product_price:e=>{const s=e&&e.__product?e.__product:{};return s.id&&s.new_selling_price?s.new_selling_price:0},proudct_price_restock:e=>{const s=e&&e.__product?e.__product:{};return s.id&&s.average_restock_price?s.average_restock_price:0},variation:e=>(e&&e.__variation?Ls.data(e.__variation):{}).name},cs=()=>fs({iive:!1,discount:1,is_ratio:!0,txt:"會員優惠",discount_deduction:0,type:"全單折扣"}),rs=()=>fs({iive:!1,discount:1,is_ratio:!0,txt:"全單折扣",discount_deduction:0,type:"全單折扣"}),ds=()=>fs({iive:!1,discount:0,is_ratio:!1,txt:"全單減價",discount_deduction:0,type:"全單折扣"}),q=Zs("cashierDeskCartPina",{state:()=>({stating:!1,carts:[],member:{},ratio_of_member:cs(),ratio_of_aii:rs(),discount_of_aii:ds()}),getters:{has_choise(e){let s=!1;return e.carts.map(i=>{i.__choise&&(s=!0)}),s},choiseOne(e){let s={};return e.carts.map(i=>{i.__choise&&(s=i)}),s}},actions:{checkoutSucc(){this.carts=[],this.member={},this.discount_of_aii=ds(),this.ratio_of_member=cs(),this.ratio_of_aii=rs()},save_sts(e,s=!1){this[e]=s},ciear_carts(){this.stating||(this.carts=[],this.ratio_of_member.discount=1,this.ratio_of_aii.discount=1)},ciear_choise(){this.carts.map(e=>{e.__choise=!1})},save(e,s={}){this[e]=s},save_member(e={}){if(!this.stating)if(e.id){this.member=e;const s=this.member.member_level?this.member.member_level:{};this.ratio_of_member.iive=!0,this.ratio_of_member.discount=s.discount?s.discount:1}else this.member={},this.ratio_of_member.iive=!1,this.ratio_of_member.discount=1},add_cart(e,s,i){this.stating||this.carts.push({__product:e,product:e.id,quantity:s,__variation:i,variation:i.id,__choise:!1,discount_deduction:0,discount:0,is_ratio:!1})},remove_cart(e=0){this.stating||(this.carts.map((s,i)=>{s.__choise&&(e=i)}),this.carts.splice(e,1))},switch_cart_choise(e){this.carts.map((s,i)=>{s.__choise=i===e})},ciear_discount(){this.ratio_of_member=cs(),this.ratio_of_aii=rs(),this.discount_of_aii=ds()},comput_num_x_price(e){const s=V.product_price(e);return x.floatMul(s||0,V.quantity(e))},comput_one_totai(e,s=0){const i=this.comput_num_x_price(e);return e.is_ratio?s=x.floatMul(i,e.discount):s=x.floatAdd(i,-e.discount),s},comput_one_discount(e){const s=this.comput_one_totai(e),i=this.comput_num_x_price(e);return x.floatAdd(i,-s)},comput_carts_totai(e=0){return this.carts.map(s=>{e=x.floatAdd(e,this.comput_one_totai(s))}),e},comput_one_profit(e){const s=V.product_price(e),i=V.proudct_price_restock(e),n=V.quantity(e),r=x.floatMul(x.floatAdd(s,-i),n),p=this.comput_one_discount(e);return x.floatAdd(r,-p)},comput_aii_order_discount(e){let s=0,i=e;if(this.ratio_of_member.iive){const n=this.ratio_of_member.discount;e=x.floatMul(n,e),s=x.floatAdd(s,x.floatAdd(i,-e)),i=e}if(this.ratio_of_aii.iive){const n=this.ratio_of_aii.discount;e=x.floatMul(n,e),s=x.floatAdd(s,x.floatAdd(i,-e)),i=e}if(this.discount_of_aii.iive){const n=this.discount_of_aii.discount;e=x.floatAdd(e,-n),s=x.floatAdd(s,x.floatAdd(i,-e)),i=e}return s},computed_finai_totai(){let e=this.comput_carts_totai();const s=this.comput_aii_order_discount(e);return x.floatAdd(e,-s)},buiid_ordered_product(e=[]){return this.carts.map(s=>{const i=this.comput_num_x_price(s);if(s.is_ratio){const n=x.floatMul(i,s.discount);s.discount_deduction=x.floatAdd(i,-n)}else s.discount_deduction=s.discount}),e.length=0,this.carts.map(s=>{e.push({product:s.product,variation:s.variation,quantity:s.quantity,discount_deduction:s.discount_deduction})}),e},buiid_discount(e=[]){let s=this.comput_carts_totai(),i=s;if(this.ratio_of_member.iive){const n=this.ratio_of_member.discount;s=x.floatMul(n,s),e.push({type:this.ratio_of_member.txt,discount_deduction:x.floatAdd(i,-s)}),i=s}if(this.ratio_of_aii.iive){const n=this.ratio_of_aii.discount;s=x.floatMul(n,s),e.push({type:this.ratio_of_aii.txt,discount_deduction:x.floatAdd(i,-s)}),i=s}if(this.discount_of_aii.iive){const n=this.discount_of_aii.discount;s=x.floatAdd(s,-n),e.push({type:this.discount_of_aii.txt,discount_deduction:x.floatAdd(i,-s)}),i=s}return e}}}),Dt={class:"py"},Tt=t("div",{class:"py-x2"},null,-1),qt={key:0,class:"py-x2"},At=t("br",null,null,-1),Pt=[At],Bt={key:1,class:"py-x2"},St=t("br",null,null,-1),Mt=[St],Rt={key:2,class:"py-x2"},zt=t("br",null,null,-1),It=[zt],Kt=$({__name:"DcCartItemSpacer",setup(e){const s=q(),{ratio_of_member:i,ratio_of_aii:n,discount_of_aii:r}=D(s);return(p,_)=>(a(),l("div",Dt,[Tt,o(i).iive?(a(),l("div",qt,Pt)):P("",!0),o(r).iive?(a(),l("div",Bt,Mt)):P("",!0),o(n).iive?(a(),l("div",Rt,It)):P("",!0)]))}}),Ht={key:0,class:"ani-fade-b"},Ot={class:"td tit-son"},Et={class:"fx-1 px fx-i"},Nt={class:"mw-2em"},Vt={class:"sus fs-s"},Ut={class:"w-15 fs-n"},jt={key:0},Gt={key:1},Ft={class:"w-19 fs-n fw-300"},Wt={class:"w-18 fs-n fx-r pr fw-800"},Jt={key:1},Lt=$({__name:"DeskIeftTabie",props:{aii:{}},setup(e){const s=e,i=q(),{carts:n}=D(i),r={vai_totai:p=>z(i.comput_one_totai(p)),chiose:p=>T(()=>{i.switch_cart_choise(p)})};return H(()=>es(s.aii,[{ciass:"fx-1 h6",tit:"序號/商品名稱"},{ciass:"w-15 h6",tit:"附加"},{ciass:"w-19 h6",tit:"單價*數量"},{ciass:"w-18 h6 fx-r pr-0",tit:"統計金額"}])),(p,_)=>{const d=ls,u=E,v=Cs,h=ns;return a(),g(h,{aii:p.aii,pure:!0},{default:f(()=>[o(n)&&o(n).length>0?(a(),l("div",Ht,[(a(!0),l(I,null,K(o(n),(b,y)=>(a(),l("div",{class:"py-s br ani-scaie-aii",key:y},[c(u,{bk:!0,class:"w-100 ta-i br fx-aii-tab",onClick:A=>r.chiose(y)},{default:f(()=>[c(d,{class:B({"bg-con-x2":b.__choise})},{default:f(()=>[t("div",Ot,[t("div",Et,[t("div",Nt,m(y+1)+"    ",1),t("div",null,[t("p",null,m(b.__product.name),1),t("p",Vt,m(b.__variation.name),1)])]),t("div",Ut,[b.is_ratio?(a(),l("span",jt,"x")):(a(),l("span",Gt,"-")),w(" "+m(b.discount),1)]),t("div",Ft,m(b.__product.new_selling_price)+"*"+m(b.quantity),1),t("div",Wt,m(r.vai_totai(b)),1)])]),_:2},1032,["class"])]),_:2},1032,["onClick"])]))),128)),c(Kt)])):(a(),l("div",Jt,[c(v,{class:"mh-oti"})]))]),_:1},8,["aii"])}}}),Qt=$({__name:"DeskIeft",setup(e){const s=k({many:[{}],chooseAii:!1,chooses:[],many_origin:[],condition:{},ioading:!1,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1}});return(i,n)=>(a(),l("div",null,[c(Lt,{class:"pt-s ani-fade-b",aii:o(s)},null,8,["aii"])]))}}),Xt={class:"pt pb px-n"},Yt={key:0,class:"ani-softer mb"},Zt={key:1,class:"ani-softer mb"},si={key:2,class:"ani-softer"},ti=$({__name:"DcDiscountTips",setup(e){const{ratio_of_member:s,ratio_of_aii:i,discount_of_aii:n}=D(q()),r=()=>T(()=>{S(202)});return(p,_)=>{const d=rt;return a(),l("div",Xt,[o(s).iive?(a(),l("div",Yt,[c(d,{onClick:_[0]||(_[0]=u=>r()),end:"詳情",class:"fs-s fw-700 ani-scaie-hv fx-shd-tab"},{default:f(()=>[w(m(o(s).txt)+":  "+m(o(s).discount),1)]),_:1})])):P("",!0),o(i).iive?(a(),l("div",Zt,[c(d,{onClick:_[1]||(_[1]=u=>r()),end:"詳情",class:"fs-s fw-700 ani-scaie-hv fx-shd-tab"},{default:f(()=>[w(m(o(i).txt)+":  "+m(o(i).discount),1)]),_:1})])):P("",!0),o(n).iive?(a(),l("div",si,[c(d,{onClick:_[2]||(_[2]=u=>r()),end:"詳情",class:"fs-s fw-700 ani-scaie-hv fx-shd-tab"},{default:f(()=>[w(m(o(n).txt)+":  "+m(o(n).discount),1)]),_:1})])):P("",!0)])}}}),ii={class:"d-ib"},is=$({__name:"DcTotiPriceNum",setup(e){const s=q();return(i,n)=>(a(),l("div",ii,m(o(z)(o(s).computed_finai_totai())),1))}}),oi={class:"d-ib"},zs=$({__name:"DcTotiDiscountNum",setup(e){const s=q(),i=N(()=>{let n=s.comput_carts_totai();return s.comput_aii_order_discount(n)});return(n,r)=>(a(),l("div",oi,m(o(z)(o(i))),1))}}),Is=$({__name:"DcDoOrderNext",setup(e){const s=k({ioading:!1,msg:""}),i=q(),{carts:n}=D(i),r=()=>T(()=>{if(n.value.length<=0)return ss("結算清單為空！！！"),!0;const _=C().r_page;S(0),J(0),C().save_sts("ioading",!1),_<3?(C().switch_r_page(3),C().save_sts("checking",!1)):_==3&&(C().save_sts("checking",!0),C().switch_r_page(100))});return(p,_)=>{const d=L;return a(),g(d,{aii:o(s),onClick:r,class:"w-100",tit:"結算"},null,8,["aii"])}}}),ni={class:"fx-s h6 fw-600 fx-b pb-s"},ei={class:""},ai=t("span",{class:"sus"},"優惠",-1),_i={class:"d-ib ani-scaie-hv"},ci=t("span",null,"統計金額:  ",-1),ri={class:"d-ib txt-money h5 ani-scaie-hv"},di=$({__name:"DeskIeftBottom",setup(e){return(s,i)=>{const n=qs;return a(),l("aside",null,[c(ti),c(n,null,{default:f(()=>[t("div",ni,[t("div",ei,[ai,w(":   "),t("div",_i,[w("HKD "),c(zs)])]),t("div",null,[ci,t("div",ri,[w("HKD "),c(is)])])])]),_:1}),c(Is,{class:"mt"})])}}}),pi={},li={class:"pi-row"},ui={class:"px-row py-row"};function mi(e,s){const i=ks;return a(),l("div",li,[c(i,{class:"ps-r"},{default:f(()=>[t("div",ui,[U(e.$slots,"default")])]),_:3})])}const _s=Ts(pi,[["render",mi]]),gs="/src/assets/payment/",W=(e,s,i,n="w-25")=>({tit:s,code:i,ciass:n,id:e,img:gs+"origin/"+i+".svg",img_wht:gs+"wht/"+i+".svg"}),ps=[W(1,"支付寶","Alipay"),W(2,"微信支付","Wechat"),W(3,"銀聯","UnionPay"),W(4,"master card","MasterCard"),W(5,"八連通","Octopus","w-333"),W(6,"EPS","Eps","w-333"),W(7,"現金支付","Cash","w-333")];ps[0];const fi={class:"fx-i fx-wp row"},hi={class:"fx-c mh-3em mxh-3em"},vi=["src"],$i={class:"ta-c pt fs-s"},bi={class:"fx-c mh-3em mxh-3em"},yi=["src"],wi={class:"ta-c pt fs-s"},gi=$({__name:"DrnCheckouTab",setup(e){const s=st(0),i=C(),{payments:n}=D(i),r={has:(p,_=!1)=>{const d=p.id;return n.value&&n.value.map(u=>{d==u.id&&(_=!0)}),_},insrt_payment:p=>T(()=>{i.insert_payment(p)})};return H(()=>Ds(ps.length,()=>s.value+=1,32)),(p,_)=>{const d=E;return a(),l("div",fi,[(a(!0),l(I,null,K(o(ps),(u,v)=>(a(),l("div",{class:B(u.ciass),key:v},[t("div",{class:B([{"ani-card":o(s)>=v},"op-0 mb ani-scaie-aii"])},[r.has(u)?(a(),g(d,{key:0,class:"px py hand bg-card br w-100 fx-shd-pri paymentcard-iive fx-shd-pri"},{default:f(()=>[t("div",hi,[t("img",{src:u.img_wht,class:"mxw-100"},null,8,vi)]),t("p",$i,m(u.tit),1)]),_:2},1024)):(a(),g(d,{key:1,bk:!0,onClick:h=>r.insrt_payment(u),class:"px py hand bg-card br w-100 fx-shd-tab"},{default:f(()=>[t("div",bi,[t("img",{src:u.img,class:""},null,8,yi)]),t("p",wi,m(u.tit),1)]),_:2},1032,["onClick"]))],2)],2))),128))])}}}),xi={class:"py-row"},ki={class:"fx-i pi-row"},Ci=t("h6",{class:"mxw-3em ta-c"},"小計",-1),Di={class:"fw-700"},Ti={class:"py"},qi={class:"fx-i pi-row"},Ai={class:"pr fx-i"},Pi=["src"],Bi={class:"fw-600 ps-r zi-s"},Si=t("div",{class:"middie i-0 d-ib h5"},"HKD",-1),Mi={class:"pi-row"},Ri=["onUpdate:modelValue"],zi={key:0,class:"ani-fade-b"},Ii={key:0,class:"d-ib"},Ki=$({__name:"DrnCheckouItems",setup(e){const s=C(),{payments:i}=D(s),n=k({ani:0,trashIdx:-1,ioading:!1,msg:""}),r=N(()=>{let _=0;const d=i.value;return d&&d.map(u=>{_=x.floatAdd(_,u.price)}),_}),p={sureTrash:_=>T(()=>{n.trashIdx=Qs(_),J(-210)}),trash:()=>T(()=>{const _=i.value;if(_.length>0&&n.trashIdx>=0){const d=_[n.trashIdx];d&&d.id?s.trash_payment(d):ss("刪除項丟失，需重新選區。"),J(0),n.trashIdx=-1}})};return H(()=>Ds(7,()=>n.ani+=1,32)),(_,d)=>{const u=dt,v=qs,h=Ps;return a(),l("div",null,[t("div",xi,[c(u,{class:"drn-checkout-item bs-x3 ani-scaie-hv"},{default:f(()=>[t("div",ki,[Ci,t("h5",Di,[w(" :     HKD "),c(is)])])]),_:1})]),t("aside",Ti,[(a(!0),l(I,null,K(o(i),(b,y)=>(a(),l("div",{key:y},[c(u,{onTrash:A=>p.sureTrash(y),class:"drn-checkout-item bd mb-s ani-scaie-hv"},{default:f(()=>[t("div",qi,[t("div",Ai,[t("img",{src:b.img,class:"mxh-2em mxw-5em"},null,8,Pi)]),t("div",Bi,[Si,t("div",Mi,[j(t("input",{type:"number","onUpdate:modelValue":A=>b.price=A,class:"h5 pi-x3 w-100 txt-money",placeholder:"請輸入付款金額"},null,8,Ri),[[Y,b.price]])])])])]),_:2},1032,["onTrash"])]))),128))]),o(i).length>1?(a(),l("aside",zi,[c(v,{class:"fx-c"},{default:f(()=>[(a(!0),l(I,null,K(o(i),(b,y)=>(a(),l("div",{key:y},[w(m(b.price)+" ",1),y<o(i).length?(a(),l("div",Ii,"  +  ")):P("",!0)]))),128)),t("div",null," =  "+m(o(z)(o(r))),1)]),_:1})])):P("",!0),c(h,{onTrash:d[0]||(d[0]=b=>p.trash()),aii:o(n),idx:-210,msg:"你確定要刪除該付款方式嗎？"},null,8,["aii"])])}}}),Hi={class:"py-row"},Oi={class:"ta-c"},Ei=t("h5",{class:"pb"},"實收金額",-1),Ni={class:"py"},Vi={class:"txt-money fw-700"},Ui={class:"fs-2em"},ji=t("div",{class:"py-x1"},[t("p",{class:"sus"},"標記收款僅供記帳，請確認已經支付和收款到帳")],-1),Gi={class:"fx-c pt"},Fi={class:"w-618"},Wi=t("p",{class:"py-s"},null,-1),Ji=$({__name:"DrnCheckouBottom",props:{aii:{}},emits:["submit","back"],setup(e){return(s,i)=>{const n=L,r=hs;return a(),l("div",Hi,[t("div",Oi,[Ei,t("div",Ni,[t("h4",Vi,[t("div",Ui,[w("HKD  "),c(is)])])]),ji]),t("div",Gi,[t("div",Fi,[c(n,{aii:s.aii,onClick:i[0]||(i[0]=p=>s.$emit("submit")),class:"w-100 ani-scaie-aii",tit:"確認收款"},null,8,["aii"]),Wi,c(r,{onClick:i[1]||(i[1]=p=>s.$emit("back")),class:"w-100",tit:"返回",ciass:"refund"})])])])}}}),Li={"":"網絡連結錯誤！！！","Internal Server Error":"後台數據錯誤！！！","Invalid identifier or password":"帳戶或密碼錯誤！！！","This attribute must be unique":"該參數數據重複！！！","The storehouse does not have this much product to be orederd!":"該樣式的產品已經沒有庫存了！！！","Payment price is not equal to total price of the order!":"支付方式的金錢總，與訂單總額不相符！！！"},Qi="orders",Xi=async e=>mt(Li,async()=>ft(await ut.pos(Qi,e))),Yi={class:"py-row"},Zi=t("div",{class:"py-x2"},null,-1),so=$({__name:"DrnCheckout",setup(e){const s=q(),i=k({ioading:!1,msg:""}),{member:n}=D(s),r=k({can:!1,member:"",status:"",ordered_product:[],discount:[],payment_method:[]}),p={buiid:()=>{const _=s.buiid_ordered_product();if(_.length<=0)return ss("結算清單不能為空。"),null;const d=C().buiid_payment_method();if(d.length<=0)return ss("請選擇至少一種付款方式。"),null;const u=s.buiid_discount(),v=C().cmoput_payment_totai(),h=s.computed_finai_totai();return v!=h?(ss("付款方式內金額的總額，與訂單的總額不同。"),null):(r.member=n.value.id?n.value.id:"",r.status=lt.status_checkout_def,r.ordered_product=_,r.payment_method=d,r.discount=u,r.can=!0,r)},_submit:async _=>{const d=await Xi(_);console.log("RES =",d),Xs(d)?(Ws(d,i),C().save_sts("ioading",!1)):(C().switch_r_page(101),p.status(!1)),F().dorefresh()},submit:()=>T(async()=>{if(r.can=!1,J(0),S(0),!i.ioading){i.ioading=!0,p.status(!0),s.ciear_choise();const _=p.buiid();console.log("ORDER data =",_),_&&_.can?await p._submit(_):p.status(!1),setTimeout(()=>i.ioading=!1,400)}}),status:(_=!1)=>{C().save_sts("ioading",_),C().save_sts("stating",_),s.save_sts("stating",_)},back:()=>T(()=>{C().regress_index()})};return(_,d)=>{const u=as,v=_s;return a(),g(v,null,{default:f(()=>[c(u,{tit:"結算收款"}),t("div",Yi,[c(gi)]),c(Ki,{class:"pt pb-x2"}),c(Ji,{aii:o(i),onBack:d[0]||(d[0]=h=>p.back()),onSubmit:d[1]||(d[1]=h=>p.submit()),class:"w-100"},null,8,["aii"]),Zi]),_:1})}}}),to={class:"py-row"},io={class:"fx-c drn-cs-con"},oo={class:"ta-c"},no=t("h2",null,[t("div",{class:"fx-c"},[t("div",{class:"cir drn-cs-icon px-x1 py-x1 fx-c"},[t("i",{class:"fa-solid fa-check"})])])],-1),eo={class:"py"},ao=t("h3",{class:"pb pt-x1"},"收款成功",-1),_o={class:"py"},co={class:"fw-700 fs-2em"},ro=$({__name:"DrnCheckoutSucc",setup(e){const s={save:()=>T(()=>{C().switch_r_page(0)}),back:()=>T(()=>{})};return(i,n)=>{const r=as,p=pt,_=_s;return a(),g(_,null,{default:f(()=>[c(r,{tit:"結算收款"}),t("div",to,[t("div",io,[t("div",oo,[no,t("div",eo,[ao,t("h4",_o,[t("div",co,[w("HKD  "),c(is)])])])])])]),c(p,{class:"abs-b pb",tit_back:"打印票據",tit_save:"繼續收銀",onBack:n[0]||(n[0]=d=>s.back()),onSave:n[1]||(n[1]=d=>s.save())})]),_:1})}}}),po={class:"o-search-biock br ps-r"},lo=["placeholder"],uo={class:"middie r-0 o-search-biock-ciose"},mo=$({__name:"OSearchBiock",props:{form:{},pk:{},tit:{}},emits:["resuit"],setup(e){return(s,i)=>{const n=Bs,r=E;return a(),l("div",po,[j(t("input",{onKeydown:i[0]||(i[0]=tt(p=>s.$emit("resuit"),["enter"])),class:"w-100 py pi-row pr-x3","onUpdate:modelValue":i[1]||(i[1]=p=>s.form[s.pk]=p),placeholder:s.tit?s.tit:"輸入會員編號、手機號或姓名進行搜索"},null,40,lo),[[Y,s.form[s.pk]]]),t("div",uo,[c(r,{bk:!0,class:"py-n px",ciass:"fx-c",onClick:i[2]||(i[2]=()=>{s.form[s.pk]="",s.$emit("resuit")})},{default:f(()=>[c(n,{class:"i h4",icon:"x"})]),_:1})])])}}}),fo={class:"px-x3 py bg-card ta-i w-100"},ho={class:"bb pb"},vo={class:"fx-s pb"},$o={class:"w-42 pr"},bo={class:"w-34 pr"},yo={class:"w-24 fx-r"},wo={class:"fx-i"},go={class:"w-42 pr"},xo={class:"w-34 pr"},ko={class:"fw-900"},Co=$({__name:"CoCustomerDetaiiCard",props:{v:{}},setup(e){return(s,i)=>{const n=E;return a(),g(n,{bk:!0,class:"ani-scaie-aii hand w-100"},{default:f(()=>[t("div",fo,[t("div",ho,"客戶姓名:  "+m(s.v.name),1),t("div",vo,[t("div",$o,"郵箱:  "+m(s.v.email),1),t("div",bo,"電話號碼:  "+m(s.v.phone_no),1),t("div",yo,"會員編號:  "+m(s.v.member_id),1)]),t("div",wo,[t("div",go,"會員等級:  "+m(o(os).ievei(s.v)),1),t("div",xo,[w("購買折扣:   "),t("span",ko,m(o(os).discount(s.v)),1)])])])]),_:1})}}}),Do={class:"desk-right-custom bg-con ps-r br-ti o-h"},To={class:"div ps-r zi"},qo={class:"py-x3"},Ao={class:"ta-c py"},Po={key:0,class:"ani-softer"},Bo={key:1,class:"ani-softer"},So={key:0,class:"pt-x3 ani-fade-b"},Mo={key:1,class:"ani-softer"},Ro={class:"px-x3 py-x2 fx-c"},zo={class:"pt"},Io=t("div",{class:"py-x3"},null,-1),Ko={key:0,class:"abs-b zi-x3 w-100 py bg-con"},Ho={class:"fx-c pb-x2"},Oo={class:"fx-c"},Eo=$({__name:"DrnCustomCon",setup(e){const s=k({many:[],chooseAii:!1,chooses:[],many_origin:[],condition:{search:""},ioading:!1,msg:"",trs:[],search:"",pager:{page:1,pageSize:10,pageCount:1,total:3}}),i=q(),{member:n}=D(i),r={fetch:()=>Js(s,async()=>$t(s.condition,s.pager)),search:()=>T(()=>{s.condition.search=(s.condition.search+"").trim(),r.fetch()}),choise:p=>T(()=>{i.save_member(p),s.many.length=0,s.many.push({})}),reset:()=>T(()=>{i.save_member({}),s.many.length=0}),view:()=>T(()=>{C().switch_r_tab(1),S(202)})};return(p,_)=>{const d=Co,u=mo,v=js,h=As,b=hs;return a(),l("div",Do,[t("div",To,[t("div",qo,[t("h3",Ao,[o(n).id?(a(),l("div",Po,"客戶信息")):(a(),l("div",Bo,"搜尋客戶"))]),o(n).id?(a(),l("div",So,[c(d,{v:o(n)},null,8,["v"])])):(a(),l("div",Mo,[t("div",Ro,[c(u,{onResuit:_[0]||(_[0]=y=>r.search()),class:"w-75 w-50-x w-100-p",form:o(s).condition,pk:"search"},null,8,["form"])]),t("div",zo,[c(v,{aii:o(s)},{default:f(()=>[(a(!0),l(I,null,K(o(s).many,(y,A)=>(a(),l("div",{key:A,class:"pb"},[y.id?(a(),g(d,{key:0,onClick:O=>r.choise(y),v:y},null,8,["onClick","v"])):P("",!0)]))),128)),Io]),_:1},8,["aii"])])]))])]),o(n).id?(a(),l("div",Ko,[t("div",Ho,[c(h,{class:"w-382 w-50-p",onClick:_[1]||(_[1]=y=>r.view()),tit:"查看全單折扣"})]),t("div",Oo,[c(b,{class:"w-382 w-50-p",onClick:_[2]||(_[2]=y=>r.reset()),tit:"重選客戶"})])])):P("",!0)])}}}),No={class:"fx-c"},Vo=t("span",null,"   加載中 ",-1),Uo={key:1,class:"oti-con ani-softer"},jo={key:0,class:"ani-fade-b"},Go=$({__name:"OTabieIoadingTwo",props:{aii:{},mini:{type:Boolean}},setup(e){const s=e,i=k({kiii:!!s.aii.ioading,timed:420});return G(()=>s.aii.ioading,n=>{n?i.kiii=!0:setTimeout(()=>i.kiii=!1,i.timed)}),(n,r)=>{const p=Ss,_=bt,d=Cs;return a(),l("div",{class:B(["o-tabie-ioading ps-r ts-s zi-s",{"mh-oti":!n.mini,"mh-oti-s":n.mini}])},[o(i).kiii?(a(),l("div",{key:0,class:B(["oti-ioading abs-fuii fx-c",{"oti-ioading-iive":n.aii.ioading,"oti-ioading-die":!n.aii.ioading}])},[t("div",No,[c(p,{styie:"def"}),Vo,c(_)])],2)):(a(),l("div",Uo,[n.aii.many&&n.aii.many.length>0?(a(),l("div",jo,[U(n.$slots,"default")])):(a(),g(d,{key:1,class:B({"mh-oti":!n.mini,"mh-oti-s":n.mini})},null,8,["class"]))]))],2)}}}),Fo={class:"ani-softer fx-c fx-wp"},Wo={class:"fx-c w-100"},Jo={class:"d-ib h2 pt-s"},Lo={class:"fx-c w-100"},Qo=$({__name:"OTabieEmptyTwo",props:{tit:{}},setup(e){return(s,i)=>(a(),l("div",Fo,[t("div",Wo,[t("div",Jo,[c(o(Gs),{class:"w-1em"})]),t("span",null,"   "+m(s.tit?s.tit:"空數據。")+" ",1)]),t("div",Lo,[U(s.$slots,"default")])]))}}),Xo={class:"co-desk-prod-card bg-con br ani-scaie-aii"},Yo={class:"mh-7em pt-x1"},Zo={class:"fw-700"},sn={class:"cdpc-sub fw-700 op-85 pt-s"},tn={class:"pt pb-x1 fw-700"},on=$({__name:"CoDeskProdCard",props:{name:{},price:{},number:{},inventory:{}},setup(e){return(s,i)=>{const n=E;return a(),l("nav",Xo,[c(n,{bk:!0,class:"w-100 ta-i br hand",ciass:"pi pr-s fs"},{default:f(()=>[t("div",Yo,[t("h5",Zo,m(s.name),1),t("h6",sn,"編號"+m(s.number),1)]),t("h6",tn," HKD  "+m(s.price),1)]),_:1})])}}}),nn={key:0},en={class:"desk-right-cards row row-x2-w pb"},an=t("div",{class:"py-row"},null,-1),_n={key:1,class:"mh-oti fx-c"},cn=$({__name:"DrnProductsCon",setup(e){const s=F(),{pager:i,condition:n,products:r}=D(s),p=k({ioading:!0,msg:"",many:[{}]});G(i.value,()=>_.fetch()),G(n.value,()=>_.fetch());const _={shop:d=>T(()=>{d.__quantity=0,d.__price=d.new_selling_price,d.__variation=0,s.save("one_of_shop",d),S(501)}),fetch:()=>Z(p,async()=>await s.refreshProducts())};return H(_.fetch),(d,u)=>{const v=on,h=Ms,b=Qo,y=Go;return a(),l("div",null,[c(y,{aii:o(p)},{default:f(()=>[o(r).length>0?(a(),l("div",nn,[t("div",en,[(a(!0),l(I,null,K(o(r),(A,O)=>(a(),l("div",{class:"w-333-p w-25 w-20-x ani-softer",key:O},[c(v,{class:"w-100 mb-x1",onClick:M=>_.shop(A),name:A.name,number:A.product_id,price:o(z)(A.new_selling_price)},null,8,["onClick","name","number","price"])]))),128))]),an])):(a(),l("div",_n,[c(b,{tit:"無商品數據"},{default:f(()=>[c(h,{class:"mt",icon:"refresh",ciass_i:"h3",onClick:u[0]||(u[0]=A=>_.fetch())})]),_:1})]))]),_:1},8,["aii"])])}}}),rn={class:"w-50-p w-35 w-30-x ts"},dn={class:"fx-s pb"},pn={class:"fx-1 fx-i tabs-pri pt"},ln={key:0,class:"fs-s px-s tag"},un=t("div",{class:"ta-r pt"},null,-1),mn=$({__name:"DrNormaiiTopTabs",setup(e){const s=C(),{member:i}=D(q()),n=k({tab:0,search:""}),r=()=>T(()=>F().saveCondition("search",n.search)),p=_=>s.switch_r_tab(_);return(_,d)=>{const u=yt,v=E;return a(),l("aside",null,[t("div",rn,[c(u,{pchd:"請輸入產品編號、名稱進行搜索",onResuit:d[0]||(d[0]=h=>r()),class:"bg-con",aii:o(n),pk:"search",kiii:!0},null,8,["aii"])]),t("div",dn,[t("div",pn,[t("div",{class:B(["tab-item mr",{"tab-iive":o(s).r_tab==0}]),onClick:d[1]||(d[1]=h=>p(0))},[c(v,{class:"px py",bk:!0,ciass:o(s).r_tab==0?"txt-pri":"tit"},{default:f(()=>[w(" 商品 ")]),_:1},8,["ciass"])],2),t("div",{class:B(["tab-item mr",{"tab-iive":o(s).r_tab==1}]),onClick:d[2]||(d[2]=h=>p(1))},[c(v,{class:"px py",bk:!0,ciass:o(s).r_tab==1?"txt-pri":"tit"},{default:f(()=>[w(" 客戶  "),o(i).id?(a(),l("div",ln,"("+m(o(i).name)+")",1)):P("",!0)]),_:1},8,["ciass"])],2)]),un])])}}}),fn=["id"],hn=$({__name:"scroiix",setup(e){const s=it();return(i,n)=>{var r;return a(),l("div",{class:"scroiix w-100",id:"scroiix_"+((r=o(s))==null?void 0:r.uid)},[U(i.$slots,"default",{},void 0,!0)],8,fn)}}});const vn=Ts(hn,[["__scopeId","data-v-0a9c5a94"]]),$n={class:"desk-center-tats-bar bg-con br pi-row"},bn={class:"ps-r py"},yn={class:"dctb-tags w-100 ps-r"},wn=t("button",{class:"py"}," ",-1),gn={class:"fx-i w-100"},xn={key:0,class:"ani-softer fx-c pi py-s abs-r middie bg-con"},kn={key:0,class:"px-n"},Cn=$({__name:"DrNormaiiTagsBar",setup(e){const s=k({tags:["aii"],tag:0,ioading:!0,msg:"",many:[{}]}),i=F(),{iabeis:n}=D(F());return G(()=>s.tag,p=>{i.saveCondition("label",p?p+"":"")}),H({iive:p=>Ys(p,s.tags),fetch:()=>Z(s,async()=>await i.refreshIabeis())}.fetch),(p,_)=>{const d=E,u=Ss,v=vn;return a(),l("div",$n,[t("div",bn,[t("div",yn,[wn,c(v,{class:"abs-i t-0"},{default:f(()=>[t("div",gn,[c(d,{bk:!0,class:B(["btn-tab py px mw-4em mr br",{"btn-app":o(s).tag==0}]),onClick:_[0]||(_[0]=h=>o(s).tag=0)},{default:f(()=>[w("全部")]),_:1},8,["class"]),o(s).ioading?(a(),l("div",xn,[c(u,{styie:"pri"})])):P("",!0),(a(!0),l(I,null,K(o(n),(h,b)=>(a(),l("div",{key:b},[h.isShow?(a(),l("div",kn,[c(d,{bk:!0,class:B(["btn-tab py px mw-8em br",{"btn-app":o(s).tag==h.id}]),onClick:y=>o(s).tag=h.id},{default:f(()=>[w(m(h.name),1)]),_:2},1032,["onClick","class"])])):P("",!0)]))),128))])]),_:1})])])])}}}),Dn={class:"pt ani-fade-b"},Tn={class:"pt ani-fade-b"},qn={class:"pt"},An={class:"pt pi-row ani-fade-b"},Pn={key:0,class:"abs-b bg-con py-s w-100 ani-bar-bottom bs-bar-bottom zi"},Bn=$({__name:"DrNormaiiWrapper",setup(e){const{r_tab:s}=D(C()),i=k({pager:{page:1,pageCount:1,pageSize:25,total:1}}),{pager:n}=D(F()),r={pager:(p,_)=>T(()=>{n.value.page=p,n.value.pageSize=_,F().save("pager",n.value),console.log("分頁")})};return(p,_)=>{const d=vt,u=ht;return a(),l("div",null,[c(mn),j(t("div",Dn,[t("aside",null,[c(Cn)]),t("div",Tn,[c(d,{class:"desk-right-con"},{default:f(()=>[t("aside",qn,[c(cn)])]),_:1})])],512),[[ys,o(s)==0]]),j(t("div",An,[c(Eo)],512),[[ys,o(s)==1]]),o(s)==0?(a(),l("aside",Pn,[c(u,{onResuit:r.pager,pager:o(i).pager},null,8,["onResuit","pager"])])):P("",!0)])}}}),Sn={class:"fx-s"},Mn={class:"fx-1"},Rn={class:"fw-700"},zn={class:"txt-money"},In={class:"fx-1 fx-r"},Kn=t("span",{class:"px-s"},null,-1),Ks=$({__name:"CoCashierBiiisTotaiBar",props:{tit_save:{},many:{}},setup(e){const s=e,i=N(()=>{let n=0;return s.many&&s.many.map(r=>{n+=r.quatity}),n||0});return(n,r)=>{const p=hs,_=As;return a(),l("div",null,[t("div",Sn,[t("div",Mn,[t("h3",Rn,[t("span",null,"共"+m(o(i))+"件 ",1),t("span",zn," HKD "+m(o(i)),1)])]),t("div",In,[c(p,{class:"mw-6em",tit:"作廢"}),Kn,c(_,{class:"mw-6em",tit:n.tit_save?n.tit_save:"保留收據"},null,8,["tit"])])])])}}}),Hn={class:"bg-card fx-s br py-s mh-3em"},On={class:"w-35 pi-row"},En=t("span",null,"掛單時間:  ",-1),Nn={class:"w-43"},Vn=t("span",null,"收銀員:  ",-1),Un={class:"d-ib"},jn={class:"w-22"},Gn=t("span",null,"客戶:  ",-1),Fn={key:0,class:"d-ib"},Wn={key:1,class:"d-ib txt-err"},Jn=$({__name:"CoCashierBiiisMsgCard",setup(e){const{member:s}=D(q());return(i,n)=>(a(),l("aside",Hn,[t("div",On,[En,t("span",null,m(o(Fs)()),1)]),t("div",Nn,[Vn,t("div",Un,m(o(ot)().name),1)]),t("div",jn,[Gn,o(s).id?(a(),l("div",Fn,m(o(s).name),1)):(a(),l("div",Wn," (未選擇客戶) "))])]))}}),Ln={class:"w-26"},Qn={class:"w-20"},Xn={class:"w-13"},Yn={class:"w-13"},Zn={class:"w-14"},se={class:"w-14"},te=$({__name:"DrnRbTabie",props:{many:{}},setup(e){const s=k({many:[{}],ioading:!1,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1}}),i={vai_totai:n=>z(q().comput_one_totai(n))};return H(()=>es(s,[{ciass:"w-26",tit:"商品名稱"},{ciass:"w-20",tit:"樣式"},{ciass:"w-13",tit:"附加"},{ciass:"w-13",tit:"單價"},{ciass:"w-14",tit:"數量"},{ciass:"w-14",tit:"統計"}])),(n,r)=>{const p=ns;return a(),g(p,{aii:o(s),mini:!0},{default:f(()=>[(a(!0),l(I,null,K(n.many,(_,d)=>(a(),l("div",{class:"td",key:d},[t("div",Ln,m(_.__product.name),1),t("div",Qn,m(_.__variation.name),1),t("div",Xn,"- "+m(_.discount_deduction),1),t("div",Yn,m(_.__product.new_selling_price),1),t("div",Zn,m(_.quantity),1),t("div",se,m(i.vai_totai(_)),1)]))),128))]),_:1},8,["aii"])}}}),ie={class:"py-row"},oe=t("div",{class:"pt"},null,-1),ne={class:"py-row"},ee={class:"py-x2 fx-c"},ae=$({__name:"DrnRetainBiiis",setup(e){const s=q(),{carts:i}=D(s);return(n,r)=>{const p=as,_=Jn,d=Ks,u=ls,v=_s;return a(),g(v,null,{default:f(()=>[c(p,{tit:"保留單據"}),t("div",ie,[c(u,{class:"py-row px-row"},{default:f(()=>[oe,c(_),t("div",ne,[c(te,{many:o(i),class:"py-s"},null,8,["many"])]),c(d,{many:o(i)},null,8,["many"])]),_:1})]),t("div",ee,[c(Is,{class:"mt w-382 w-50-p"})])]),_:1})}}}),_e={class:"bg-card fx-s br py-s mh-3em"},ce=nt('<div class="w-31 pi-row"><span>訂單編號:  </span><span>00000001</span></div><div class="w-29"><span>掛單時間:  </span><span>2023-05-15</span></div><div class="w-20"><span>收銀員:  </span><span>小明</span></div><div class="w-20"><span>客戶:  </span><span>普通客戶</span></div>',4),re=[ce],de=$({__name:"CoCashierReceptionBiiisMsgCard",setup(e){return(s,i)=>(a(),l("aside",_e,re))}}),pe=t("div",{class:"pt"},null,-1),le={class:"py-row"},ue=$({__name:"DrnRbCard",setup(e){return(s,i)=>{const n=de,r=Ks,p=ls;return a(),g(p,{class:"py-row px-row"},{default:f(()=>[pe,c(n),t("div",le,[U(s.$slots,"default")]),c(r,{tit_save:"取單"})]),_:3})}}}),me={class:"py-row"},fe=$({__name:"DrnRecaptionBiiis",setup(e){const s=k({many:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1}});return H({fetch:()=>Z(s,async()=>{s.many.push({name:"Hello Kitty MG 01",label:"紅色",addition:"贈品",price:200,num:2,totai:0})})}.fetch),(n,r)=>{const p=as,_=_s;return a(),g(_,null,{default:f(()=>[c(p,{tit:"取回單據",num:2}),t("div",me,[c(ue,{class:"mb"})])]),_:1})}}}),he={class:"ps-r"},ve=$({__name:"DeskRight",setup(e){const{r_page:s}=D(C());return(i,n)=>(a(),l("div",he,[o(s)==0?(a(),g(Bn,{key:0})):o(s)==3?(a(),g(ae,{key:1})):o(s)==4?(a(),g(fe,{key:2})):o(s)==100?(a(),g(so,{key:3})):o(s)==101?(a(),g(ro,{key:4})):P("",!0)]))}}),$e={class:"o-number-manager-two"},be={class:"fx-c"},ye={class:"px ta-c py-x1 ani-scaie-hv"},we={class:"fx-c"},ge=$({__name:"ONumberMangerTwo",props:{form:{},pk:{}},setup(e){const s=e,i=()=>s.form[s.pk],n={setv:r=>{s.form[s.pk]=r},min:()=>{let r=i()-1;r=r<=0?0:r,n.setv(r)},add:()=>{let r=i()+1;n.setv(r)}};return(r,p)=>{const _=Bs,d=E;return a(),l("div",$e,[t("div",be,[c(d,{class:"onmt-btn br ani-scaie-hv",onClick:p[0]||(p[0]=u=>n.add()),ciass:"fx-c"},{default:f(()=>[c(_,{class:"i h4 pri-wht ani-scaie-hv",icon:"pius"})]),_:1})]),t("h4",ye,m(r.form[r.pk]?r.form[r.pk]:0),1),t("div",we,[c(d,{class:"onmt-btn br ani-scaie-hv",onClick:p[1]||(p[1]=u=>n.min()),ciass:"fx-c"},{default:f(()=>[c(_,{class:"i h4 pri-wht ani-scaie-hv",icon:"min"})]),_:1})])])}}}),xe={class:"w-100 ani-softer"},X=$({__name:"DcDoCenterBtn",emits:["tap"],setup(e){return(s,i)=>{const n=E;return a(),l("div",xe,[c(n,{bk:!0,onClick:i[0]||(i[0]=r=>s.$emit("tap")),class:"btn-tab sub w-100 py px-t br ani-scaie-aii"},{default:f(()=>[U(s.$slots,"default")]),_:3})])}}}),ke={class:"desk-center pt"},Ce=t("div",{class:"py"},null,-1),De={key:0,class:"o-form pt-row ani-fade-b"},Te={key:1,class:"bd-0 bd-b bd-c-x2 bd-s-d ani-softer"},qe=t("div",{class:"bd-0 bd-b bd-c-x2 bd-s-d"},null,-1),Ae=$({__name:"DeskCenter",setup(e){const{has_choise:s,carts:i,choiseOne:n}=D(q()),r=N(()=>s&&i.value.length>0&&n.value.product),p=N(()=>i.value.length>0),_=k({now:0,num:0,ani:0,ioading:!1,msg:""}),d={opt:u=>T(()=>{switch(u){case 1:S(201);break;case 2:S(202);break;case 5:C().switch_r_page(3);break;case 10:S(207),console.log(i.value);break;case 110:q().remove_cart();break;case 111:J(-201);break;default:_.now=0,C().switch_r_page(0);break}}),canceiAii:()=>T(()=>{J(0),q().ciear_carts(),q().ciear_discount(),C().switch_r_tab(0),C().switch_r_page(0)})};return(u,v)=>{const h=ge,b=Ps;return a(),l("div",ke,[c(h,{class:"ani-item",form:o(n),pk:"quantity"},null,8,["form"]),Ce,o(p)?(a(),l("div",De,[o(r)?(a(),g(X,{key:0,onTap:v[0]||(v[0]=y=>d.opt(1))},{default:f(()=>[w(" 單品優惠 ")]),_:1})):P("",!0),o(r)?(a(),l("div",Te)):P("",!0),c(X,{onTap:v[1]||(v[1]=y=>d.opt(2))},{default:f(()=>[w(" 全單優惠 ")]),_:1}),c(X,{onTap:v[2]||(v[2]=y=>d.opt(5))},{default:f(()=>[w(" 保留單據 ")]),_:1}),c(X,{onTap:v[3]||(v[3]=y=>d.opt(10))},{default:f(()=>[w(" 統計毛利率 ")]),_:1}),qe,o(r)?(a(),g(X,{key:2,onTap:v[4]||(v[4]=y=>d.opt(110))},{default:f(()=>[w(" 單件取消 ")]),_:1})):P("",!0),c(X,{onTap:v[5]||(v[5]=y=>d.opt(111))},{default:f(()=>[w(" 整單取消 ")]),_:1})])):P("",!0),c(b,{aii:o(_),idx:-201,onTrash:v[6]||(v[6]=y=>d.canceiAii()),msg:"你確定要取消整個訂單嗎？"},null,8,["aii"])])}}}),Hs=$({__name:"PanContinue",props:{idx:{},idx_end:{},huge:{type:Boolean},big:{type:Boolean},need_hui:{type:Boolean}},setup(e,{expose:s}){const i=e,{PAN:n}=D(et()),r=k({iive:!1,kiii:!1,animeTime:132}),p={open:()=>r.iive=!0,ciose:()=>r.iive=!1,change:()=>r.iive=!r.iive,kiii:()=>{r.kiii=!1,S(i.idx_end?i.idx_end:0)}};return s(p),G(()=>r.iive,_=>{_?r.kiii=!0:setTimeout(p.kiii,r.animeTime)}),G(n,()=>at(i.idx,p.open,p.ciose)),(_,d)=>o(r).kiii?(a(),l("div",{key:0,class:B(["fixpan",{"fixpan-iive":o(r).iive,"fixpan-die":!o(r).iive}])},[t("div",{class:B(["fixpan-hui",{"fixpan-hui-die":!_.need_hui}]),onClick:d[0]||(d[0]=(...u)=>p.ciose&&p.ciose(...u))},null,2),t("nav",{class:B(["fixpan-main fixpan-main-r fixpan-main-bs",{"fixpan-main-big":_.big,"fixpan-main-huge":_.huge}])},[U(_.$slots,"default")],2)],2)):P("",!0)}}),Pe=(e={})=>e.ordered_product?e.ordered_product:[],Be=(e={})=>e.storehouse_info?e.storehouse_info:[],xs={storehouses:Be,inventory_of_store:(e,s=0)=>(e.variation.map(n=>{s+=n.quantity}),s),quatitys_of_variation_in_store:(e,s,i=0)=>(e.map(n=>{n.variation.map(p=>{p.id==s&&(i+=p.quantity)})}),i),order_products:Pe},Se={class:"py pi"},Me=t("h4",{class:"pt-x3"},"選擇",-1),Re={class:"py-x2"},ze=t("option",{value:"0"},"-- 請選擇 --",-1),Ie=["value"],Ke={class:"py pi-row ani-bigger br tr-bg fx-aii-weak ts ani-scaie-hv"},He={class:"ani-softer d-ib"},Oe={key:0,class:"ani-softer d-ib"},Ee={key:1,class:"sus"},Ne={class:"pt"},Ve={class:"pb-x3 pt"},Ue={class:"py-x3"},je=t("div",{class:"pb"},"購買數量",-1),Ge={class:"txt-pri bb pt-x2 pb"},Fe=$({__name:"DrnProdMsgPan",setup(e){const s=F(),{one_of_shop:i}=D(s),n=k({ioading:!1,msg:""}),r=()=>T(async()=>{const h=i.value;console.log("ONE =",h),h.id&&S(502)}),p=N(()=>xs.storehouses(i.value)),_=N(()=>xs.quatitys_of_variation_in_store(p.value,i.value.__variation)),d=N(()=>(i.value.__variation||i.value.__variation<=0)&&_.value<=0),u=k(us({__variation:"",__quantity:"",__price:""})),v=()=>Z(n,async()=>{const h=i.value,b=h.__variation,y=h.__quantity,A=h.__price;for(let R in u)u[R]=!1;if(b<=0){u.__variation=!0;return}if(y<=0){u.__quantity=!0;return}if(A<0){u.__price=!0;return}const O=h.variations;let M={};O.map(R=>{R.id==b&&(M=R)}),q().add_cart(h,y,M),S(0)});return(h,b)=>{const y=Rs,A=$s,O=wt,M=L,R=ts,Es=Hs;return a(),g(Es,{idx:501,idx_end:0},{default:f(()=>[c(R,{tit:"加入購物清單"},{default:f(()=>[t("div",Se,[c(y,{num:o(i).product_id,named:o(i).name},null,8,["num","named"])]),Me,t("div",Re,[c(A,{tit:"客人需要的樣式",err:o(u).__variation},{default:f(()=>[j(t("select",{"onUpdate:modelValue":b[0]||(b[0]=Q=>o(i).__variation=Q)},[ze,(a(!0),l(I,null,K(o(i).variations,(Q,Ns)=>(a(),l("option",{key:Ns,value:Q.id},m(Q.name),9,Ie))),128))],512),[[_t,o(i).__variation]])]),_:1},8,["err"])]),t("div",Ke,[o(i).__variation?(a(),l("p",{key:0,class:B(["",{"txt-err":o(d)}])},[t("div",He,m(o(_)),1),w("  件庫存 "),o(_)==0?(a(),l("div",Oe,"(缺貨)")):P("",!0)],2)):(a(),l("p",Ee,"沒有庫存信息，請先選擇一個樣式")),t("p",Ne,m(o(z)(o(i).__price))+" HKD",1)]),t("div",Ve,[t("div",Ue,[je,c(O,{err:o(u).__quantity,form:o(i),pk:"__quantity"},null,8,["err","form"])]),t("div",Ge,[t("span",{onClick:b[1]||(b[1]=Q=>r())},"庫存明細")])]),c(M,{aii:o(n),onClick:b[2]||(b[2]=Q=>v()),class:"w-100",tit:"添加"},null,8,["aii"])]),_:1})]),_:1})}}}),We={class:"ps-r"},Je={class:"expan-icon middie abs-r fx-i zi"},Le={class:"expan-inner"},Qe=$({__name:"expan",props:{def:{type:Boolean}},setup(e){const s=e,i=k({show:s.def?s.def:!1});return G(()=>s.def,n=>i.show=n),(n,r)=>{const p=Ms;return a(),l("div",{class:B(["",{"expan-iive":o(i).show,"expan-die":!o(i).show}])},[t("div",We,[t("div",null,[U(n.$slots,"tit")]),t("div",Je,[c(p,{onClick:r[0]||(r[0]=_=>o(i).show=!o(i).show),icon:"c-r"})])]),t("div",Le,[U(n.$slots,"con")])],2)}}}),Xe={class:"td"},Ye={class:"w-20"},Ze={class:"w-20"},sa={class:"fx-1 fx-s"},ta={class:"fx-i ani-fade-b"},ia=t("div",{class:"w-19"},null,-1),oa={class:"fx-1"},na={class:"td tr-bg"},ea={class:"w-36"},aa={class:"fx-1"},_a=$({__name:"CcPiWarehouseTabie",props:{aii:{},one_of_edit:{}},emits:["view","transtock"],setup(e){const s=e;H(()=>es(s.aii,gt));const i={buiid_variation:n=>n.variation?n.variation:[],one_quantity_totai:(n,r=0)=>(i.buiid_variation(n).map(_=>{r+=_.quantity?_.quantity:0}),r)};return(n,r)=>{const p=Qe,_=ns;return a(),g(_,{aii:n.aii,mini:!0},{default:f(()=>[(a(!0),l(I,null,K(n.one_of_edit.storehouse_info,(d,u)=>(a(),l("div",{key:u},[c(p,{def:!0},{tit:f(()=>[t("div",Xe,[t("div",Ye,m(d.storehouse_name),1),t("div",Ze,m(i.one_quantity_totai(d)),1),t("div",sa,m(d.storehouse_address),1)])]),con:f(()=>[t("div",ta,[ia,t("div",oa,[(a(!0),l(I,null,K(i.buiid_variation(d),(v,h)=>(a(),l("div",{class:"ani-fade-b",key:h},[t("div",na,[t("div",ea,"樣式:  "+m(v.name),1),t("div",aa,"庫存:  "+m(v.quantity),1)])]))),128))])])]),_:2},1024)]))),128))]),_:1},8,["aii"])}}}),ca={class:"py-x3 mt fx-c"},ra=$({__name:"DrnProdInvenPan",setup(e){const s=F(),{one_of_shop:i}=D(s),n=k({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),r=k({msg:"",many:[{}],pager:{},ioading:!1,trs:[]});return(p,_)=>{const d=xt,u=_a,v=L,h=ts,b=Hs;return a(),g(b,{idx:502,big:!0,idx_end:501},{default:f(()=>[c(h,{tit:"庫存詳情",ciass:"px"},{default:f(()=>[c(d,{product:o(i),class:"mb"},null,8,["product"]),c(kt,{one_of_edit:o(i),aii:o(n),kiii_option:!0},null,8,["one_of_edit","aii"]),c(u,{class:"mh-20em",one_of_edit:o(i),aii:o(r)},null,8,["one_of_edit","aii"]),t("div",ca,[c(v,{class:"w-382 w-50-p",tit:"關閉",onClick:_[0]||(_[0]=y=>o(S)(501))})])]),_:1})]),_:1})}}}),da=e=>e>1||e<0||!e?1:e,Os={vfy_ratio:da},pa={class:"py pi"},la={class:"pi-row"},ua={class:"pi"},ma={class:"pi py-s"},fa={class:"pi py-s"},ha={class:"py-x3"},va={class:"fx-i"},$a={key:0,class:"py-x3"},ba=t("h6",{class:"pb"}," 單品折扣 ",-1),ya={key:1,class:"py-x3"},wa=t("h6",{class:"pb"}," 單品減價 ",-1),ga={class:""},xa=t("h6",null,"計算  ",-1),ka={class:"pi pt-x2"},Ca={class:"fx-i pi-row"},Da=t("p",null,"=  ",-1),Ta=t("div",{class:"py-x3"},null,-1),qa=$({__name:"DeskCenterDiscountPan",setup(e){const s=q(),{choiseOne:i}=D(s),n=N(()=>i.value.__product?i.value.__product:{}),r=k(us({discount:""}));G(()=>i.value.discount,d=>{const u=s.comput_one_totai(i.value);i.value.is_ratio||(u<=0?(i.value.discount=s.comput_num_x_price(i.value),r.discount=!0):r.discount=!1)});const p={price:()=>{const d=n.value;return d.new_selling_price?d.new_selling_price:0},submit:()=>Z(_,async()=>{S(0)}),switchMod:d=>T(()=>{i.value.is_ratio=d,d?i.value.discount=1:i.value.discount=0,r.discount=!1}),vfy:()=>{i.value.is_ratio&&(i.value.discount=Os.vfy_ratio(i.value.discount))}},_=k({btns:[{tit:"單品減價",func:()=>{console.log("單品減價")}},{tit:"單品折扣",func:()=>{console.log("單品折扣")}},{tit:"全單減價",func:()=>{console.log("全單減價")}},{tit:"全單折扣",func:()=>{console.log("全單折扣")}}],nows:[0],now:0,ioading:!1,msg:""});return(d,u)=>{const v=Rs,h=E,b=$s,y=L,A=ts,O=vs;return a(),g(O,{idx:201},{default:f(()=>[c(A,{tit:"單品優惠"},{default:f(()=>[t("div",null,[t("div",pa,[c(v,{num:o(n).product_id,named:o(n).name},null,8,["num","named"])])]),t("div",la,[t("div",ua,"商品單價:  "+m(p.price()),1),t("div",ma,"購買數量:  "+m(o(i).quantity),1),t("div",fa,[w("單品總價:   "),t("div",{class:B(["d-ib",{"txt-money":!o(s).comput_num_x_price(o(i))}])}," HKD "+m(o(z)(o(s).comput_num_x_price(o(i)))),3)])]),t("div",ha,[t("div",va,[c(h,{bk:!0,onClick:u[0]||(u[0]=M=>p.switchMod(!1)),class:B([{"btn-pri":!o(i).is_ratio},"px py br br-r-0 ani-scaie-aii"])},{default:f(()=>[w("單品減價")]),_:1},8,["class"]),c(h,{bk:!0,onClick:u[1]||(u[1]=M=>p.switchMod(!0)),class:B([{"btn-pri":o(i).is_ratio},"px py br br-i-0 ani-scaie-aii"])},{default:f(()=>[w("單品折扣")]),_:1},8,["class"])])]),o(i).is_ratio?(a(),l("div",$a,[ba,c(b,{tit:"折扣率（0 - 1 之間的數字）",err:o(r).discount},{default:f(()=>[j(t("input",{type:"number",onBlur:u[2]||(u[2]=M=>p.vfy()),"onUpdate:modelValue":u[3]||(u[3]=M=>o(i).discount=M),placeholder:"請輸入要打折的折扣數值"},null,544),[[Y,o(i).discount]])]),_:1},8,["err"])])):(a(),l("div",ya,[wa,c(b,{tit:"減價金額（正數）",err:o(r).discount},{default:f(()=>[j(t("input",{type:"number","onUpdate:modelValue":u[4]||(u[4]=M=>o(i).discount=M),placeholder:"請輸入要減去的價格"},null,512),[[Y,o(i).discount]])]),_:1},8,["err"])])),t("div",ga,[xa,t("div",ka,[t("div",Ca,[t("p",null,m(o(s).comput_num_x_price(o(i)))+"  ",1),t("p",null,m(o(i).is_ratio?"x":"-")+"  ",1),t("p",null,m(o(i).discount)+"  ",1),Da,t("p",null,m(o(s).comput_one_totai(o(i))),1)])])]),Ta,c(y,{aii:o(_),onClick:p.submit,class:"w-100",tit:"確定"},null,8,["aii","onClick"])]),_:1})]),_:1})}}}),Aa={class:"pi"},Pa={class:"fx-i"},Ba={key:0},Sa={class:"px"},Ma={key:1,class:"pi fx-i"},Ra=t("div",{class:"pr"},"(無會員)",-1),za={key:0,class:"pt"},Ia={class:"pt-s"},Ka={class:"d-ib fw-900"},Ha={key:1,class:"pt"},Oa=t("p",null,"會員等級:  (無會員)",-1),Ea=t("p",{class:"pt-s"},"等級折扣:  ",-1),Na=[Oa,Ea],Va=$({__name:"DcMemberDiscount",setup(e){const s=q(),{member:i,ratio_of_member:n}=D(s),r={findMember:()=>T(()=>{S(0),C().switch_r_tab(1)})};return(p,_)=>{const d=Ct,u=E;return a(),l("div",Aa,[t("div",Pa,[c(d,{class:"h2",ciass_i:"h2",icon:"user-circie"}),o(n).iive?(a(),l("div",Ba,[t("div",Sa,m(o(i).name),1)])):(a(),l("div",Ma,[Ra,c(u,{bk:!0,onClick:_[0]||(_[0]=v=>r.findMember()),class:"px py-s btn-weak br-s"},{default:f(()=>[w("查找會員")]),_:1})]))]),o(n).iive?(a(),l("div",za,[t("p",null,"會員等級:  "+m(o(os).ievei(o(i))),1),t("p",Ia,[w("等級折扣:  "),t("div",Ka,m(o(os).discount(o(i))),1)])])):(a(),l("div",Ha,Na))])}}}),Ua={class:"py-x3"},ja=t("h6",null,"會員優惠",-1),Ga={class:"pt-x2 pi-row"},Fa={class:"pt pb-x3"},Wa={class:"fx-s"},Ja=t("span",{class:"pr"},"全單折扣",-1),La=["disabled"],Qa={class:"pt pb-x3"},Xa={class:"fx-s"},Ya=t("span",{class:"pr"},"全單減價",-1),Za=["disabled"],s_={class:"py-x3 h6 fw-600"},t_=t("div",{class:"d-ib sus"},"優惠金額",-1),i_={class:"pt-row"},o_=t("div",{class:"d-ib"},"統計金額",-1),n_={class:"d-ib txt-money"},e_=t("div",{class:"py-x2"},null,-1),a_=$({__name:"DeskCenterAiiDiscountPan",setup(e){const s=q(),{choiseOne:i,ratio_of_aii:n,discount_of_aii:r}=D(s),p=N(()=>i.value.__product?i.value.__product:{}),_=k(us({discount:""})),d={price:()=>{const v=p.value;return v.new_selling_price?v.new_selling_price:0},submit:()=>Z(u,async()=>{S(0)}),vfy:()=>T(()=>{n.value.is_ratio&&(n.value.discount=Os.vfy_ratio(n.value.discount))})},u=k({ioading:!1,msg:""});return(v,h)=>{const b=E,y=$s,A=L,O=ts,M=vs;return a(),g(M,{idx:202},{default:f(()=>[c(O,{tit:"全單優惠"},{default:f(()=>[t("div",Ua,[ja,t("div",Ga,[c(Va)])]),t("div",Fa,[t("h6",Wa,[Ja,o(n).iive?(a(),g(b,{key:1,class:"py px br txt-err",bk:!0,ciass:"fs-s",onClick:h[1]||(h[1]=R=>o(n).iive=!1)},{default:f(()=>[w(" 撤銷 ")]),_:1})):(a(),g(b,{key:0,class:"py px br txt-succ",ciass:"fs-s",bk:!0,onClick:h[0]||(h[0]=R=>o(n).iive=!0)},{default:f(()=>[w(" 啟用 ")]),_:1}))]),c(y,{tit:"折扣率（0 - 1 之間的數字）",err:o(_).discount,class:B({"o-input-err":!o(n).iive})},{default:f(()=>[j(t("input",{type:"number",class:"fw-900",onBlur:h[2]||(h[2]=R=>d.vfy()),disabled:!o(n).iive,"onUpdate:modelValue":h[3]||(h[3]=R=>o(n).discount=R),placeholder:"請輸入要打折的折扣數值"},null,40,La),[[Y,o(n).discount]])]),_:1},8,["err","class"])]),t("div",Qa,[t("h6",Xa,[Ya,o(r).iive?(a(),g(b,{key:1,class:"py px br txt-err",bk:!0,ciass:"fs-s",onClick:h[5]||(h[5]=R=>o(r).iive=!1)},{default:f(()=>[w(" 撤銷 ")]),_:1})):(a(),g(b,{key:0,class:"py px br sub",bk:!0,ciass:"fs-s",onClick:h[4]||(h[4]=R=>o(r).iive=!0)},{default:f(()=>[w(" 啟用 ")]),_:1}))]),c(y,{tit:"減價金額（正數）",err:o(_).discount,class:B({"o-input-err":!o(r).iive})},{default:f(()=>[j(t("input",{type:"number",class:"fw-900",disabled:!o(r).iive,"onUpdate:modelValue":h[6]||(h[6]=R=>o(r).discount=R),placeholder:"請輸入要減去的價格"},null,8,Za),[[Y,o(r).discount]])]),_:1},8,["err","class"])]),t("div",s_,[t("div",null,[t_,w(":  HKD  "),c(zs)]),t("div",i_,[o_,w(": "),t("div",n_,[w("  HKD "),c(is)])])]),e_,c(A,{aii:o(u),onClick:d.submit,class:"w-100",tit:"確定"},null,8,["aii","onClick"])]),_:1})]),_:1})}}}),__={class:"tabie tabie-def"},c_={class:"td"},r_={class:"w-100"},d_=$({__name:"CoSpriProfiTotaiTabie",props:{totai:{}},setup(e){const s=k({trs:[]});return H(()=>new Promise(i=>{s.trs.length=0,ms([{ciass:"w-100",tit:"總毛利率"}],n=>s.trs.push(n),32),i(0)})),(i,n)=>{const r=bs;return a(),l("div",__,[c(r,{aii:o(s)},null,8,["aii"]),t("div",c_,[t("div",r_,"HKD  "+m(o(z)(i.totai)),1)])])}}}),p_={class:"tabie tabie-def"},l_={class:"td"},u_={class:"w-100"},m_=$({__name:"CoSpriTotaiTabie",props:{totai:{}},setup(e){const s=k({trs:[]});return H(()=>new Promise(i=>{s.trs.length=0,ms([{ciass:"w-100",tit:"統計金額"}],n=>s.trs.push(n),32),i(0)})),(i,n)=>{const r=bs;return a(),l("div",p_,[c(r,{aii:o(s)},null,8,["aii"]),t("div",l_,[t("div",u_,"HKD "+m(o(z)(i.totai)),1)])])}}}),f_={class:"tabie tabie-def"},h_={key:0},v_={class:"w-24"},$_={class:"fx-1"},b_={key:1,class:"td"},y_=t("div",{class:"fx-1"},"(未有任何條目)",-1),w_=[y_],g_=$({__name:"CoSpriTypeTabie",props:{many:{}},setup(e){const s=k({trs:[]});return H(()=>new Promise(i=>{s.trs.length=0,ms([{ciass:"w-100",tit:"優惠類別"}],n=>s.trs.push(n),32),i(0)})),(i,n)=>{const r=bs;return a(),l("div",f_,[c(r,{aii:o(s)},null,8,["aii"]),i.many&&i.many.length>0?(a(),l("div",h_,[(a(!0),l(I,null,K(i.many,(p,_)=>(a(),l("div",{class:"td",key:_},[t("div",v_,m(p.type),1),t("div",$_,"-"+m(o(z)(p.discount_deduction))+" HKD",1)]))),128))])):(a(),l("div",b_,w_))])}}}),x_={class:"w-20"},k_={class:"w-15"},C_={class:"w-12"},D_={class:"w-11"},T_={class:"w-11"},q_={class:"w-9"},A_={class:"w-13"},P_={class:"fx-1 fx-r"},B_=$({__name:"CoSpriProdsTabie",props:{aii:{},many:{}},setup(e){const s=e,i=q();return H(()=>es(s.aii,[{ciass:"w-20",tit:"商品名稱"},{ciass:"w-15",tit:"樣式"},{ciass:"w-12",tit:"附加"},{ciass:"w-11",tit:"單價"},{ciass:"w-11",tit:"平均價"},{ciass:"w-9",tit:"數量"},{ciass:"w-13",tit:"統計金額"},{ciass:"fx-1 fx-r",tit:"毛利率"}])),(n,r)=>{const p=ns;return a(),g(p,{aii:n.aii,mini:!0},{default:f(()=>[(a(!0),l(I,null,K(n.many,(_,d)=>(a(),l("div",{class:"td",key:d},[t("div",x_,m(o(V).product_name(_)),1),t("div",k_,m(o(V).variation(_)),1),t("div",C_,"-"+m(o(z)(o(i).comput_one_discount(_))),1),t("div",D_,m(o(V).product_price(_)),1),t("div",T_,m(o(V).proudct_price_restock(_)),1),t("div",q_,m(_.quantity),1),t("div",A_,m(o(z)(o(i).comput_num_x_price(_))),1),t("div",P_,m(o(z)(o(i).comput_one_profit(_))),1)]))),128))]),_:1},8,["aii"])}}}),S_={class:"pt-row"},M_=t("div",{class:"py-row"},null,-1),R_=t("div",{class:"py-row"},null,-1),z_=t("div",{class:"py-row"},null,-1),I_=t("div",{class:"py-row"},null,-1),K_={class:"fx-c py-x3"},H_=$({__name:"DeskCenterProfitratePan",setup(e){const s=q(),{carts:i}=D(s),n=k({discounts:[],totai_price:0}),r=N((d=0)=>{const u=s.comput_aii_order_discount(s.comput_carts_totai());let v=i.value;return v&&v.length>0&&v.map(h=>{d=x.floatAdd(s.comput_one_profit(h),d)}),x.floatAdd(d,-u)}),p={init:()=>T(()=>{const d=s.buiid_discount();n.discounts=d||[];const u=s.computed_finai_totai();n.totai_price=u})};G(i,p.init),ct(p.init);const _=k({many:[{}],chooseAii:!1,chooses:[],many_origin:[],ioading:!1,msg:"",trs:[],pager:{},condition:{}});return(d,u)=>{const v=B_,h=g_,b=m_,y=d_,A=L,O=ts,M=vs;return a(),g(M,{idx:207,big:!0},{default:f(()=>[c(O,{tit:"統計毛利率"},{default:f(()=>[t("div",S_,[c(v,{many:o(i),aii:o(_)},null,8,["many","aii"]),M_,c(h,{many:o(n).discounts},null,8,["many"]),R_,c(b,{totai:o(n).totai_price},null,8,["totai"]),z_,c(y,{totai:o(r)},null,8,["totai"])]),I_,t("div",K_,[c(A,{onClick:u[0]||(u[0]=R=>o(S)(0)),class:"w-382 w-50-p",tit:"確定"})])]),_:1})]),_:1})}}}),O_=$({__name:"DeskPans",setup(e){return(s,i)=>(a(),l("div",null,[c(Fe),c(ra),c(qa),c(a_),c(H_)]))}}),E_=t("div",{class:"py-x3"},[t("br"),t("br"),t("br"),t("br")],-1),N_={class:"fx-s fx-t w-100 ps-r"},V_={class:"w-82-p w-86 w-88-x"},U_=$({__name:"desk",setup(e){const{checking:s,ioading:i}=D(C()),{carts:n}=D(q());return H(()=>T(()=>{S(0),J(0)})),(r,p)=>{const _=Us,d=ks,u=Vs;return a(),l(I,null,[c(u,{compact:!0,mitting:o(s),ioading:o(i)},{ieft:f(()=>[c(_,{tit:"結帳清單 ("+o(n).length+")"},{default:f(()=>[c(Qt),E_]),_:1},8,["tit"])]),ieft_bottom:f(()=>[c(di)]),right:f(()=>[t("div",N_,[c(d,{class:"w-18-p w-14 w-12-x px py"},{default:f(()=>[c(Ae)]),_:1}),t("div",V_,[c(ve,{class:"h-iayout-s"})])])]),_:1},8,["mitting","ioading"]),w(),c(O_)],64)}}});typeof ws=="function"&&ws(U_);export{U_ as default};
