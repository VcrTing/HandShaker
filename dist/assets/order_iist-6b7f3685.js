import{_ as z,a as F,b as N}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-d81f9a16.js";import{_ as V}from"./OPager.vue_vue_type_script_setup_true_lang-564f6fa3.js";import{_ as A}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-4266d791.js";import{_ as D}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-09051a31.js";import{_ as E}from"./OIoadCir.vue_vue_type_script_setup_true_lang-200c52e2.js";import{v as y}from"./vai_order-fc900240.js";import{d as C,g as R,n as B,o as f,y as b,w as g,c as x,C as L,F as M,D as P,a as e,t as u,i as t,e as Q,b as n,S as U,k as m,ae as v,af as k,ag as S,f as j,A as d,M as q,U as G,s as H,h as J,Q as K}from"./index-5586e4a0.js";import{v as W,m as X}from"./view-16891a7b.js";import{p as O,s as Y}from"./pageOrderPina-3a8f1c01.js";import{_ as Z,a as ii}from"./OrderIistPanDetaii.vue_vue_type_script_setup_true_lang-ee8a4b0e.js";import{_ as ti}from"./OSearch.vue_vue_type_script_setup_true_lang-856b0416.js";import{_ as si}from"./OSeiect.vue_vue_type_script_setup_true_lang-b0074a3b.js";import{b as I}from"./route-block-83d24a4e.js";import"./MBtn.vue_vue_type_script_setup_true_lang-f6bc6810.js";import"./Oi.vue_vue_type_script_setup_true_lang-727c28f2.js";import"./ChevronRightIcon-34e0f660.js";import"./XMarkIcon-82ec217a.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-08b49cd4.js";import"./datepicker.esm-c6ede0db.js";import"./OiX2.vue_vue_type_script_setup_true_lang-18832c6e.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-2e0769a3.js";import"./OTr.vue_vue_type_script_setup_true_lang-1c259130.js";import"./fioat-e27af979.js";import"./Pan.vue_vue_type_script_setup_true_lang-e7edf1df.js";import"./OBtnSave.vue_vue_type_script_setup_true_lang-6cefa92d.js";import"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-5a311d45.js";import"./BtnTab.vue_vue_type_script_setup_true_lang-941c824e.js";import"./OTrPure.vue_vue_type_script_setup_true_lang-ef6d2b8b.js";import"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-75a4ce2f.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-a0233096.js";import"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-072905a0.js";const ai={class:"w-25 fx-i"},ei={class:"hand"},oi={class:"w-22"},ri={class:"w-16"},ni={class:"w-16"},_i={class:"fx-1 fx-s"},ci={class:"fx-1"},mi={class:"ta-r"},pi=C({__name:"OrderIistTabie",props:{aii:{}},setup(h){const o=h,i=R({ioading:!1,iiveId:-1}),r={view:async s=>{i.ioading||(i.ioading=!0,i.iiveId=s,await O().fetchOne(s),U(101),setTimeout(()=>i.ioading=!1,400))}};return B(()=>P(o.aii,[{ciass:"w-25",tit:"訂單編號",sort_up:()=>m(()=>v(o.aii.many,"order_id",!0)),sort_down:()=>m(()=>v(o.aii.many,"order_id")),sort_reset:()=>k(o.aii)},{ciass:"w-22",tit:"下單時間",sort_up:()=>m(()=>S(o.aii.many,"order_date",!0)),sort_down:()=>m(()=>S(o.aii.many,"order_date")),sort_reset:()=>k(o.aii)},{ciass:"w-16",tit:"客戶"},{ciass:"w-16",tit:"總計金額",sort_up:()=>m(()=>v(o.aii.many,"total_price",!0)),sort_down:()=>m(()=>v(o.aii.many,"total_price")),sort_reset:()=>k(o.aii)},{ciass:"fx-1",tit:"狀態",sort:!1}])),(s,_)=>{const a=E,p=D,w=A;return f(),b(w,{aii:s.aii},{default:g(()=>[(f(!0),x(M,null,L(s.aii.many,(c,$)=>(f(),x("div",{class:"td",key:$},[e("div",ai,[e("span",ei,u(c.order_id),1),t(i).ioading&&c.id==t(i).iiveId?(f(),b(a,{key:0,class:"mi"})):Q("",!0)]),e("div",oi,u(t(W)(c.order_date)),1),e("div",ri,u(t(y).member(c)),1),e("div",ni,u(t(X)(c.total_price)),1),e("div",_i,[e("div",ci,[e("span",null,u(t(y).status(c)),1)]),e("div",mi,[n(p,{id:c.id,func:r.view,tit:"詳情"},null,8,["id","func"])])])]))),128))]),_:1},8,["aii"])}}}),di={class:"fx-s"},fi={class:"fx-1 row fx-i"},li=C({__name:"OrderIistFiiter",props:{aii:{}},emits:["search"],setup(h,{emit:o}){const i=h,r={search:()=>i.aii.ioading?void 0:o("search"),reset:()=>m(()=>{q({},i.aii.condition),r.search()})},s=j(0);return B(()=>G(8,()=>s.value+=1,32)),(_,a)=>{const p=si,w=z,c=ti,$=Z,T=F;return f(),x("div",di,[e("div",fi,[e("div",{class:d(["w-20 op-0",{"ani-fiiter":t(s)>=1}])},[n(p,{class:"input w-100 ip-fiiter fix-seiect",onChange:a[0]||(a[0]=l=>r.search()),form:_.aii.condition,pk:"time_period",many:t(y).seiect_time_period_fiiter},null,8,["form","many"])],2),e("div",{class:d(["w-20 op-0",{"ani-fiiter":t(s)>=2}])},[n(p,{class:"input w-100 ip-fiiter fix-seiect",onChange:a[1]||(a[1]=l=>r.search()),form:_.aii.condition,pk:"status",many:t(y).seiect_status_fiiter},null,8,["form","many"])],2),e("div",{class:d(["w-24 op-0",{"ani-fiiter":t(s)>=3}])},[n(w,{class:"input ip-fiiter",onResuit:a[2]||(a[2]=l=>r.search()),form:_.aii.condition,pk:"date"},null,8,["form"])],2),n(c,{onResuit:a[3]||(a[3]=l=>r.search()),class:d(["fx-1 ip-fiiter op-0",{"ani-fiiter":t(s)>=4}]),aii:_.aii.condition,pk:"order_id",pchd:"請輸入訂單編號"},null,8,["class","aii"])]),e("div",{class:d(["pi op-0",{"ani-fiiter":t(s)>=5}])},[n($,{onClick:a[4]||(a[4]=l=>r.reset())})],2),e("div",{class:d(["pi op-0",{"ani-fiiter":t(s)>=6}])},[n(T,{onClick:a[5]||(a[5]=l=>r.search()),aii:_.aii},null,8,["aii"])],2)])}}}),ui=C({__name:"order_iist",setup(h){const{refresh:o}=H(O()),i=R({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{time_period:"",date:"",status:"",search:"",member:"",order_id:""}}),r={fetch:()=>K(i,async()=>Y(i.condition,i.pager)),pager:(s,_)=>m(()=>{i.pager.page=s,i.pager.pageSize=_,r.fetch()})};return J(o,()=>r.fetch()),(s,_)=>{const a=V,p=N;return f(),b(p,{tit:"訂單列表",tit_pius:"添加訂單"},{fiiter:g(()=>[n(li,{aii:t(i),onSearch:r.fetch},null,8,["aii","onSearch"])]),con:g(()=>[n(pi,{aii:t(i)},null,8,["aii"])]),pager:g(()=>[n(a,{pager:t(i).pager,onResuit:r.pager},null,8,["pager","onResuit"])]),extra:g(()=>[n(ii,{idx:101})]),_:1})}}});typeof I=="function"&&I(ui);export{ui as default};
