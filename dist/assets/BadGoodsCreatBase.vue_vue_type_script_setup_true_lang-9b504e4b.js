import{_ as U}from"./CoProduChoiseMod.vue_vue_type_script_setup_true_lang-29376f2b.js";import{_ as b}from"./CoWarehouseSeiect.vue_vue_type_script_setup_true_lang-a042ce26.js";import{_ as F}from"./OTime.vue_vue_type_script_setup_true_lang-b69a1446.js";import{_ as G}from"./OInput.vue_vue_type_script_setup_true_lang-6e613b51.js";import{_ as P}from"./OInputI.vue_vue_type_script_setup_true_lang-79468c90.js";import{d as S,g as T,a6 as j,s as E,h as n,N as y,o as _,c as p,a as d,b as s,w as m,ap as H,i as a,$,G as f,H as w,y as L,a7 as O,F as R,D as z,t as A,e as I,a2 as J,P as K,ae as l}from"./index-5bac116f.js";import{c as Q}from"./choiseOnePina-9a1f3e8a.js";const W={class:"o-form"},X=["value"],Y=d("option",{value:0},"-- 請選擇 --",-1),Z=["value"],se=S({__name:"BadGoodsCreatBase",props:{form:{},aii:{}},setup(q){const o=q,B=["product_id","variation","quantity","storehouse_id","date","remarks"],i=T(j(o.form)),{product_id:c,storehouse_id:v,product_of_choise:h}=E(Q());n(c,e=>o.form.product_id=e),n(v,e=>{o.form.storehouse_id=e});const C=y(()=>{const e=h.value;return e.id?`[${e.product_id}]  ${e.name}`:""}),V=y(()=>{let e=h.value.variations;return J(e)?e:K.iist(e)});return n(()=>o.aii.sign,()=>{o.form.storehouse_id=v.value,B.map(e=>{if(l(i,e,o.form[e],o.aii)){o.aii.can=!1;return}}),o.aii.can=!0}),n(()=>o.form.variation,e=>l(i,"variation",e,o.aii)),n(()=>o.form.quantity,e=>l(i,"quantity",e,o.aii)),n(()=>o.form.date,e=>l(i,"date",e,o.aii)),(e,t)=>{const k=P,u=G,g=F,N=b,D=U;return _(),p("div",null,[d("div",W,[s(k,{tit:"壞貨產品",err:a(i).product_id,icon:"product",onClick:t[1]||(t[1]=r=>a($)(1e3))},{default:m(()=>[d("input",{onClick:t[0]||(t[0]=H(r=>a($)(1e3),["stop"])),value:a(C),placeholder:"請點擊後打開選擇框"},null,8,X)]),_:1},8,["err"]),s(u,{tit:"數量",err:a(i).quantity},{default:m(()=>[f(d("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>e.form.quantity=r),placeholder:"請輸入"},null,512),[[w,e.form.quantity]])]),_:1},8,["err"]),a(c)?(_(),L(u,{key:0,tit:"樣式",err:a(i).variation},{default:m(()=>[f(d("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.form.variation=r)},[Y,(_(!0),p(R,null,z(a(V),(r,M)=>(_(),p("option",{key:M,value:r.id},A(r.name),9,Z))),128))],512),[[O,e.form.variation]])]),_:1},8,["err"])):I("",!0),s(k,{tit:"日期",err:a(i).date,icon:"date"},{default:m(()=>[s(g,{form:e.form,pk:"date"},null,8,["form"])]),_:1},8,["err"]),s(u,{tit:"壞貨位置",err:a(i).storehouse_id},{default:m(()=>[s(N)]),_:1},8,["err"]),s(u,{tit:"備註",err:!1},{default:m(()=>[f(d("textarea",{rows:"3","onUpdate:modelValue":t[4]||(t[4]=r=>e.form.remarks=r),placeholder:"請輸入"},null,512),[[w,e.form.remarks]])]),_:1})]),s(D)])}}});export{se as _};
