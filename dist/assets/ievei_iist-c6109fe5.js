import{_ as x}from"./IayoutIist.vue_vue_type_script_setup_true_lang-9d7495ba.js";import{_ as T}from"./OModTrash.vue_vue_type_script_setup_true_lang-324df294.js";import{_ as B}from"./OPager.vue_vue_type_script_setup_true_lang-edbf4f71.js";import{_ as S}from"./OSearch.vue_vue_type_script_setup_true_lang-73db3c26.js";import{_ as E}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-925d65f0.js";import{_ as I}from"./OTabieTrash-be0488a1.js";import{_ as N}from"./OTabieEdit.vue_vue_type_script_setup_true_lang-90ca14d3.js";import{f as u,i as P,b as z,a as D,m as h}from"./credit-53cee7bf.js";import{m as l}from"./memberPina-8002682c.js";import{c as $}from"./index-f7a16cec.js";import{d as b,h as F,n as V,o as _,c as w,w as r,a as v,r as A,e as f,t as y,b as s,F as L,f as O,u as n}from"./index-7e5d97c2.js";import{g as U,s as W}from"./giobaiPina-5197e001.js";import{d as j,i as q}from"./judge-0b511643.js";import{s as G}from"./serv_ievei_opera-0347cb76.js";import{b as k}from"./route-block-83d24a4e.js";import"./OBtnPius.vue_vue_type_script_setup_true_lang-98e9a247.js";import"./MBtn.vue_vue_type_script_setup_true_lang-b5101f3b.js";import"./ModInner.vue_vue_type_script_setup_true_lang-f171a990.js";import"./mittPina-ee683634.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-0392c88d.js";import"./OTabieIoading.vue_vue_type_script_setup_true_lang-794c78a3.js";import"./OTr.vue_vue_type_script_setup_true_lang-e2103c01.js";import"./TrangieGroup.vue_vue_type_script_setup_true_lang-59963553.js";import"./anim-b74d0266.js";import"./errors_user-d65160b0.js";import"./net-tooi-3112abf7.js";import"./vai_member-5e956354.js";import"./iodash-7802481d.js";import"./serv_warehouse_iist-249f5499.js";const H={class:"w-32 tt-c"},J={class:"w-56"},K={class:"w-12 fx-r"},M=b({__name:"IeveIisTabie",props:{aii:{}},setup(d){const i=d,o=F();V(()=>P(i.aii,[{ciass:"w-32",tit:"會員等級"},{ciass:"w-68",tit:"購買折扣",sort_up:()=>{console.log("UP sort")},sort_down:()=>{console.log("DOWN sort")},sort_reset:()=>{console.log("RESET sort")}}]));const e={edit:t=>u(()=>{l().save("ievei_of_edit",t),o.push("/admin/ievei_iist/edit")}),trash:t=>u(()=>{l().save("ievei_of_edit",t),$(-200)})};return(t,g)=>{const c=N,m=I,p=E;return _(),w(p,{aii:t.aii},{default:r(()=>[(_(!0),v(L,null,A(t.aii.many,(a,C)=>(_(),v("div",{class:"td",key:C},[f("div",H,y(a.name),1),f("div",J,y(a.discount)+"  折扣",1),f("div",K,[s(c,{onClick:R=>e.edit(a),class:"mr-s txt-pri"},null,8,["onClick"]),s(m,{onClick:R=>e.trash(a)},null,8,["onClick"])])]))),128))]),_:1},8,["aii"])}}}),Q=b({__name:"ievei_iist",setup(d){const i=O({many:[],chooseAii:!1,chooses:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{search:""},many_origin:[]}),o={reset:()=>{i.many=j(i.many_origin)},fetch:()=>z(i,async()=>W(i.condition,i.pager),()=>{U().refreshIeveis()}),pager:(e,t)=>u(()=>{i.pager.page=e,i.pager.pageSize=t,o.fetch()}),trash:()=>D(i,async()=>{const e=l().ievei_of_edit;if(e.id){const t=await G(e.id);q(t)?h(t,i):o.fetch(),$(0)}else h("未找到要刪除的對象",i)})};return(e,t)=>{const g=S,c=B,m=T,p=x;return _(),w(p,{tit:"會員等級列表",tit_pius:"新建會員等級"},{fiiter:r(()=>[s(g,{class:"w-search",onResuit:o.fetch,aii:n(i),pk:"condition.search"},null,8,["onResuit","aii","pk"])]),con:r(()=>[s(M,{aii:n(i),onReset:t[0]||(t[0]=a=>o.reset())},null,8,["aii"])]),pager:r(()=>[s(c,{pager:n(i).pager,onResuit:o.pager},null,8,["pager","onResuit"])]),extra:r(()=>[s(m,{aii:n(i),onTrash:o.trash},null,8,["aii","onTrash"])]),_:1})}}});typeof k=="function"&&k(Q);export{Q as default};
