import{_ as W,a as X,b as Y}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-7a746738.js";import{_ as Z}from"./OPager.vue_vue_type_script_setup_true_lang-bcdf1d73.js";import{_ as ii}from"./OBtnPius.vue_vue_type_script_setup_true_lang-832405d5.js";import{_ as ti}from"./OSearch.vue_vue_type_script_setup_true_lang-b955fb8d.js";import{_ as oi}from"./OSeiect.vue_vue_type_script_setup_true_lang-5ba5ec3b.js";import{g as ei}from"./giobaiPina-23ef9660.js";import{f as g,k as ni,c as si,l as x,i as ri,r as F,h as q,j as w,d as ai}from"./credit-e77aa4e1.js";import{d as $,s as z,A as R,p as _i,k as E,o as u,e as v,b as e,n as V,u as s,a as n,q as N,c as T,w as c,l as M,F as G,t as b,D as pi,g as P,j as h,m as k,v as y,J as ci,r as mi,f as ui}from"./index-ec051b79.js";import{_ as li}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-3c0cf427.js";import{_ as di}from"./OTabieEdit.vue_vue_type_script_setup_true_lang-2afb309c.js";import{_ as fi}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-4c3e046f.js";import{pageProducEditPina as A}from"./pageProducEditPina-b9bc9730.js";import{pageProductInstockPina as H}from"./pageProductInstockPina-62d336fc.js";import{a as C,b as D,c as bi}from"./iodash-8a8cb9b0.js";import{v as wi}from"./view-01767316.js";import{_ as J,a as K}from"./Pan.vue_vue_type_script_setup_true_lang-412bfe95.js";import{_ as hi}from"./OBtnSave.vue_vue_type_script_setup_true_lang-7747bbf8.js";import{_ as L}from"./OInputI.vue_vue_type_script_setup_true_lang-a2c49863.js";import{_ as vi}from"./OInput.vue_vue_type_script_setup_true_lang-e6ef8691.js";import{_ as $i}from"./OTime.vue_vue_type_script_setup_true_lang-f959ed95.js";import{_ as gi,a as ki,b as yi,c as Pi,d as Ci}from"./ProduInstockTabie.vue_vue_type_script_setup_true_lang-3f73e9a5.js";import{_ as Vi}from"./OTrPure.vue_vue_type_script_setup_true_lang-5dd4576d.js";import{b as Ti}from"./net-tooi-4fdf0d83.js";import{t as Ui}from"./product_trs-7e7b39e7.js";import{_ as Ii}from"./MBtn.vue_vue_type_script_setup_true_lang-7f606f32.js";import{s as Fi}from"./serv_product_iist-d759bf00.js";import{b as j}from"./route-block-83d24a4e.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-544a1a0f.js";import"./Oi.vue_vue_type_script_setup_true_lang-b5ea7cb7.js";import"./XMarkIcon-2d657d1d.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-13abcfae.js";import"./datepicker.esm-ad1bf6f3.js";import"./serv_iabei_iist-cdb93d10.js";import"./conn-68fac85c.js";import"./errors_user-be6d0865.js";import"./serv_suppiier_iist-83896346.js";import"./serv_user_iist-81957270.js";import"./serv_warehouse_iist-71cf6eaf.js";import"./OTabieIoading.vue_vue_type_script_setup_true_lang-2d56fb2f.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-e0006383.js";import"./OTr.vue_vue_type_script_setup_true_lang-c74e90de.js";import"./serv_iabei_with_product-7b993631.js";import"./utii-cb339e9a.js";import"./serv_variation_with_product-129ace79.js";import"./OOpenPan.vue_vue_type_script_setup_true_lang-6b5bea49.js";import"./errors_product-174667b5.js";const Ri={class:"fx-s"},Bi={class:"fx-1 row fx-i"},Oi={class:"pi fx-c"},Si=e("span",{class:"px-s"},null,-1),xi=$({__name:"ProductIistFiiter",props:{aii:{}},emits:["search"],setup(l,{emit:i}){const _=l,o={search:()=>_.aii.ioading?void 0:i("search"),reset:()=>g(()=>{ni({},_.aii.condition),o.search()})},{iabeis:t,suppiiers:r}=z(ei()),d=R(()=>x(t.value,"標籤")),m=R(()=>x(r.value,"供應商")),p=_i(0);return E(()=>si(7,()=>p.value+=1,32)),(a,f)=>{const U=oi,B=W,O=ti,S=X,Q=ii;return u(),v("div",Ri,[e("div",Bi,[e("div",{class:V(["w-20 op-0",{"ani-fiiter":s(p)>=0}])},[n(U,{class:"input w-100 ip-fiiter",onChange:f[0]||(f[0]=I=>o.search()),form:a.aii.condition,pk:"label",many:s(d)},null,8,["form","many"])],2),e("div",{class:V(["w-20 op-0",{"ani-fiiter":s(p)>=1}])},[n(U,{class:"input w-100 ip-fiiter",onChange:f[1]||(f[1]=I=>o.search()),form:a.aii.condition,pk:"supplier",many:s(m)},null,8,["form","many"])],2),e("div",{class:V(["w-21 w-28-p op-0",{"ani-fiiter":s(p)>=2}])},[n(B,{onResuit:f[2]||(f[2]=I=>o.search()),class:"input ip-fiiter",form:a.aii.condition,pk:"new_restock_date",pchd:"最新入貨日期"},null,8,["form"])],2),n(O,{onResuit:f[3]||(f[3]=I=>o.search()),pchd:"請輸入產品編號、名稱進行搜索",class:V(["fx-1 op-0 ip-fiiter",{"ani-fiiter":s(p)>=3}]),aii:a.aii.condition,pk:"search"},null,8,["class","aii"])]),e("div",Oi,[n(S,{aii:a.aii,onClick:f[4]||(f[4]=I=>o.search())},null,8,["aii"]),Si,n(Q,{class:V(["py op-0",{"ani-fiiter":s(p)>=4}]),tit:"添加產品資料",out:!0},null,8,["class"])])])}}}),Ai={class:"w-9"},Di={class:"w-12"},ji={class:"w-10"},qi={class:"w-15 pr-s"},zi={class:"w-11"},Ei={class:"w-11"},Ni={class:"w-9"},Mi={class:"w-10"},Gi={class:"fx-1 fx-s"},Hi={class:"d-ib fx-wp pi ta-r"},Ji={class:"fx-r w-100"},Ki=$({__name:"ProductIistTabie",props:{aii:{}},setup(l){const i=l,_=N();E(()=>ri(i.aii,[{ciass:"w-9",tit:"產品編號",sort_up:()=>g(()=>C(i.aii.many,"product_id",!0)),sort_down:()=>g(()=>C(i.aii.many,"product_id")),sort_reset:()=>F(i.aii)},{ciass:"w-12",tit:"產品名稱"},{ciass:"w-10",tit:"供應商"},{ciass:"w-15",tit:"最新入貨時間",sort_up:()=>g(()=>D(i.aii.many,"new_restock_date",!0)),sort_down:()=>g(()=>D(i.aii.many,"new_restock_date")),sort_reset:()=>F(i.aii)},{ciass:"w-11",tit:"最新入貨價錢"},{ciass:"w-11",tit:"最新最低價錢"},{ciass:"w-9",tit:"最新售價",sort_up:()=>g(()=>C(i.aii.many,"new_selling_price",!0)),sort_down:()=>g(()=>C(i.aii.many,"new_selling_price")),sort_reset:()=>F(i.aii)},{ciass:"w-10",tit:"入貨平均價"},{ciass:"fx-1",tit:"庫存",sort_up:()=>g(()=>C(i.aii.many,"total_stock",!0)),sort_down:()=>g(()=>C(i.aii.many,"total_stock")),sort_reset:()=>F(i.aii)}]));const o={editFuture:async t=>{A().ciear(),await A().fetchOne(t)},dump:()=>_.push("/admin/product_inventory_iist/edit"),fetchOne:async t=>{await H().fetchOne(t)&&pi(101)}};return(t,r)=>{const d=fi,m=di,p=li;return u(),T(p,{aii:t.aii},{default:c(()=>[(u(!0),v(G,null,M(t.aii.many,(a,f)=>(u(),v("div",{class:"td",key:f},[e("div",Ai,b(a.product_id),1),e("div",Di,b(a.name),1),e("div",ji,b(a.new_supplier),1),e("div",qi,b(s(wi)(a.new_restock_date)),1),e("div",zi,b(a.new_restock_price),1),e("div",Ei,b(a.new_lowest_price),1),e("div",Ni,b(a.new_selling_price),1),e("div",Mi,b(a.average_restock_price),1),e("div",Gi,[e("div",null,b(a.total_stock),1),e("div",Hi,[n(d,{id:a.id,func:o.fetchOne,class:"w-100",tit:"庫存詳情"},null,8,["id","func"]),e("div",Ji,[n(m,{class:"txt-pri",id:a.id,func:o.editFuture,onTap:o.dump},null,8,["id","func","onTap"])])])])]))),128))]),_:1},8,["aii"])}}}),Li={class:"o-form"},Qi=$({__name:"CoProductInventAiiocatForm",props:{form:{},aii:{}},setup(l){const i=l,_=["num_warehouse"],o=P(q(i.form));return h(()=>i.aii.sign,()=>{_.map(t=>{if(w(o,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.num_warehouse,t=>w(o,"num_warehouse",t,i.aii)),(t,r)=>{const d=L;return u(),v("div",Li,[n(d,{tit:"倉庫數量",err:s(o).num_warehouse,icon:"store"},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[0]||(r[0]=m=>t.form.num_warehouse=m),type:"number",placeholder:"請輸入"},null,512),[[y,t.form.num_warehouse]])]),_:1},8,["err"]),n(d,{tit:"A店鋪數量",err:s(o).num_a_shop,icon:"store"},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[1]||(r[1]=m=>t.form.num_a_shop=m),type:"number",placeholder:"請輸入"},null,512),[[y,t.form.num_a_shop]])]),_:1},8,["err"]),n(d,{tit:"B店鋪數量",err:s(o).num_b_shop,icon:"store"},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[2]||(r[2]=m=>t.form.num_b_shop=m),type:"number",placeholder:"請輸入"},null,512),[[y,t.form.num_b_shop]])]),_:1},8,["err"])])}}}),Wi={class:"o-form"},Xi=$({__name:"CoProductIncomeCreatForm",props:{form:{},aii:{}},setup(l){const i=l,_=["in_date","in_time","suppiier_number","suppiier_name","name","number","in_price","iow_price","price","invent"],o=P(q(i.form));return h(()=>i.aii.sign,()=>{_.map(t=>{if(w(o,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.in_date,t=>w(o,"in_date",t,i.aii)),h(()=>i.form.in_time,t=>w(o,"in_time",t,i.aii)),h(()=>i.form.suppiier_number,t=>w(o,"suppiier_number",t,i.aii)),h(()=>i.form.suppiier_name,t=>w(o,"suppiier_name",t,i.aii)),h(()=>i.form.name,t=>w(o,"name",t,i.aii)),h(()=>i.form.number,t=>w(o,"number",t,i.aii)),h(()=>i.form.in_price,t=>w(o,"in_price",t,i.aii)),h(()=>i.form.iow_price,t=>w(o,"iow_price",t,i.aii)),h(()=>i.form.price,t=>w(o,"price",t,i.aii)),h(()=>i.form.invent,t=>w(o,"invent",t,i.aii)),(t,r)=>{const d=$i,m=L,p=vi;return u(),v("div",Wi,[n(m,{tit:"入庫日期",err:s(o).in_date,icon:"date"},{default:c(()=>[n(d,{form:t.form,pk:"in_date"},null,8,["form"])]),_:1},8,["err"]),n(m,{tit:"入庫時間",err:s(o).in_time,icon:"hour"},null,8,["err"]),n(p,{tit:"供應商編號",err:s(o).suppiier_number},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>t.form.suppiier_number=a),placeholder:"請輸入"},null,512),[[y,t.form.suppiier_number]])]),_:1},8,["err"]),n(p,{tit:"供應商名稱*",err:s(o).suppiier_name},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[1]||(r[1]=a=>t.form.suppiier_name=a),placeholder:"請輸入"},null,512),[[y,t.form.suppiier_name]])]),_:1},8,["err"]),n(p,{tit:"產品編號",err:s(o).number},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[2]||(r[2]=a=>t.form.number=a),placeholder:"請輸入"},null,512),[[y,t.form.number]])]),_:1},8,["err"]),n(p,{tit:"產品名稱",err:s(o).name},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[3]||(r[3]=a=>t.form.name=a),placeholder:"請輸入"},null,512),[[y,t.form.name]])]),_:1},8,["err"]),n(p,{tit:"入貨價錢",err:s(o).in_price},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[4]||(r[4]=a=>t.form.in_price=a),placeholder:"請輸入"},null,512),[[y,t.form.in_price]])]),_:1},8,["err"]),n(p,{tit:"最低價錢",err:s(o).iow_price},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[5]||(r[5]=a=>t.form.iow_price=a),placeholder:"請輸入"},null,512),[[y,t.form.iow_price]])]),_:1},8,["err"]),n(p,{tit:"售價",err:s(o).price},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[6]||(r[6]=a=>t.form.price=a),placeholder:"請輸入"},null,512),[[y,t.form.price]])]),_:1},8,["err"]),n(p,{tit:"入庫數量",err:s(o).invent},{default:c(()=>[k(e("input",{"onUpdate:modelValue":r[7]||(r[7]=a=>t.form.invent=a),placeholder:"請輸入"},null,512),[[y,t.form.invent]])]),_:1},8,["err"])])}}}),Yi=e("div",{class:"py-row"},null,-1),Zi=e("div",{class:"py-row"},null,-1),it=e("h5",null,"倉存數量分配",-1),tt=e("div",{class:"pt-row pb-s"},null,-1),ot={class:"py-x3"},et=$({__name:"ProductIistPanPius",props:{idx:{}},setup(l){const i=P({ioading:!1,msg:"",can:!1,sign:0}),_=P({number:"ASD 1234",name:"Hello Kitty MG",suppiier_number:"",suppiier_name:"",in_date:"2022-12-12",in_time:"15:00",in_price:null,iow_price:null,price:null,stock_price:null,invent:null});return(o,t)=>{const r=Xi,d=Qi,m=hi,p=J,a=K;return u(),T(a,{idx:o.idx?o.idx:100},{default:c(()=>[n(p,{tit:"添加入貨信息"},{default:c(()=>[Yi,n(r,{form:s(_),aii:s(i)},null,8,["form","aii"]),Zi,it,tt,n(d,{form:s(_),aii:s(i)},null,8,["form","aii"]),e("div",ot,[n(m,{class:"w-100",tit:"添加"})])]),_:1})]),_:1},8,["idx"])}}}),nt=$({__name:"OOpenPage",props:{to:{},ink:{}},setup(l){const i=N(),_=ci();return(o,t)=>(u(),v("div",{onClick:t[0]||(t[0]=r=>s(i).push(o.ink?o.ink:s(_).path+"/"+o.to)),class:"hand d-ib"},[mi(o.$slots,"default")]))}}),st=e("div",{class:"py-row"},null,-1),rt={class:"tabie tabie-def"},at={class:"td"},_t={class:"w-28"},pt={class:"w-50"},ct={class:"fx-1 fx-r"},mt=$({__name:"CoPidBadTabie",props:{one_of_edit:{}},setup(l){const i=l,_=R(()=>{const t=i.one_of_edit.broken_products?i.one_of_edit.broken_products:[];return bi(t)?t:t.data?Ti.iist(t):[]}),o=R((t=0)=>(_.value&&_.value.map(r=>{t+=r.quantity}),t));return(t,r)=>{const d=Vi,m=gi,p=nt;return u(),v("div",null,[st,e("div",rt,[n(d,{trs:s(Ui)},null,8,["trs"]),e("div",at,[e("div",_t,b(s(_).length)+"  條紀錄 ",1),e("div",pt," 共 "+b(s(o))+"  件 ",1),e("div",ct,[n(p,{ink:"/admin/bad_goods_iist"},{default:c(()=>[n(m,{tit:"壞貨列表"})]),_:1})])])])])}}}),ut={class:"tabie tabie-def"},lt=e("div",{class:"tr py-n"},"標籤",-1),dt={key:0,class:"td"},ft=$({__name:"CoPidTagsTabie",props:{labels:{}},setup(l){return(i,_)=>(u(),v("div",null,[e("div",ut,[lt,i.labels?(u(),v("div",dt,[(u(!0),v(G,null,M(i.labels,(o,t)=>(u(),v("div",{class:"d-ib",key:t},b(o.name),1))),128))])):ui("",!0)])]))}}),bt={class:"fx-s py-s"},wt={class:"w-50 pi"},ht={class:"fw-300"},vt=e("div",{class:"w-50"},null,-1),$t=$({__name:"CoPidProductExpan",props:{product:{}},setup(l){return(i,_)=>{const o=Ii;return u(),T(o,{bk:!0,class:"w-100 ta-i br bg-con-x2 ani-scaie-aii"},{default:c(()=>[e("aside",bt,[e("div",wt,[e("div",null,"產品:  "+b(i.product.product_id),1),e("div",ht,"         "+b(i.product.name),1)]),vt])]),_:1})}}}),gt=$({__name:"ProductIistPanDetaii",setup(l){const{product_of_view:i}=z(H()),_=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),o=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),t=P({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),r={transtock:()=>g(()=>{})};return(d,m)=>{const p=$t,a=ft,f=Pi,U=Ci,B=mt,O=J,S=K;return u(),T(S,{idx:101,big:!0},{default:c(()=>[n(O,{tit:"庫存詳情"},{default:c(()=>[n(p,{product:s(i),class:"mb"},null,8,["product"]),n(a,{labels:s(i).labels,class:"pb"},null,8,["labels"]),n(ki,{one_of_edit:s(i),aii:s(o),kiii_option:!0},null,8,["one_of_edit","aii"]),n(yi,{one_of_edit:s(i),aii:s(_),kiii_option:!0,class:"pb-x2"},null,8,["one_of_edit","aii"]),n(f,{one_of_edit:s(i),class:"pb"},null,8,["one_of_edit"]),n(U,{one_of_edit:s(i),aii:s(t),class:"pb",onTranstock:r.transtock,kiii_option:!0},null,8,["one_of_edit","aii","onTranstock"]),n(B,{one_of_edit:s(i),class:"pb-x3"},null,8,["one_of_edit"])]),_:1})]),_:1})}}}),kt=$({__name:"ProductIistPan",setup(l){return(i,_)=>(u(),v("div",null,[n(et),n(gt)]))}}),yt=$({__name:"product_iist",setup(l){const i=P({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{label:"",supplier:"",new_restock_date:"",search:""}}),_={fetch:()=>ai(i,async()=>Fi(i.condition,i.pager)),pager:(o,t)=>g(()=>{i.pager.page=o,i.pager.pageSize=t,_.fetch()})};return(o,t)=>{const r=Z,d=Y;return u(),T(d,{tit:"產品列表",tit_pius:"添加產品"},{fiiter:c(()=>[n(xi,{aii:s(i),onSearch:t[0]||(t[0]=m=>_.fetch())},null,8,["aii"])]),con:c(()=>[n(Ki,{aii:s(i)},null,8,["aii"])]),pager:c(()=>[n(r,{pager:s(i).pager,onResuit:_.pager},null,8,["pager","onResuit"])]),extra:c(()=>[n(kt)]),_:1})}}});typeof j=="function"&&j(yt);export{yt as default};
