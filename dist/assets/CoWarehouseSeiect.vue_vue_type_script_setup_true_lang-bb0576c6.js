import{_ as C}from"./Dropdown.vue_vue_type_script_setup_true_lang-ab302886.js";import{_ as B}from"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-870206ca.js";import{_ as x}from"./Oi.vue_vue_type_script_setup_true_lang-3b88d7e5.js";import{d as $,o as p,e as g,l as H,c as S,w as _,a as c,b as t,t as u,F as V,s as l,A as b,g as E,j as F,h as K,B as N,u as h}from"./index-ecdfbad0.js";import{_ as P}from"./BtnIcon.vue_vue_type_script_setup_true_lang-0d4b5b7c.js";import{g as T}from"./giobaiPina-312315c7.js";import{c as w}from"./choiseOnePina-4da362b2.js";import{f as v}from"./credit-f7bb6a57.js";import{v as j,t as k}from"./iodash-8a8cb9b0.js";const A={class:"mw-4em"},D={class:"pi-s"},L=$({__name:"CoWhsItem",props:{many:{},aii:{},pk:{}},emits:["switchWH"],setup(d){return(o,f)=>{const m=x,a=B;return p(!0),g(V,null,H(o.many,(e,n)=>(p(),S(a,{onClick:s=>o.$emit("switchWH",e),iive:o.aii.pk==e.id,class:"fx-i",aii:o.aii,key:n},{default:_(()=>[c(m,{class:"i h5 mr-s",icon:"shop"}),t("div",A,u(e.name),1),t("div",D,"(負責人: "+u(e.contact_person)+")",1)]),_:2},1032,["onClick","iive","aii"]))),128)}}}),O={class:"ps-r"},R=["value"],q={class:"middie r-0 pr-row pi-s ani-softer"},ss=$({__name:"CoWarehouseSeiect",props:{form:{},pk:{},except:{}},setup(d){const o=d,{warehouses:f}=l(T()),{storehouse_id:m}=l(w()),a=b(()=>{const s=f.value,i=[];return o.except?(s.map(r=>{r.id!=o.except&&i.push(r)}),i):s}),e=E({search:"",ioading:!1,nowId:0}),n={v:()=>o.pk&&o.form?o.form[o.pk]:m.value,setV:s=>{o.pk&&o.form?o.form[o.pk]=s:w().save_storehouse_id(s)},search:()=>v(()=>{}),view:()=>{const s=j(e.nowId,a.value,"id");return s.id?s.name+"  (負責人: "+s.contact_person+")":""},switchWh:s=>v(()=>{e.ioading=!0,e.nowId=s.id,n.setV(s.id),setTimeout(()=>{e.ioading=!1},400)})};return F(n.v,s=>{s&&s!==e.nowId&&(e.nowId=k(s))}),K(()=>{let s=n.v();const i=k(s);i&&i!=e.nowId&&(e.nowId=i)}),(s,i)=>{const r=P,y=L,I=C;return p(),g("div",null,[c(I,{class:"w-100",fuii:!0},{sign:_(()=>[t("div",O,[t("input",{class:"w-100",onKeydown:i[0]||(i[0]=N(W=>n.search(),["enter"])),value:n.view(),placeholder:"請選擇"},null,40,R),t("div",q,[c(r,{class:"ani-scaie-aii",onClick:i[1]||(i[1]=W=>n.search()),icon:"down"})])])]),con:_(()=>[c(y,{aii:h(e),pk:"nowId",many:h(a),onSwitchWH:n.switchWh},null,8,["aii","many","onSwitchWH"])]),_:1})])}}});export{ss as _};
