import{_ as z,a as F,b as N}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-0310e242.js";import{_ as V}from"./OPager.vue_vue_type_script_setup_true_lang-4ef8a970.js";import{_ as A}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-b8b36d5c.js";import{_ as D}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-057880d3.js";import{_ as E}from"./OIoadCir.vue_vue_type_script_setup_true_lang-98e94907.js";import{_ as L}from"./CkClipboard.vue_vue_type_script_setup_true_lang-4ba67b57.js";import{v as y}from"./vai_order-5298bc5c.js";import{d as S,g as B,n as O,C as M,o as f,y as b,w as g,c as C,D as P,a as o,t as u,b as n,i as t,e as Q,F as U,S as j,k as m,af as v,ag as x,ah as I,f as q,U as G,A as d,M as H,s as J,h as K,Q as W}from"./index-a2bf0a06.js";import{v as X,m as Y}from"./view-c95e6efb.js";import{p as T,s as Z}from"./pageOrderPina-da0bf80f.js";import{_ as ii,a as ti}from"./OrderIistPanDetaii.vue_vue_type_script_setup_true_lang-b4c80712.js";import{_ as si}from"./OSearch.vue_vue_type_script_setup_true_lang-526d1122.js";import{_ as ai}from"./OSeiect.vue_vue_type_script_setup_true_lang-85c8613a.js";import{b as R}from"./route-block-83d24a4e.js";import"./MBtn.vue_vue_type_script_setup_true_lang-1989d4d6.js";import"./Oi.vue_vue_type_script_setup_true_lang-65b03e90.js";import"./DocumentTextIcon-37f46d59.js";import"./XMarkIcon-e05b1044.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-e8e1ddc6.js";import"./datepicker.esm-0190a21c.js";import"./OiX2.vue_vue_type_script_setup_true_lang-0947712d.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-4f8d8265.js";import"./OTr.vue_vue_type_script_setup_true_lang-5c955284.js";import"./BtnIconX2.vue_vue_type_script_setup_true_lang-11832cc2.js";import"./fioat-e27af979.js";import"./Pan.vue_vue_type_script_setup_true_lang-15f67068.js";import"./OBtnSave.vue_vue_type_script_setup_true_lang-2883f20a.js";import"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-683e03f2.js";import"./BtnTab.vue_vue_type_script_setup_true_lang-6c311847.js";import"./OTrPure.vue_vue_type_script_setup_true_lang-30481098.js";import"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-735e82ee.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-3029d411.js";import"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-32c479c2.js";const oi={class:"w-25 fx-i"},ei={class:"hand"},ri={class:"w-22"},ni={class:"w-16"},_i={class:"w-16"},ci={class:"fx-1 fx-s"},mi={class:"fx-1"},pi={class:"ta-r"},di=S({__name:"OrderIistTabie",props:{aii:{}},setup(h){const e=h,i=B({ioading:!1,iiveId:-1}),r={view:async s=>{i.ioading||(i.ioading=!0,i.iiveId=s,await T().fetchOne(s),j(101),setTimeout(()=>i.ioading=!1,400))}};return O(()=>M(e.aii,[{ciass:"w-25",tit:"訂單編號",sort_up:()=>m(()=>v(e.aii.many,"order_id",!0)),sort_down:()=>m(()=>v(e.aii.many,"order_id")),sort_reset:()=>x(e.aii)},{ciass:"w-22",tit:"下單時間",sort_up:()=>m(()=>I(e.aii.many,"order_date",!0)),sort_down:()=>m(()=>I(e.aii.many,"order_date")),sort_reset:()=>x(e.aii)},{ciass:"w-16",tit:"客戶"},{ciass:"w-16",tit:"總計金額",sort_up:()=>m(()=>v(e.aii.many,"total_price",!0)),sort_down:()=>m(()=>v(e.aii.many,"total_price")),sort_reset:()=>x(e.aii)},{ciass:"fx-1",tit:"狀態",sort:!1}])),(s,c)=>{const a=L,p=E,w=D,$=A;return f(),b($,{aii:s.aii},{default:g(()=>[(f(!0),C(U,null,P(s.aii.many,(_,k)=>(f(),C("div",{class:"td",key:k},[o("div",oi,[o("span",ei,u(_.order_id),1),n(a,{class:"mi",txt:_.order_id},null,8,["txt"]),t(i).ioading&&_.id==t(i).iiveId?(f(),b(p,{key:0,class:"mi"})):Q("",!0)]),o("div",ri,u(t(X)(_.order_date)),1),o("div",ni,u(t(y).member(_)),1),o("div",_i,u(t(Y)(_.total_price)),1),o("div",ci,[o("div",mi,[o("span",null,u(t(y).status(_)),1)]),o("div",pi,[n(w,{id:_.id,func:r.view,tit:"詳情"},null,8,["id","func"])])])]))),128))]),_:1},8,["aii"])}}}),fi={class:"fx-s"},li={class:"fx-1 row fx-i"},ui=S({__name:"OrderIistFiiter",props:{aii:{}},emits:["search"],setup(h,{emit:e}){const i=h,r={search:()=>i.aii.ioading?void 0:e("search"),reset:()=>m(()=>{H({},i.aii.condition),r.search()})},s=q(0);return O(()=>G(8,()=>s.value+=1,32)),(c,a)=>{const p=ai,w=z,$=si,_=ii,k=F;return f(),C("div",fi,[o("div",li,[o("div",{class:d(["w-20 op-0",{"ani-fiiter":t(s)>=1}])},[n(p,{class:"input w-100 ip-fiiter fix-seiect",onChange:a[0]||(a[0]=l=>r.search()),form:c.aii.condition,pk:"time_period",many:t(y).seiect_time_period_fiiter},null,8,["form","many"])],2),o("div",{class:d(["w-20 op-0",{"ani-fiiter":t(s)>=2}])},[n(p,{class:"input w-100 ip-fiiter fix-seiect",onChange:a[1]||(a[1]=l=>r.search()),form:c.aii.condition,pk:"status",many:t(y).seiect_status_fiiter},null,8,["form","many"])],2),o("div",{class:d(["w-24 op-0",{"ani-fiiter":t(s)>=3}])},[n(w,{class:"input ip-fiiter",onResuit:a[2]||(a[2]=l=>r.search()),form:c.aii.condition,pk:"date"},null,8,["form"])],2),n($,{onResuit:a[3]||(a[3]=l=>r.search()),class:d(["fx-1 ip-fiiter op-0",{"ani-fiiter":t(s)>=4}]),aii:c.aii.condition,pk:"order_id",pchd:"請輸入訂單編號"},null,8,["class","aii"])]),o("div",{class:d(["pi op-0",{"ani-fiiter":t(s)>=5}])},[n(_,{onClick:a[4]||(a[4]=l=>r.reset())})],2),o("div",{class:d(["pi op-0",{"ani-fiiter":t(s)>=6}])},[n(k,{onClick:a[5]||(a[5]=l=>r.search()),aii:c.aii},null,8,["aii"])],2)])}}}),gi=S({__name:"order_iist",setup(h){const{refresh:e}=J(T()),i=B({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{time_period:"",date:"",status:"",search:"",member:"",order_id:""}}),r={fetch:()=>W(i,async()=>Z(i.condition,i.pager)),pager:(s,c)=>m(()=>{i.pager.page=s,i.pager.pageSize=c,r.fetch()})};return K(e,()=>r.fetch()),(s,c)=>{const a=V,p=N;return f(),b(p,{tit:"訂單列表",tit_pius:"添加訂單"},{fiiter:g(()=>[n(ui,{aii:t(i),onSearch:r.fetch},null,8,["aii","onSearch"])]),con:g(()=>[n(di,{aii:t(i)},null,8,["aii"])]),pager:g(()=>[n(a,{pager:t(i).pager,onResuit:r.pager},null,8,["pager","onResuit"])]),extra:g(()=>[n(ti,{idx:101})]),_:1})}}});typeof R=="function"&&R(gi);export{gi as default};
