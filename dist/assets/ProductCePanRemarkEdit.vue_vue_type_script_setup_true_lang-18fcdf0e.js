import{a as K}from"./OBtnInOrder.vue_vue_type_script_setup_true_lang-5685020d.js";import{_ as L}from"./MBtn.vue_vue_type_script_setup_true_lang-665832ea.js";import{o as i,a as u,e as m,d as f,H as W,h as q,c as T,w as c,b as a,u as l,t as g,k as h,f as S,C as w,y as P,z as V,i as U,E as J,s as R,n as Q,F as B,r as M,G as X,g as Y,m as Z,A as tt}from"./index-ac9b6067.js";import{_ as et}from"./OOpenPan.vue_vue_type_script_setup_true_lang-7bded916.js";import{_ as st}from"./OBtnPius.vue_vue_type_script_setup_true_lang-11fdac22.js";import{n as j}from"./errors_user-ed6797a4.js";import{a as x,s as D}from"./net-tooi-3112abf7.js";import{E as F}from"./errors_product-d04df486.js";import{_ as nt}from"./OInputI.vue_vue_type_script_setup_true_lang-ca7fbd39.js";import{_ as ot}from"./OTime.vue_vue_type_script_setup_true_lang-51d310b4.js";import{_ as E}from"./OInput.vue_vue_type_script_setup_true_lang-894facb7.js";import{g as at,j as C,f as k,e as rt}from"./credit-f09278e6.js";import{_ as it}from"./BtnIcon.vue_vue_type_script_setup_true_lang-5059c45f.js";import{i as N,a as I,_ as _t}from"./iabeiPina-4aa9e792.js";import{pageProductPina as v}from"./pageProductPina-eaf4d561.js";import{_ as mt}from"./Cardmsg.vue_vue_type_script_setup_true_lang-c70bc187.js";import{$ as y}from"./index-655810e7.js";import{_ as O,a as z}from"./Pan.vue_vue_type_script_setup_true_lang-a95523c2.js";import{i as ct}from"./judge-0b511643.js";import{r as pt}from"./XMarkIcon-38d16b8d.js";import{_ as ut}from"./OBtnSave.vue_vue_type_script_setup_true_lang-a6598dcb.js";function dt(_,e){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}const lt={class:"pi-n"},ft=f({__name:"OBtnMius",props:{tit:{},func:{type:Function}},setup(_){const e=_,n=W(),s=q(),t=()=>e.func?e.func():s.push(n.path+"/creat");return(o,r)=>{const p=L;return i(),T(p,{onClick:r[0]||(r[0]=$=>t()),class:"btn-pri-out px br py",ciass:"fx-c"},{default:c(()=>[a(l(dt),{class:"i h4"}),m("span",lt,g(o.tit),1)]),_:1})}}}),qt=f({__name:"CoProduCeGroup",props:{die:{type:Boolean}},setup(_){return(e,n)=>{const s=st,t=et,o=ft,r=K;return i(),u("div",null,[m("div",null,[a(t,{idx:e.die?0:100},{default:c(()=>[a(s,{class:h([{"btn-die-imp":e.die},"btn-pri py px mr"]),func:()=>{},tit:"添加入貨信息"},null,8,["class"])]),_:1},8,["idx"]),a(t,{idx:e.die?0:106},{default:c(()=>[a(o,{class:h({"btn-die-imp":e.die}),tit:"添加壞貨",func:()=>{}},null,8,["class"])]),_:1},8,["idx"])]),a(r,{class:h({"btn-die-imp":e.die})},null,8,["class"])])}}}),A="products",Jt=async(_,e)=>x(F,async()=>D(await j.put(A,_,e+""))),Qt=async _=>x(F,async()=>D(await j.pos(A,_))),vt={class:"o-form"},Xt=f({__name:"ProductCeBase",props:{form:{},aii:{}},setup(_){const e=_,n=["product_id","name","create_date"],s=S(at(e.form));return w(()=>e.aii.sign,()=>{n.map(t=>{if(C(s,t,e.form[t],e.aii)){e.aii.can=!1;return}}),e.aii.can=!0}),w(()=>e.form.product_id,t=>C(s,"product_id",t,e.aii)),w(()=>e.form.name,t=>C(s,"name",t,e.aii)),w(()=>e.form.create_date,t=>C(s,"create_date",t,e.aii)),(t,o)=>{const r=E,p=ot,$=nt;return i(),u("div",vt,[a(r,{tit:"產品編號",err:l(s).product_id},{default:c(()=>[P(m("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>t.form.product_id=d),placeholder:"請輸入"},null,512),[[V,t.form.product_id]])]),_:1},8,["err"]),a(r,{tit:"產品名稱",err:l(s).name},{default:c(()=>[P(m("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>t.form.name=d),placeholder:"請輸入"},null,512),[[V,t.form.name]])]),_:1},8,["err"]),a($,{class:"input-timed-for-pan",tit:"建立日期",err:l(s).create_date,icon:"date"},{default:c(()=>[a(p,{form:t.form,pk:"create_date"},null,8,["form"])]),_:1},8,["err"])])}}}),$t={class:"fx-s"},kt=f({__name:"OInputWithTrash",props:{iive:{type:Boolean},tit:{},icon:{},ciass:{}},emits:["tap"],setup(_){return(e,n)=>{const s=E,t=it;return i(),u("div",$t,[a(s,{class:h(["fx-1 hand",e.ciass]),tit:e.tit,iive:e.iive},{default:c(()=>[U(e.$slots,"default")]),_:3},8,["tit","iive","class"]),m("div",{class:"mi fx-c ps-r oiwt-icon ts",onClick:n[0]||(n[0]=J(o=>e.$emit("tap"),["stop"]))},[a(t,{class:"h5",icon:e.icon?e.icon:"trash",ciass_i:"txt-pri"},null,8,["icon"])])])}}}),ht={class:"py"},bt=["onUpdate:modelValue"],wt=["value"],Yt=f({__name:"ProductCeTags",props:{iabeis:{}},setup(_){const{many:e}=R(N()),n=S({coior:"",trashIdx:-1}),s={pius:()=>k(()=>{if(e.value.length>0){const t=e.value[0];t.id&&v().pius_iabei(t.id)}else rt("沒有一個可用標籤，請先新增標籤。")}),trash:t=>k(()=>{n.trashIdx=t,v().trash_iabei(t)}),init:()=>k(()=>{N().refreshMany()})};return Q(s.init),(t,o)=>{const r=I,p=kt;return i(),u("div",null,[a(r,{class:"pb",tit:"標籤",tit_pius:"添加標籤",onTap:o[0]||(o[0]=$=>s.pius())}),m("div",ht,[(i(!0),u(B,null,M(t.iabeis,($,d)=>(i(),u("div",{class:"pb-x2 ani-fade-b",key:d},[a(p,{tit:"標籤",onTap:b=>s.trash(d)},{default:c(()=>[P(m("select",{"onUpdate:modelValue":b=>t.iabeis[d]=b},[(i(!0),u(B,null,M(l(e),(b,H)=>(i(),u("option",{key:H,value:b.id},g(b.name),9,wt))),128))],8,bt),[[X,t.iabeis[d]]])]),_:2},1032,["onTap"])]))),128))])])}}}),gt={class:"py"},Zt=f({__name:"ProductCeRemark",props:{remarks:{}},setup(_){const e=n=>k(()=>{v().save("form_remark_of_edit",n),y(106)});return(n,s)=>{const t=I,o=mt;return i(),u("div",null,[a(t,{class:"pb",tit:"帳單展示備註",tit_pius:"添加展示備註",onTap:s[0]||(s[0]=r=>l(y)(105))}),m("div",gt,[(i(!0),u(B,null,M(n.remarks,(r,p)=>(i(),T(o,{class:"mb-x2 ani-softer ani-scaie-aii",onView:$=>e(r),key:p},{default:c(()=>[Y(g(r.content),1)]),_:2},1032,["onView"]))),128))])])}}}),yt={class:"toast-tit fw-900"},Ct={class:"toast-cont pt"},Pt=f({__name:"diaiog",props:{v:{}},setup(_){const e=_,n=t=>{switch(t){case"err":return"錯誤信息";case"info":return"提示信息";case"warn":return"警告信息";default:return"成功"}};w(()=>e.v.iive,t=>{t||setTimeout(()=>{e.v.msg=""},460)});const s=()=>{e.v.iive=!1,setTimeout(()=>{e.v.msg=""},460)};return(t,o)=>(i(),u("div",{class:h(["toast",{"toast-iive":t.v.iive,"toast-die":!t.v.iive,"toast-kiii":!t.v.msg}])},[t.v.msg?(i(),u("div",{key:0,class:h(["div bg-con","toast-div-"+t.v.mode])},[m("div",yt,g(n(t.v.mode)),1),m("div",Ct,g(t.v.msg),1),m("div",{class:"toast-ciose ts fx-c cir",onClick:o[0]||(o[0]=r=>s())},[a(l(pt),{class:"icon hand op-90"})])],2)):Z("",!0)],2))}}),Tt=m("div",{class:"py-row"},null,-1),G=f({__name:"PcePanReamrkForm",props:{idx:{},remark:{},edit:{type:Boolean}},emits:["save"],setup(_){const{diaiog_remark:e}=R(v());return(n,s)=>{const t=E,o=ut,r=Pt;return i(),u("div",null,[m("div",null,[a(t,null,{default:c(()=>[P(m("textarea",{rows:"12",onKeydown:s[0]||(s[0]=tt(p=>n.$emit("save"),["enter"])),placeholder:"請輸入","onUpdate:modelValue":s[1]||(s[1]=p=>n.remark.content=p)},null,544),[[V,n.remark.content]])]),_:1})]),Tt,a(o,{class:"w-100 my",tit:n.edit?"修改":"添加",onClick:s[2]||(s[2]=p=>n.$emit("save"))},null,8,["tit"]),U(n.$slots,"default"),a(r,{v:l(e)},null,8,["v"])])}}}),te=f({__name:"ProductCePanRemark",setup(_){const{form_remark:e}=R(v()),n=()=>k(()=>{const s=v().pius_remark();ct(s)||y(0)});return(s,t)=>{const o=O,r=z;return i(),T(r,{idx:105},{default:c(()=>[a(o,{tit:"添加展示備註"},{default:c(()=>[a(G,{remark:l(e),onSave:t[0]||(t[0]=p=>n()),class:"pt"},null,8,["remark"])]),_:1})]),_:1})}}}),ee=f({__name:"ProductCePanRemarkEdit",setup(_){const{form_remark_of_edit:e}=R(v()),n=()=>k(()=>{y(0)}),s=()=>k(()=>{v().trash_remark(),y(0)});return(t,o)=>{const r=_t,p=O,$=z;return i(),T($,{idx:106},{default:c(()=>[a(p,{tit:"修改展示備註"},{default:c(()=>[a(G,{remark:l(e),onSave:o[1]||(o[1]=d=>n()),class:"pt",edit:!0},{default:c(()=>[a(r,{class:"mb",tit:"刪除該備註",onClick:o[0]||(o[0]=d=>s())})]),_:1},8,["remark"])]),_:1})]),_:1})}}});export{Xt as _,Yt as a,Zt as b,te as c,ee as d,qt as e,kt as f,Qt as g,Jt as s};
