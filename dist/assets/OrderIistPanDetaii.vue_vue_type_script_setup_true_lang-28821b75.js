import{_ as N}from"./MBtn.vue_vue_type_script_setup_true_lang-7421d565.js";import{d as f,o as r,z as u,w as h,C as y,c as m,a as s,b as i,F as S,G as T,t as n,i as t,B as I,u as R,s as V,P as z,k as w}from"./index-1c4854d6.js";import{_ as F,a as H}from"./Pan.vue_vue_type_script_setup_true_lang-acc72b92.js";import{_ as K}from"./OBtnSave.vue_vue_type_script_setup_true_lang-8855a42d.js";import{_ as E}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-85c5c547.js";import{_ as G}from"./OTrPure.vue_vue_type_script_setup_true_lang-9ba266a8.js";import{m as k}from"./view-c92e9bc2.js";import{_ as J}from"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-ba7e7a34.js";import{v as c}from"./vai_order-616c753f.js";import{p as v}from"./pageOrderPina-b4f2d5b0.js";const Cs=f({__name:"OBtnReset",setup(p){return(e,a)=>{const o=N;return r(),u(o,{bk:!0,class:"btn-weak px br hand mh-input mw-6em"},{default:h(()=>[y(" 重置過濾 ")]),_:1})}}}),L={class:"tabie tabie-def"},j={class:"w-24"},q={class:"w-20"},A=s("div",{class:"fx-1"},null,-1),M=s("div",{class:"py-row"},null,-1),Q={class:"tabie tabie-def"},U={class:"td"},W={class:"w-24"},X=s("div",{class:"fx-1"},null,-1),Y=f({__name:"CoOrderDetaiiPriceTotaiTabie",props:{order:{}},setup(p){return(e,a)=>{const o=G;return r(),m("div",null,[s("div",L,[i(o,{trs:[{tit:"優惠類別",ciass:"w-100"}]}),(r(!0),m(S,null,T(e.order.discount,(l,d)=>(r(),m("div",{class:"td",key:d},[s("div",j,n(l.type),1),s("div",q,"- "+n(t(k)(l.discount_deduction))+"  HKD",1),A]))),128))]),M,s("div",Q,[i(o,{trs:[{tit:"統計金額",ciass:"w-100"}]}),s("div",U,[s("div",W,"HKD  "+n(t(k)(e.order.total_price)),1),X])])])}}}),Z={class:"bg-card tit pr-x2 pi-x3 py br"},ss={class:"pi-x2"},es=s("p",{class:"b pb-n"},"訂單詳情",-1),os={class:"fx-s pb-n"},ts={class:"w-43"},ns={class:"w-38"},rs={class:"fx-1"},_s={class:"fx-s"},is={class:"w-43"},as={class:"w-38"},ds=s("p",{class:"fx-1"}," ",-1),cs=f({__name:"CoOrderIistBaseCard",props:{order:{}},setup(p){return(e,a)=>(r(),m("div",Z,[s("div",ss,[es,s("div",os,[s("p",ts," 訂單編號: "+n(e.order.order_id),1),s("p",ns," 收銀員: "+n(t(c).cashier(e.order)),1),s("p",rs," 客戶: "+n(t(c).member(e.order)),1)]),s("div",_s,[s("p",is," 會員等級: "+n(e.order.member_level.name),1),s("p",as,[y(" 狀態: "),s("div",{class:I(["d-ib",t(c).status_ciass(e.order)])},n(t(c).status(e.order)),3)]),ds])])]))}}),ps=s("div",{class:"pt-row"},null,-1),ls=s("div",{class:"py-row"},null,-1),us=s("div",{class:"py-row"},null,-1),ms=s("div",{class:"py-row"},null,-1),fs={class:"py-x2 fx-c"},Os=f({__name:"OrderIistPanDetaii",props:{kiii_refund:{type:Boolean}},setup(p){const e=p,a=R(),{one_of_view:o}=V(v()),l=z(()=>e.kiii_refund?!1:c.need_refund(o.value)),d={printed:()=>w(()=>{sessionStorage.setItem("heiiokitty_order_of_printed",JSON.stringify(o.value)),a.push("/cashier/order_iist/pdf")}),refund:()=>w(async()=>{const $=o.value;await v().fetchOne($.id,"one_of_refund"),console.log("one_of_refund =",v().one_of_refund),a.push("/admin/order_iist/refund")})};return($,_)=>{const x=cs,g=J,B=Y,C=E,O=K,D=F,P=H;return r(),u(P,{idx:101,big:!0},{default:h(()=>[i(D,{tit:"訂單詳情"},{default:h(()=>[ps,i(x,{order:t(o)},null,8,["order"]),ls,i(g,{order:t(o)},null,8,["order"]),us,i(B,{order:t(o)},null,8,["order"]),ms,s("div",fs,[t(l)?(r(),u(C,{key:0,class:"w-50 w-618-p",tit_back:"退款 / 退貨",onBack:_[0]||(_[0]=b=>d.refund()),onSave:_[1]||(_[1]=b=>d.printed())})):(r(),u(O,{key:1,onClick:_[2]||(_[2]=b=>d.printed()),class:"w-32 w-382-p",tit:"印列訂單"}))])]),_:1})]),_:1})}}});export{Cs as _,Os as a};
