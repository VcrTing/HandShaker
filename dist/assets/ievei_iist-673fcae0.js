import{_ as x}from"./IayoutIist.vue_vue_type_script_setup_true_lang-fb6710e6.js";import{a as T,_ as B}from"./OTabieTrash-a3f690b7.js";import{_ as R}from"./OPager.vue_vue_type_script_setup_true_lang-4df0be23.js";import{_ as I}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-a78e9bc6.js";import{_ as S}from"./OTabieEdit.vue_vue_type_script_setup_true_lang-98605942.js";import{d as b,u as z,n as D,C as F,o as r,y as $,w as n,c as h,D as N,a as f,t as v,b as s,F as P,k as a,$ as V,af as y,ag as A,g as E,s as L,i as d,Q,at as j}from"./index-01696e09.js";import{m as l}from"./memberPina-275955c9.js";import{b as q,g as G}from"./giobaiPina-f05f4269.js";import{s as H}from"./serv_ievei_opera-74e31454.js";import{b as k}from"./route-block-83d24a4e.js";import"./OBtnPius.vue_vue_type_script_setup_true_lang-9a9d7028.js";import"./MBtn.vue_vue_type_script_setup_true_lang-0f0ebfdd.js";import"./ModInner.vue_vue_type_script_setup_true_lang-eb3da449.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-df14531b.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-80de4541.js";import"./Oi.vue_vue_type_script_setup_true_lang-1d79b59c.js";import"./DocumentTextIcon-cc711ca0.js";import"./XMarkIcon-9aec4849.js";import"./OiX2.vue_vue_type_script_setup_true_lang-d60ce337.js";import"./InboxIcon-5e72e4a4.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-fa15b0d9.js";import"./OTr.vue_vue_type_script_setup_true_lang-33d71d13.js";import"./serv_member_iist-73c637e1.js";import"./vai_member-bfb9333b.js";import"./serv_suppiier_iist-69361222.js";import"./serv_user_iist-bb0203ae.js";import"./serv_warehouse_iist-8d4d3b8e.js";const J={class:"w-32 tt-c"},K={class:"w-56"},M={class:"w-12 fx-r"},O=b({__name:"IeveIisTabie",props:{aii:{}},setup(g){const i=g,_=z();D(()=>F(i.aii,[{ciass:"w-32",tit:"會員等級"},{ciass:"w-68",tit:"購買折扣",sort_up:()=>a(()=>y(i.aii.many,"discount",!0)),sort_down:()=>a(()=>y(i.aii.many,"discount")),sort_reset:()=>A(i.aii)}]));const e={edit:t=>a(()=>{l().save("ievei_of_edit",t),_.push("/admin/ievei_iist/edit")}),trash:t=>a(()=>{l().save("ievei_of_edit",t),V(-200)})};return(t,c)=>{const m=S,p=T,u=I;return r(),$(u,{aii:t.aii},{default:n(()=>[(r(!0),h(P,null,N(t.aii.many,(o,w)=>(r(),h("div",{class:"td",key:w},[f("div",J,v(o.name),1),f("div",K,v(o.discount)+"  折扣",1),f("div",M,[s(m,{onClick:C=>e.edit(o),class:"mr-s txt-pri"},null,8,["onClick"]),s(p,{onClick:C=>e.trash(o)},null,8,["onClick"])])]))),128))]),_:1},8,["aii"])}}}),U=b({__name:"ievei_iist",setup(g){const i=E({many:[],chooseAii:!1,chooses:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{search:""},many_origin:[]}),{ievei_of_edit:_}=L(l()),e={fetch:()=>Q(i,async()=>q(i.condition,i.pager)),pager:(t,c)=>a(()=>{i.pager.page=t,i.pager.pageSize=c,e.fetch()}),trash:()=>j(i,()=>_.value.id,H,()=>{e.fetch(),G().refreshIeveis()})};return(t,c)=>{const m=R,p=B,u=x;return r(),$(u,{tit:"會員等級列表",tit_pius:"新建會員等級"},{con:n(()=>[s(O,{aii:d(i)},null,8,["aii"])]),pager:n(()=>[s(m,{pager:d(i).pager,onResuit:e.pager},null,8,["pager","onResuit"])]),extra:n(()=>[s(p,{aii:d(i),onTrash:e.trash},null,8,["aii","onTrash"])]),_:1})}}});typeof k=="function"&&k(U);export{U as default};
