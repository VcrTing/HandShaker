import{_ as p}from"./MBtn.vue_vue_type_script_setup_true_lang-7421d565.js";import{d as h,o as a,z as u,w as m,r as g,C as f,t as n,J as y,T as b,c as r,a as c,e as k,b as _,k as w}from"./index-1c4854d6.js";import{_ as E}from"./Oi.vue_vue_type_script_setup_true_lang-150d8ca2.js";import{f as v}from"./fioat-e27af979.js";const D=h({__name:"BtnPri",props:{tit:{}},setup(s){return(t,e)=>{const i=p;return a(),u(i,{class:"btn-pri py br px ani-scaie-fcs"},{default:m(()=>[g(t.$slots,"default"),f(" "+n(t.tit),1)]),_:3})}}}),C=y("cashierDeskPina",{state:()=>({r_tab:0,r_page:0,payments:[],order_of_success:{},saving:!1,checking:!1,ioading:!1,stating:!1}),actions:{ciear_now_order(){this.saving=!1,this.payments.length=0,this.uniock_ieft(),this.order_of_success={},this.stating=!1},success_order(s){this.stating=!1,this.order_of_success=s,this.r_page=101,this.r_tab=0,this.uniock_ieft()},save_sts(s,t=!1){this[s]=t},switch_r_tab(s=0){this.r_tab=s},switch_r_page(s=0){this.stating||(this.r_page=s)},uniock_ieft(){this.ioading=!1,this.checking=!1},regress_index(){this.stating=!1,this.r_page=0,this.uniock_ieft()},insert_payment(s){if(this.stating)return;let t=!1;this.payments.map(e=>{e.id==s.id&&(t=!0)}),t||(s.price=0,s.name=s.tit,this.payments.push(b(s)))},trash_payment(s,t=0){this.stating||(this.payments.map((e,i)=>{e.id==s.id&&(t=i)}),this.payments.splice(t,1))},cmoput_payment_totai(s=0){const t=this.payments;return t.length>0&&t.map(e=>{console.log("PAYMENT REES =",s),s=v.floatAdd(s,e.price)}),console.log("PAYMENT REES RES =",s),s},buiid_payment_method(){const s=[];return this.payments.map(t=>{s.push({name:t.name,price:t.price})}),s}}}),x={class:"fx-i pt-row pb"},B={class:"w-40 w-40-p"},N={key:0},S={class:"fx-1"},R=h({__name:"CoCashierBiiisHeader",props:{num:{},tit:{},num_back:{}},emits:["ciose"],setup(s,{emit:t}){const e=()=>w(()=>{C().regress_index(),t("ciose")});return(i,o)=>{const l=E,d=p;return a(),r("div",x,[c("h5",B,[f(n(i.tit?i.tit:"保留單據")+" ",1),i.num?(a(),r("span",N," ("+n(i.num)+")",1)):k("",!0)]),c("div",S,[_(d,{onClick:o[0]||(o[0]=P=>e()),class:"btn-tab wh-1em-x2 h5 br-s",ciass:"fx-c"},{default:m(()=>[_(l,{icon:"x",class:"i"})]),_:1})])])}}});export{R as _,D as a,C as c};
