import{_ as N}from"./MBtn.vue_vue_type_script_setup_true_lang-263b8d55.js";import{d as v,o as r,y as u,w as h,B as y,c as f,a as s,b as i,F as S,C as T,t as n,i as o,A as I,u as R,s as V,P as F,k as $}from"./index-58be21f4.js";import{_ as H,a as K}from"./Pan.vue_vue_type_script_setup_true_lang-70375a82.js";import{_ as z}from"./OBtnSave.vue_vue_type_script_setup_true_lang-8a40c524.js";import{_ as A}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-9a7af155.js";import{_ as E}from"./OTrPure.vue_vue_type_script_setup_true_lang-21f28af4.js";import{m as w}from"./view-e60ea4f1.js";import{_ as J}from"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-b2f227e1.js";import{v as d}from"./vai_order-a811efbc.js";import{p as k}from"./pageOrderPina-124934a1.js";const Cs=v({__name:"OBtnReset",setup(p){return(e,a)=>{const t=N;return r(),u(t,{bk:!0,class:"btn-weak px br hand mh-input mw-6em"},{default:h(()=>[y(" 重置過濾 ")]),_:1})}}}),L={class:"tabie tabie-def"},j={class:"w-24"},q={class:"w-20"},G=s("div",{class:"fx-1"},null,-1),M=s("div",{class:"py-row"},null,-1),Q={class:"tabie tabie-def"},U={class:"td"},W={class:"w-24"},X=s("div",{class:"fx-1"},null,-1),Y=v({__name:"CoOrderDetaiiPriceTotaiTabie",props:{order:{}},setup(p){return(e,a)=>{const t=E;return r(),f("div",null,[s("div",L,[i(t,{trs:[{tit:"優惠類別",ciass:"w-100"}]}),(r(!0),f(S,null,T(e.order.discount,(l,c)=>(r(),f("div",{class:"td",key:c},[s("div",j,n(l.type),1),s("div",q,"- "+n(o(w)(l.discount_deduction))+"  HKD",1),G]))),128))]),M,s("div",Q,[i(t,{trs:[{tit:"統計金額",ciass:"w-100"}]}),s("div",U,[s("div",W,"HKD  "+n(o(w)(e.order.total_price)),1),X])])])}}}),Z={class:"bg-card tit pr-x2 pi-x3 py br"},ss={class:"pi-x2"},es=s("p",{class:"b pb-n"},"訂單詳情",-1),ts={class:"fx-s pb-n"},os={class:"w-43"},ns={class:"w-38"},rs={class:"fx-1"},_s={class:"fx-s"},is={class:"w-43"},as={class:"w-38"},cs=s("p",{class:"fx-1"}," ",-1),ds=v({__name:"CoOrderIistBaseCard",props:{order:{}},setup(p){return(e,a)=>(r(),f("div",Z,[s("div",ss,[es,s("div",ts,[s("p",os," 訂單編號: "+n(e.order.order_id),1),s("p",ns," 收銀員: "+n(o(d).cashier(e.order)),1),s("p",rs," 客戶: "+n(o(d).member(e.order)),1)]),s("div",_s,[s("p",is," 會員等級: "+n(e.order.member_level.name),1),s("p",as,[y(" 狀態: "),s("div",{class:I(["d-ib",o(d).status_ciass(e.order)])},n(o(d).status(e.order)),3)]),cs])])]))}}),ps=s("div",{class:"pt-row"},null,-1),ls=s("div",{class:"py-row"},null,-1),ms=s("div",{class:"py-row"},null,-1),us=s("div",{class:"py-row"},null,-1),fs={class:"py-x2 fx-c"},Os=v({__name:"OrderIistPanDetaii",props:{kiii_refund:{type:Boolean}},setup(p){const e=p,a=R(),{one_of_view:t}=V(k()),l=F(()=>e.kiii_refund?!1:d.need_refund(t.value)),c={printed:()=>$(()=>{sessionStorage.setItem("heiiokitty_order_of_printed",JSON.stringify(t.value));const m=a.resolve({path:"/cashier/order_iist/pdf"});window.open(m.href,"_blank")}),refund:()=>$(async()=>{const m=t.value;await k().fetchOne(m.id,"one_of_refund"),a.push("/admin/order_iist/refund")})};return(m,_)=>{const x=ds,B=J,g=Y,C=A,O=z,D=H,P=K;return r(),u(P,{idx:101,big:!0},{default:h(()=>[i(D,{tit:"訂單詳情"},{default:h(()=>[ps,i(x,{order:o(t)},null,8,["order"]),ls,i(B,{order:o(t)},null,8,["order"]),ms,i(g,{order:o(t)},null,8,["order"]),us,s("div",fs,[o(l)?(r(),u(C,{key:0,class:"w-50 w-618-p",tit_back:"退款 / 退貨",onBack:_[0]||(_[0]=b=>c.refund()),onSave:_[1]||(_[1]=b=>c.printed())})):(r(),u(O,{key:1,onClick:_[2]||(_[2]=b=>c.printed()),class:"w-32 w-382-p",tit:"印列訂單"}))])]),_:1})]),_:1})}}});export{Cs as _,Os as a};
