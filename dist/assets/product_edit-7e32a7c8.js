import{_ as ct,a as lt,b as ut,c as pt,d as mt,e as dt,s as ft,f as vt,g as ht}from"./serv_product_opera-75d9fca0.js";import{_ as A}from"./OBtnSave.vue_vue_type_script_setup_true_lang-97f67d50.js";import{_ as $t}from"./scroiiy-aff3b181.js";import{d as h,f as tt,s as $,g,n as G,o as p,c as f,b as e,w as m,i as a,a as r,j as U,m as O,p as j,k as b,l as z,h as x,r as bt,B,a1 as yt,e as M,I as st,y as E,z as gt,A as V,t as y,F as q,a8 as L,C as K,ag as I,a9 as Q,S as N,N as kt,H as X,an as ot,ao as wt,V as nt,G as H,D as xt,$ as R,T as Pt,u as Tt,ab as qt}from"./index-233090d3.js";import{pageProducEditPina as k}from"./pageProducEditPina-a7e353ab.js";import{_ as Ct}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-3131b297.js";import{d as It,s as Et,e as Vt,f as Bt,c as Ft,a as Nt,b as St}from"./ProduInvInStockInner.vue_vue_type_script_setup_true_lang-cce71154.js";import{a as S,_ as D}from"./Pan.vue_vue_type_script_setup_true_lang-e952513b.js";import{_ as it}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-da65123c.js";import{pageProductInstockPina as F}from"./pageProductInstockPina-17c10fce.js";import{b as Dt}from"./product_trs-90c9b010.js";import{a as et,_ as Ut}from"./CoProdMsgTiny.vue_vue_type_script_setup_true_lang-c63b039f.js";import{s as Ot,a as jt}from"./serv_bad_opera-98f63d1d.js";import{_ as zt}from"./OInputI.vue_vue_type_script_setup_true_lang-b0fa7011.js";import{_ as Mt}from"./OTime.vue_vue_type_script_setup_true_lang-cf39b8e2.js";import{_ as W}from"./OInput.vue_vue_type_script_setup_true_lang-e9aa909f.js";import{a as Ht}from"./CoWarehouseSeiectPure.vue_vue_type_script_setup_true_lang-3e44fda8.js";import{_ as Rt}from"./CoWarehouseSeiect.vue_vue_type_script_setup_true_lang-35d86ae1.js";import{_ as at}from"./OModTrash.vue_vue_type_script_setup_true_lang-0340a1ee.js";import{_ as At}from"./itembdwrapper.vue_vue_type_script_setup_true_lang-6b478b86.js";import{_ as Gt}from"./MBtn.vue_vue_type_script_setup_true_lang-1821e772.js";import{_ as Lt}from"./BtnIcon.vue_vue_type_script_setup_true_lang-957dfd9f.js";import{_ as Wt}from"./IayoutForm.vue_vue_type_script_setup_true_lang-c2e28b9b.js";import{i as Y,_ as Jt}from"./iabeiPina-56e499d3.js";import{_ as Kt}from"./ProduNewInstockTabie.vue_vue_type_script_setup_true_lang-6377fbc9.js";import{pageProductPina as Qt}from"./pageProductPina-800927c3.js";import{b as Z}from"./route-block-83d24a4e.js";import"./OBtnInOrder.vue_vue_type_script_setup_true_lang-8b661e65.js";import"./DocumentTextIcon-53c61152.js";import"./OBtnPius.vue_vue_type_script_setup_true_lang-69f379d1.js";import"./PlusCircleIcon-0cb5443a.js";import"./BtnTrash.vue_vue_type_script_setup_true_lang-fb8aa991.js";import"./XMarkIcon-d25c9620.js";import"./Cardmsg.vue_vue_type_script_setup_true_lang-0bda9843.js";import"./errors_product-d5275ad5.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-ca3f817e.js";import"./OIoadCir.vue_vue_type_script_setup_true_lang-e9ef19a5.js";import"./serv_iabei_with_product-cc2f805c.js";import"./utii-6216784a.js";import"./serv_product_iist-27f2a682.js";import"./serv_variation_with_product-8442e2dd.js";import"./BtnTab.vue_vue_type_script_setup_true_lang-3fb5c282.js";import"./giobaiPina-3b8eb247.js";import"./serv_suppiier_iist-a87c4e39.js";import"./serv_user_iist-0bf73569.js";import"./serv_warehouse_iist-7caafa56.js";import"./OTrPure.vue_vue_type_script_setup_true_lang-0f62790c.js";import"./view-3a972bd6.js";import"./CoSuppiierSeiectPure.vue_vue_type_script_setup_true_lang-7f690e84.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-ff6f732e.js";import"./OTabieTrash-8248a7e0.js";import"./OTabieEdit.vue_vue_type_script_setup_true_lang-aa6d1fdc.js";import"./Oi.vue_vue_type_script_setup_true_lang-7e417e5d.js";import"./InboxIcon-686eb3c3.js";import"./OTr.vue_vue_type_script_setup_true_lang-c621ed41.js";import"./datepicker.esm-ef1153af.js";import"./OTabieEmptyTwo.vue_vue_type_script_setup_true_lang-e1fcc25c.js";import"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-873e0051.js";import"./choiseOnePina-ff62ed39.js";import"./ModInner.vue_vue_type_script_setup_true_lang-e99e4bb8.js";import"./BtnIconX2.vue_vue_type_script_setup_true_lang-0c9a90b4.js";import"./OiX2.vue_vue_type_script_setup_true_lang-d4362cc5.js";const Xt=r("h3",{class:"py-x3 mb"},"添加入貨信息(僅加貨)",-1),Yt=h({__name:"ProduInvInStock",setup(v){const t=tt(),{pag:i,one_of_edit:s}=$(k()),o=g({ioading:!1,msg:"",can:!1,sign:0}),n={submit:()=>U(o,t.value.buiid,async _=>{if(_){const c=await Et(_);O(c)?j(c,o):n.success()}}),success:()=>b(async()=>{z("產品入貨成功！！！"),await k().refreshOneOfEdit(),n.back()}),back:()=>b(()=>{i.value=0}),init:()=>b(()=>{const _=s.value;_.id?t.value.setv(_.new_restock_price,_.new_lowest_price,_.new_selling_price):i.value=0})};return G(n.init),(_,c)=>{const u=Ct;return p(),f("section",null,[Xt,e(It,{aii:a(o),ref_key:"inner",ref:t,onSubmit:n.submit},{default:m(()=>[e(u,{aii:a(o),ciass:"w-100",tit_save:"儲存",onBack:c[0]||(c[0]=l=>n.back()),onSave:c[1]||(c[1]=l=>n.submit())},null,8,["aii"])]),_:1},8,["aii","onSubmit"])])}}}),Zt={class:"ps-r"},ts={key:0,class:"prod-pag-wrapper abs-t i-0 r-0 b-0 bg-con zi-x2 ani-softer"},ss=h({__name:"ProductPagWrapper",setup(v){const{pag:t}=$(k());t.value=0;const i=tt(!1);return x(t,s=>s==0?i.value=!1:i.value=!0),(s,o)=>{const n=$t;return p(),f("div",Zt,[r("div",null,[bt(s.$slots,"default")]),a(i)?(p(),f("div",ts,[B(e(n,{class:"h-iayout h-iayout-max"},{default:m(()=>[e(Yt)]),_:1},512),[[yt,a(t)>0]])])):M("",!0)])}}}),os={class:"pb-x3"},rt=h({__name:"PeppTabie",setup(v){const t=g({msg:"",many:[],trashIdx:0,pager:{},ioading:!1,trs:[]}),{inventory_and_variation_of_view:i}=$(F()),s={edit:()=>{},cancei:()=>{},sureTrash:()=>{},effect:()=>{i.value.map((o,n)=>{o.idx=n,t.many.push(o)})}};return st(s.effect),(o,n)=>{const _=it;return p(),f("div",os,[e(_,{aii:a(t),mini:!0},{default:m(()=>[e(Vt,{aii:a(t),funn:s,kiii_option:!0},null,8,["aii"])]),_:1},8,["aii"])])}}}),ns=r("h5",{class:"py-x2"},"樣式及庫存分配數量",-1),is=h({__name:"ProductEditPanPriview",setup(v){return(t,i)=>{const s=D,o=S;return p(),E(o,{idx:112,big:!0},{default:m(()=>[e(s,{tit:"檢視 / 編輯"},{default:m(()=>[ns,e(rt)]),_:1})]),_:1})}}}),es={class:"w-50"},as={class:"w-50"},_t=h({__name:"PepiTabie",setup(v){const t=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),{variations_of_inventory_of_store:i}=$(F());return G(()=>gt(t,Dt)),(s,o)=>{const n=it;return p(),E(n,{aii:a(t),mini:!0},{default:m(()=>[(p(!0),f(q,null,V(a(i),(_,c)=>(p(),f("div",{class:"td",key:c},[r("div",es,y(_.name),1),r("div",as,y(_.quantity),1)]))),128))]),_:1},8,["aii"])}}}),rs=r("h5",{class:"py-x2"},"樣式",-1),_s=r("h5",{class:"py-x2"},"倉庫",-1),cs=h({__name:"ProductEditPanInstock",setup(v){return(t,i)=>{const s=D,o=S;return p(),E(o,{idx:111,big:!0},{default:m(()=>[e(s,{tit:"入貨詳情"},{default:m(()=>[rs,e(rt),_s,e(_t)]),_:1})]),_:1})}}}),ls={class:"py-x2"},us=h({__name:"ProductEditPanInventory",setup(v){const{inventory_of_store:t}=$(F());return(i,s)=>{const o=D,n=S;return p(),E(n,{idx:110,big:!0},{default:m(()=>[e(o,{tit:"庫存詳情"},{default:m(()=>[r("h5",ls,y(a(t).storehouse_name),1),e(_t)]),_:1})]),_:1})}}}),ps={class:"pb-x2"},ms=r("div",{class:"py b"},"壞貨數量",-1),ds={class:"o-form"},fs=h({__name:"PepbForm",props:{form:{},aii:{}},setup(v){const t=v,i=["quantity","storehouse_id","date"],s=g(L(t.form));return x(()=>t.aii.sign,()=>{let o=!0;t.aii.can=!1,i.map(n=>{I(s,n,t.form[n],t.aii)&&(t.aii.can=!1,o=!1)}),t.aii.can=o}),x(()=>t.form.date,o=>I(s,"date",o,t.aii)),x(()=>t.form.quantity,o=>I(s,"quantity",o,t.aii)),x(()=>t.form.storehouse_id,o=>I(s,"storehouse_id",o,t.aii)),(o,n)=>{const _=et,c=Ht,u=W,l=Mt,d=zt;return p(),f(q,null,[r("div",ps,[ms,e(_,{form:o.form,pk:"quantity",err:a(s).quantity},null,8,["form","err"])]),r("div",ds,[r("div",null,[e(u,{tit:"壞貨位置",err:a(s).storehouse_id},{default:m(()=>[e(c,{form:o.form,pk:"storehouse_id"},null,8,["form"])]),_:1},8,["err"])]),r("div",null,[e(d,{tit:"添加日期",err:a(s).date,icon:"date"},{default:m(()=>[e(l,{form:o.form,pk:"date",class:"input-timed-for-pan"},null,8,["form"])]),_:1},8,["err"])]),r("div",null,[e(u,{tit:"壞貨備註"},{default:m(()=>[B(r("textarea",{placeholder:"請輸入","onUpdate:modelValue":n[0]||(n[0]=P=>o.aii.remarks=P),rows:"12"},null,512),[[K,o.aii.remarks]])]),_:1})])])],64)}}}),vs={class:"o-form"},hs=r("option",{value:""},"-- 請選擇 --",-1),$s=["value"],bs=h({__name:"PepbFormStyie",props:{form:{},aii:{}},setup(v){const t=v,i=["variation"],{product_variations:s}=$(k()),o=g(L(t.form));return x(()=>t.aii.sign,()=>{let n=!0;i.map(_=>{I(o,_,t.form[_],t.aii)&&(t.aii.can=!1,n=!1)}),t.aii.can=n}),x(()=>t.form.variation,n=>I(o,"variation",n,t.aii)),(n,_)=>{const c=W;return p(),f("div",vs,[e(c,{tit:"樣式",err:a(o).variation},{default:m(()=>[B(r("select",{"onUpdate:modelValue":_[0]||(_[0]=u=>n.form.variation=u)},[hs,(p(!0),f(q,null,V(a(s),(u,l)=>(p(),f("option",{key:l,value:u.id},y(u.name),9,$s))),128))],512),[[Q,n.form.variation]])]),_:1},8,["err"])])}}}),ys=r("div",{class:"py-row"},null,-1),gs=h({__name:"ProductEditPanBad",setup(v){const{one_of_edit:t}=$(k()),i=g({ioading:!1,msg:"",can:!1,sign:0}),s=g({quantity:0,storehouse_id:0,date:"",remarks:"",variation:"",product_id:""}),o={buiid:()=>(s.product_id=t.value.id,i.can?s:null),submit:()=>U(i,o.buiid,async n=>{if(n){let _=await Ot(n);O(_)?j(_,i):o.success()}}),success:()=>b(()=>{z("壞貨資料新增成功。"),N(0),setTimeout(()=>kt({quantity:0},s),400)})};return(n,_)=>{const c=Ut,u=A,l=D,d=S;return p(),E(d,{idx:120},{default:m(()=>[e(l,{tit:"壞貨"},{default:m(()=>[e(c,{num:a(t).product_id,named:a(t).name},null,8,["num","named"]),e(bs,{class:"pt-x3",form:a(s),aii:a(i)},null,8,["form","aii"]),e(fs,{form:a(s),aii:a(i)},null,8,["form","aii"]),ys,e(u,{aii:a(i),onClick:_[0]||(_[0]=P=>o.submit()),tit:"儲存",class:"w-100"},null,8,["aii"])]),_:1})]),_:1})}}}),ks={class:"o-form"},ws={class:"o-form-pan"},xs=r("h5",null,"樣式",-1),Ps=["value"],Ts={class:"o-form-pan"},qs=r("h5",null,"入貨倉庫",-1),Cs={class:"o-form-pan"},Is=r("h5",null,"調貨數量",-1),Es={class:"pb-x2"},Vs=h({__name:"PepdFormHouse",props:{form:{},aii:{},max:{}},setup(v){const t=v,i=["variation","storehouse_to","quantity"],s=g(L(t.form)),{product_variations:o}=$(k());return x(()=>t.aii.sign,()=>{let n=!0;i.map(_=>{I(s,_,t.form[_],t.aii)&&(n=!1)}),t.aii.can=n}),x(()=>t.form.variation,n=>I(s,"variation",n,t.aii)),x(()=>t.form.storehouse_to,n=>I(s,"storehouse_to",n,t.aii)),x(()=>t.form.quantity,n=>I(s,"quantity",n,t.aii)),(n,_)=>{const c=W,u=Rt,l=et;return p(),f("div",ks,[r("div",ws,[xs,e(c,{tit:"樣式",err:a(s).variation},{default:m(()=>[B(r("select",{"onUpdate:modelValue":_[0]||(_[0]=d=>n.form.variation=d)},[(p(!0),f(q,null,V(a(o),(d,P)=>(p(),f("option",{key:P,value:d.id},y(d.name),9,Ps))),128))],512),[[Q,n.form.variation]])]),_:1},8,["err"])]),r("div",Ts,[qs,e(c,{tit:"入貨倉庫",err:a(s).storehouse_to},{default:m(()=>[e(u,{pure:!0,except:n.form.storehouse_from,form:n.form,pk:"storehouse_to"},null,8,["except","form"])]),_:1},8,["err"])]),r("div",Cs,[Is,r("p",Es,"最大調貨數:  "+y(n.max),1),e(l,{form:n.form,pk:"quantity",err:a(s).quantity,max:n.max},null,8,["form","err","max"])])])}}}),Bs={class:"px-row py"},Fs={class:"o-form-pan pt-x2 pb"},Ns=r("h5",{class:"pb-s"},"產品數量",-1),Ss={class:"w-50"},Ds={class:"w-50"},Us=r("div",{class:"py-row"},null,-1),Os=r("div",{class:"py-row"},null,-1),js=h({__name:"ProductEditPanDepioy",setup(v){const t=g({ioading:!1,msg:"",can:!1,sign:0}),i=g({quantity:0,variation:0,storehouse_to:0,storehouse_from:0}),{one_of_edit:s}=$(k()),{store_of_transtock:o,variations_of_store_of_transtock:n}=$(F()),_=X(()=>{let l=i.variation;return l?ot(l,n.value,"id"):{quantity:0}}),c=X(()=>_.value.quantity),u={buiid:()=>{const l=i;return i.quantity<=0?(t.can=!1,null):t.can?l:null},submit:()=>U(t,u.buiid,async l=>{if(l){const d=await Bt(s.value.id,l);O(d)?j(d,t):u.success()}}),success:()=>b(async()=>{z("產品調貨成功！！！"),await k().refreshOneOfEdit(),N(0)}),init:()=>b(()=>{i.storehouse_to=0;const l=wt(n.value,"id");i.storehouse_from=o.value.storehouse_id,i.variation=nt(l)})};return st(u.init),(l,d)=>{const P=A,w=D,T=S;return p(),E(T,{idx:125},{default:m(()=>[e(w,{tit:"調貨"},{default:m(()=>[r("div",Bs,[r("div",null,"出貨倉庫: "+y(a(o).storehouse_name),1)]),r("div",Fs,[Ns,(p(!0),f(q,null,V(a(n),(C,J)=>(p(),f("div",{key:J,class:"px-row fx-i py-s"},[r("div",Ss,y(C.name),1),r("div",Ds,y(C.quantity),1)]))),128))]),e(Vs,{class:"pt-x2",form:a(i),aii:a(t),max:a(c)},null,8,["form","aii","max"]),Us,e(P,{aii:a(t),onClick:d[0]||(d[0]=C=>u.submit()),tit:"確定",class:"w-100 mt"},null,8,["aii"]),Os]),_:1})]),_:1})}}}),zs={class:"i abs-r mr"},Ms={class:"pt-row"},Hs=r("p",null,"數量",-1),Rs={class:"py-s"},As=r("p",null,"壞貨位置",-1),Gs={class:"sut py-s"},Ls=r("p",null,"添加日期",-1),Ws={class:"sut py-s"},Js=r("p",null,"壞貨備註",-1),Ks={class:"sut pt-s"},Qs=h({__name:"CoProduBaDetaiiCard",props:{broken:{},ciose:{type:Boolean}},emits:["trash","ciose"],setup(v){return(t,i)=>{const s=Lt,o=Gt,n=At;return p(),E(n,{class:"px-row ps-r"},{default:m(()=>[r("div",zs,[t.ciose?(p(),E(o,{key:1,class:"fx-aii-weak br-s ani-scaie-aii",bk:!0,onClick:i[1]||(i[1]=_=>t.$emit("ciose",t.broken))},{default:m(()=>[H(" 撤銷 ")]),_:1})):(p(),E(s,{key:0,class:"h5",onClick:i[0]||(i[0]=_=>t.$emit("trash",t.broken)),ciass_i:"txt-err h3",icon:"trash"}))]),r("div",Ms,[Hs,r("p",Rs,y(t.broken.quantity),1)]),r("div",null,[As,r("p",Gs,y(t.broken.storehouse_name),1)]),r("div",null,[Ls,r("p",Ws,y(t.broken.date),1)]),r("div",null,[Js,r("p",Ks,y(t.broken.remarks),1)])]),_:1})}}}),Xs=r("div",{class:"pt"},null,-1),Ys={class:"px-row pb"},Zs={class:"fs-n"},to={class:"pb-x2 pt-x3"},so=r("div",{class:"py-row"},null,-1),oo=h({__name:"ProductEditPanBadDetaii",setup(v){const{one_of_edit:t}=$(k()),{broken_of_view:i}=$(F()),s=g({ioading:!1,msg:"",trashing:!1}),o={sureTrash:()=>b(()=>{s.trashing=!0}),trash:()=>b(()=>{}),submit:()=>U(s,()=>({}),async n=>{if(s.trashing){const _=i.value.id,c=await jt(_);O(c)?j(c,s):(z("壞貨資料刪除成功。"),N(0))}else N(0)})};return(n,_)=>{const c=Qs,u=A,l=D,d=S,P=at;return p(),f(q,null,[e(d,{idx:121},{default:m(()=>[e(l,{tit:"壞貨詳情"},{default:m(()=>[Xs,r("div",Ys,[r("div",null,"產品編號:  "+y(a(t).product_id),1),r("div",Zs,"產品名稱:  "+y(a(t).name),1)]),r("div",to,[e(c,{class:xt({"bg-con-x2":a(s).trashing}),ciose:a(s).trashing,broken:a(i),onCiose:_[0]||(_[0]=w=>a(s).trashing=!1),onTrash:_[1]||(_[1]=w=>o.sureTrash())},null,8,["class","ciose","broken"])]),so,e(u,{onClick:_[2]||(_[2]=w=>o.submit()),tit:"儲存",class:"w-100"})]),_:1})]),_:1}),e(P,{aii:a(s),idx:-205,onTrash:_[3]||(_[3]=w=>o.trash())},null,8,["aii"])],64)}}}),no=h({__name:"ProductEditPans",setup(v){const t=k();return R(0),(i,s)=>(p(),f(q,null,[e(ct,{pina:a(t)},null,8,["pina"]),e(lt,{pina:a(t)},null,8,["pina"]),e(is),e(cs),e(us),e(js),e(gs),e(oo)],64))}}),io={class:"o-form"},eo=h({__name:"ProduCePrice",props:{form:{},aii:{},edit:{type:Boolean}},setup(v){const t=v,i=g(L(t.form));return x(()=>t.form.new_selling_price,s=>{i.new_selling_price=isNaN(parseFloat(parseFloat(s).toFixed(2)))}),x(()=>t.form.new_lowest_price,s=>{i.new_lowest_price=isNaN(parseFloat(parseFloat(s).toFixed(2)))}),(s,o)=>{const n=W;return p(),f("div",io,[e(n,{tit:"最新最低價錢",err:a(i).new_lowest_price},{default:m(()=>[B(r("input",{type:"number","onUpdate:modelValue":o[0]||(o[0]=_=>s.form.new_lowest_price=_),placeholder:"請輸入正數（保留兩位小數點）"},null,512),[[K,s.form.new_lowest_price]])]),_:1},8,["err"]),e(n,{tit:"最新售價",err:a(i).new_selling_price},{default:m(()=>[B(r("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=_=>s.form.new_selling_price=_),placeholder:"請輸入正數（保留兩位小數點"},null,512),[[K,s.form.new_selling_price]])]),_:1},8,["err"])])}}}),ao={class:"py"},ro={class:"py-s"},_o=["onUpdate:modelValue"],co=["value"],lo=h({__name:"ProduCeTagsEdit",props:{labels_exist:{},labels:{}},setup(v){const t=v,{many:i}=$(Y()),s=g({activeId:0,ioading:!1,msg:""}),o=k(),{one_of_edit:n}=$(o),_={pius:()=>b(()=>{if(i.value.length>0){const c=i.value[0];c.id&&o.pius_iabei(c.id)}else Pt("沒有一個可用標籤，請先新增標籤。")}),init:()=>b(()=>{Y().refreshMany()}),sureTrash:c=>b(()=>{R(-202),s.activeId=nt(c)}),trash:()=>b(async()=>{await o.tag_trash(n.value.id,s.activeId)&&(t.labels_exist.map((u,l)=>{u==s.activeId&&o.trash_iabei_exist(l)}),s.activeId=0),R(0)})};return G(_.init),(c,u)=>{const l=Jt,d=ut,P=at;return p(),f("div",null,[e(l,{class:"pb",tit:"標籤",tit_pius:"添加標籤",onTap:u[0]||(u[0]=w=>_.pius())}),r("div",ao,[(p(!0),f(q,null,V(c.labels_exist,(w,T)=>(p(),f("div",{class:"pb-x2 ani-fade-b",key:T},[e(d,{class:"ani-scaie-hv",iive:!0,tit:"已存在的標籤",onTap:C=>_.sureTrash(w)},{default:m(()=>[r("div",ro,y(a(ot)(w,a(i),"id").name),1)]),_:2},1032,["onTap"])]))),128)),(p(!0),f(q,null,V(c.labels,(w,T)=>(p(),f("div",{class:"pb-x2 ani-fade-b",key:T},[e(d,{tit:"新加入的標籤",onTap:C=>a(o).trash_iabei(T)},{default:m(()=>[B(r("select",{"onUpdate:modelValue":C=>c.labels[T]=C},[(p(!0),f(q,null,V(a(i),(C,J)=>(p(),f("option",{key:J,value:C.id},y(C.name),9,co))),128))],8,_o),[[Q,c.labels[T]]])]),_:2},1032,["onTap"])]))),128))]),e(P,{aii:a(s),idx:-202,onTrash:u[1]||(u[1]=w=>_.trash()),msg:"此次操作系聯網操作，您確定要移除該標籤嗎？"},null,8,["aii"])])}}}),uo=r("div",{class:"pt"},null,-1),po={class:"py"},mo=r("h5",{class:"pb-x2"},"價格",-1),fo=r("div",{class:"py"},null,-1),vo={key:0,class:"py-x2"},ho={key:1,class:"py-x2"},$o={key:2,class:"py-x2"},bo=r("div",{class:"py-x2"},null,-1),yo=h({__name:"ProductEditIeft",props:{aii:{}},setup(v){const t=k(),{remarks:i,labels_exist:s,labels:o,base:n,variations:_}=$(t);return(c,u)=>{const l=Wt;return p(),f("div",null,[e(l,{tit:"編輯產品",back:!0},{default:m(()=>[uo,e(pt,{form:a(n),aii:c.aii,edit:!0},null,8,["form","aii"])]),_:1}),r("div",po,[mo,e(eo,{form:a(n),aii:c.aii},null,8,["form","aii"])]),fo,e(lo,{class:"pt-s",labels:a(o),labels_exist:a(s)},null,8,["labels","labels_exist"]),H(),a(s).length<=0?(p(),f("div",vo)):M("",!0),e(mt,{class:"pt-s",edit:!0,pina:a(t),variations:a(_)},null,8,["pina","variations"]),H(),a(_).length<=0?(p(),f("div",ho)):M("",!0),e(dt,{class:"pt-s",pina:a(t),remarks:a(i)},null,8,["pina","remarks"]),H(),a(i).length<=0?(p(),f("div",$o)):M("",!0),bo])}}}),go=h({__name:"ProduWarehouseTabie",props:{aii:{}},setup(v){const{one_of_edit:t}=$(k()),i={view:s=>b(()=>{F().save("inventory_of_store",s),N(110)}),transtock:s=>b(()=>{F().save("store_of_transtock",s),N(125)})};return(s,o)=>{const n=Ft;return p(),E(n,{aii:s.aii,one_of_edit:a(t),onView:i.view,onTranstock:i.transtock},null,8,["aii","one_of_edit","onView","onTranstock"])}}}),ko=r("div",{class:"py-row"},null,-1),wo=r("div",{class:"py-row"},null,-1),xo=r("div",{class:"py-row"},null,-1),Po=h({__name:"ProductEditRight",setup(v){const{one_of_edit:t}=$(k()),i=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),s=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),o=g({msg:"",many:[{}],pager:{},ioading:!1,trs:[]});return(n,_)=>{const c=St;return p(),f("div",null,[ko,e(Kt,{aii:a(o),one_of_edit:a(t),kiii_option:!0},null,8,["aii","one_of_edit"]),wo,e(go,{aii:a(s)},null,8,["aii"]),xo,e(Nt,{aii:a(i),one_of_edit:a(t)},null,8,["aii","one_of_edit"]),e(c,{one_of_edit:a(t)},null,8,["one_of_edit"])])}}}),To=h({__name:"product_edit",setup(v){const t=Tt(),i=k(),s=g({ioading:!1,msg:"",can:!1,sign:0,search:""}),{one_of_edit:o,variations:n,labels:_}=$(i),c={buiid:()=>{const u=k().form();return qt(["name","create_date"],u)&&s.can?u:null},success:()=>{z("產品修改成功！！！"),i.ciear(),c.dump(0),t.back()},submit:()=>U(s,c.buiid,async u=>{c.iabei_deai(),await c.variation_deai();const l=await ft(u,o.value.id);O(l)?j(l,s):c.success()}),iabei_deai:()=>b(async()=>{const u=_.value,l=o.value.id;for(let d=0;d<u.length;d++)await i.tag_pius(l,u[d])}),variation_deai:async()=>{const u=n.value;for(let l=0;l<u.length;l++){const d=u[l];d.name&&(d.id?await i.variation_edit(d.name,d.id):await i.variation_add(d.name,o.value.id))}},dump:u=>b(()=>{i.switch_pag(u||0)}),init:()=>b(()=>{R(0),Qt().ciear(),o.value.id||t.back()})};return G(c.init),(u,l)=>{const d=A,P=vt,w=ht;return p(),f(q,null,[e(ss,null,{default:m(()=>[e(w,null,{ieft:m(()=>[e(yo,{aii:a(s)},null,8,["aii"])]),ieft_bottom:m(()=>[e(d,{aii:a(s),onClick:l[0]||(l[0]=T=>c.submit()),class:"w-100",tit:"儲存"},null,8,["aii"])]),right:m(()=>[e(P,{class:"fx-s",onInbad:l[1]||(l[1]=T=>c.dump(2)),onInstock:l[2]||(l[2]=T=>c.dump(1)),onInorder:l[3]||(l[3]=T=>c.dump(3))}),e(Po)]),_:1})]),_:1}),e(no)],64)}}});typeof Z=="function"&&Z(To);export{To as default};
